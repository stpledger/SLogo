if (self.CavalryLogger) { CavalryLogger.start_js(["IF5B2"]); }

__d("MessengerThreadlistRowActionsReact.bs",["cx","fbt","Keys.bs","bs_block","bs_curry","React","Utils.bs","gkx","MercuryIDs","AsyncDialog","CurrentUser","ReasonReact.bs","joinClasses","AsyncRequest","bs_js_primitive","MessengerDialogs.bs","MercuryThreadIDMap","MessengerMenuReact.bs","MessengerBlockDialogReact.bs","MessengerPopoverMenuReact.bs","MessengerIgnoreDialogReact.bs","MessengerMuteDialogBootloaderReact.bs","XNFXStartForMessageThreadController","MessengerDeleteDialogBootloaderReact.bs","MessengerMarkSpamDialogBootloaderReact.bs","MNCommerceReportConversationDialogReact.bs"],(function aa(ba,a,ca,da,ea,b,fa,c){"use strict";__p&&__p();function d(k){if(k)return 0;else return a("MessengerDialogs.bs").removeDialog(0)}function e(k){k.preventDefault();k.stopPropagation();return 0}var f=a("ReasonReact.bs").reducerComponentWithRetainedProps("MessengerThreadlistRowActionsReact"),g="_5blh _4-0h",h="_5blh _4-0h _4-0i";function i(k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,ga){__p&&__p();var L=k?k[0]:"",M=function M(){return a("MessengerDialogs.bs").showDialog(function(){return a("ReasonReact.bs").element(0,0,a("MessengerDeleteDialogBootloaderReact.bs").make(s,t,d,[]))})},N=function N(){if(o)return a("bs_curry")._1(B,0);else return a("MessengerDialogs.bs").showDialog(function(){return a("ReasonReact.bs").element(0,0,a("MessengerMuteDialogBootloaderReact.bs").make(y,d,[]))})},O=function O(){if(q)return a("bs_curry")._1(v,0);else return a("bs_curry")._1(x,0)},P=function P(){return a("MessengerDialogs.bs").showDialog(function(){return a("ReasonReact.bs").element(0,0,a("MessengerMarkSpamDialogBootloaderReact.bs").make(w,d,[]))})},Q=function Q(){return a("MessengerDialogs.bs").showDialog(function(){return a("ReasonReact.bs").element(0,0,a("MessengerIgnoreDialogReact.bs").make(C,d,l,K.thread_fbid,+a("MercuryIDs").isGroupChat(K.thread_id),[]))})},R=function R(){if(r)return a("bs_curry")._1(E,0);else return a("MessengerDialogs.bs").showDialog(function(){return a("ReasonReact.bs").element(0,0,a("MessengerBlockDialogReact.bs").make(D,d,l,K.thread_fbid,[]))})},S=function S(){var W=a("MercuryThreadIDMap").get();W.getServerIDFromClientID(K.thread_id,function(X){a("AsyncDialog").send(new(a("AsyncRequest"))(a("XNFXStartForMessageThreadController").getURIBuilder().setString("thread_fbid",X).getURI()));return 0});return 0},T=function T(){var W=K.other_user_fbid;if(W==null)return 0;else return a("MessengerDialogs.bs").showDialog(function(){return a("ReasonReact.bs").element(0,0,a("MNCommerceReportConversationDialogReact.bs").make(W,[]))})},U=function U(){return[Q,R,M,O,P,N,T,S]},V=f.slice();V[8]=function(W){var X=W[1],Y=W[0];if(X[2]||X[2]!==Y[2])return 1;else return+(X[1]!==Y[1])};V[9]=function(W){__p&&__p();var X=W[1];if(p){var Y=n!==0?m!==0?c._("Leave Chat"):c._("Leave Room"):c._("Leave Group"),ha=c._("Ignore Messages"),ia=r!==0?c._("Unblock Messages"):c._("Block Messages"),Z=a("Utils.bs").isSomeTrue(H),ja=a("Utils.bs").isSomeTrue(H),ka=a("Utils.bs").isSomeTrue(I),la=a("Utils.bs").isSomeTrue(I),ma=1-+a("CurrentUser").isWorkUser()&&1-r&&(G||+(K.folder==="inbox"&&a("MercuryIDs").isGroupChat(K.thread_id)&&a("gkx")("AT4mycXtTvfXJMAqrd_BSmI0_EEB-8pOs_AaNI2VArui1ThGLeffrrAudIg_2uctK6Ji6Zom3olu5BpcCU5_nD4U"))),na=1-+a("CurrentUser").isWorkUser()&&G,oa=a("ReasonReact.bs").element(0,0,a("MessengerMenuReact.bs").Menu[0]([Z!==0?a("ReasonReact.bs").element(0,0,a("MessengerMenuReact.bs").MenuItem[0](0,c._("Rename"),z,0,[])):null,ja!==0?a("ReasonReact.bs").element(0,0,a("MessengerMenuReact.bs").MenuSeparator[0]([])):null,a("ReasonReact.bs").element(0,0,a("MessengerMenuReact.bs").MenuItem[0](0,o!==0?c._("Unmute"):c._("Mute"),[X[5]],0,[])),a("ReasonReact.bs").element(0,0,a("MessengerMenuReact.bs").MenuSeparator[0]([])),F!==0?a("ReasonReact.bs").element(0,0,a("MessengerMenuReact.bs").MenuItem[0](0,Y,u,0,[])):null,a("ReasonReact.bs").element(0,0,a("MessengerMenuReact.bs").MenuItem[0](0,c._("Archive"),[s],0,[])),a("ReasonReact.bs").element(0,0,a("MessengerMenuReact.bs").MenuItem[0](0,c._("Delete"),[X[2]],0,[])),a("ReasonReact.bs").element(0,0,a("MessengerMenuReact.bs").MenuSeparator[0]([])),a("ReasonReact.bs").element(0,0,a("MessengerMenuReact.bs").MenuItem[0](0,q!==0?c._("Mark as Read"):c._("Mark as Unread"),[X[3]],0,[])),ka!==0?null:a("ReasonReact.bs").element(0,0,a("MessengerMenuReact.bs").MenuItem[0](0,c._("Mark as Spam"),[X[4]],0,[])),la!==0?a("ReasonReact.bs").element(0,0,a("MessengerMenuReact.bs").MenuItem[0](0,c._("Report..."),[X[6]],0,[])):a("ReasonReact.bs").element(0,0,a("MessengerMenuReact.bs").MenuItem[0](0,c._("Report Spam or Abuse..."),[X[7]],0,[])),ma!==0?a("ReasonReact.bs").element(0,0,a("MessengerMenuReact.bs").MenuItem[0](0,ha,[X[0]],0,[])):null,na!==0?a("ReasonReact.bs").element(0,0,a("MessengerMenuReact.bs").MenuItem[0](0,ia,[X[1]],0,[])):null])),pa=+(L===""),qa=pa!==0?h:a("joinClasses")(L,h);return a("React").createElement("div",{className:"_3d85"},a("ReasonReact.bs").element(0,[function($){return a("bs_curry")._1(W[3],[$==null?0:[$]])}],a("MessengerPopoverMenuReact.bs").make(0,[1],[p],oa,[function(){return a("bs_curry")._1(W[3],1)}],0,[a("React").cloneElement(a("React").createElement("div",{ref:"button",className:qa,role:"button",tabIndex:0,onClick:e}),{"aria-label":c._("Conversation actions")})])))}else{var ra=+(L===""),sa=ra!==0?g:a("joinClasses")(L,g);return a("React").createElement("div",{className:"_3d85"},a("React").cloneElement(a("React").createElement("div",undefined),{"aria-label":c._("Conversation actions"),className:sa,onClick:function $(){return a("bs_curry")._1(W[3],0)},onKeyUp:function $(ta){var Z=+(ta.keyCode===a("Keys.bs").$$return);return a("bs_curry")._1(W[3],Z!==0?0:2)},role:"button",ref:"button",tabIndex:J}))}};V[10]=U;V[11]=p;V[12]=function(W,ga){__p&&__p();if(typeof W==="number")switch(W){case 0:return a("bs_block").__(4,[[Q,R,M,O,P,N,T,S],function(){return a("bs_curry")._1(A,true)}]);case 1:return a("bs_block").__(2,[function(){return a("bs_curry")._1(A,false)}]);case 2:return 0}else{var X=W[0];if(X){var Y=X[0];return a("bs_block").__(2,[function(){return Y.showPopover()}])}else return 0}};return V}var j=a("ReasonReact.bs").wrapReasonForJs(f,function(k){return i(a("bs_js_primitive").null_undefined_to_opt(k.className),a("bs_js_primitive").null_undefined_to_opt(k.contact),+k.isGroupChat,+k.isJoinableThread,+k.isMuted,+k.isOpen,+k.isUnread,+k.isBlocked,k.onArchive,k.onDelete,a("bs_js_primitive").null_undefined_to_opt(k.onLeaveGroup),k.onMarkRead,k.onMarkSpam,k.onMarkUnread,k.onMute,a("bs_js_primitive").null_undefined_to_opt(k.onRename),k.onToggle,k.onUnmute,k.onIgnore,k.onBlock,k.onUnblock,+k.showLeaveGroup,+k.showBlock,a("Utils.bs").nullUndefinedBooleanToOptionBool(k.showRename),a("Utils.bs").nullUndefinedBooleanToOptionBool(k.showReport),k.tabIndex,k.thread,[])});b.handleReasonDialogToggle=d;b.handleClick=e;b.component=f;b.actionButtonClassesClosed=g;b.actionButtonClassesOpen=h;b.make=i;b.jsComponent=j}),null);