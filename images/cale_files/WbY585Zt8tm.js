if (self.CavalryLogger) { CavalryLogger.start_js(["dZRHK"]); }

__d("MessengerSharedFilesContainer.react",["fbt","MessengerInfoPanelSectionReact.bs","MessengerSharedFiles.react","React","RelayModern","idx","MessengerSharedFilesContainer_sharedFiles.graphql","MessengerSharedFilesContainerRefetchQuery.graphql"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("MessengerInfoPanelSectionReact.bs").jsComponent,j=c("RelayModern").createRefetchContainer,k=c("RelayModern").graphql,l=c("React").PropTypes,m=10,n=c("React").createClass({displayName:"MessengerSharedFilesContainer",propTypes:{sharedFiles:l.object,threadFBID:l.string,isCollapsed:l.bool,onToggle:l.func,relay:l.object},getInitialState:function o(){var p,q=!((p=this.props)!=null?(p=p.sharedFiles)!=null?(p=p.message_shared_media)!=null?(p=p.page_info)!=null?p.has_next_page:p:p:p:p);return{isAllFilesShown:q,hasOverflow:!q,isLoadingFiles:false}},_toggleExpand:function o(){if(this.state.isLoadingFiles||!this.props.sharedFiles)return;var p=this.props.sharedFiles.message_shared_media,q=p.count,r=this.state.isAllFilesShown;this.setState({isLoadingFiles:true},function(){if(this.props.relay)this.props.relay.refetch({count:r?m:q,threadFBID:this.props.threadFBID},null,function(){this.setState({isAllFilesShown:!r,isLoadingFiles:false})}.bind(this))}.bind(this))},render:function o(){var p,q=this.props,r=q.sharedFiles,s=q.threadFBID,t=q.isCollapsed,u=q.onToggle;if(!s||!r)return null;var v=r.message_shared_media,w=!((p=v)!=null?(p=p.page_info)!=null?p.end_cursor:p:p);if(w)return null;return c("React").createElement(i,{isCollapsible:true,isCollapsed:t,onToggle:u,title:h._("Shared Files")},c("React").createElement(c("MessengerSharedFiles.react"),{isExpanded:this.state.isAllFilesShown,hasOverflow:this.state.hasOverflow,isLoadingFiles:this.state.isLoadingFiles,toggleExpand:this._toggleExpand,sharedFiles:v,threadFBID:s}))}});f.exports=j(n,{sharedFiles:function o(){return c("MessengerSharedFilesContainer_sharedFiles.graphql")}},function(){return c("MessengerSharedFilesContainerRefetchQuery.graphql")})}),null);