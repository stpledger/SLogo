if (self.CavalryLogger) { CavalryLogger.start_js(["ber27"]); }

__d("StickerStoreHeader.react",["cx","fbt","ix","Image.react","InlineBlock.react","React","WorkModeConfig","XUICloseButton.react","XUIText.react","isSocialPlugin"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=688;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(){__p&&__p();var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.renderSubheader=function(){if(c("WorkModeConfig").is_work_user)return i._("Find new stickers to send to coworkers.");else return i._("Find new stickers to send to friends.")},this.renderCloseButton=function(){if(this.props.isPermalink)return null;return c("React").createElement(c("XUICloseButton.react"),{className:"layerCancel _5r5k",label:i._("Close")})}.bind(this),p}n.prototype.render=function(){var o=c("isSocialPlugin")()&&document.body.offsetWidth<m;return c("React").createElement("div",{className:"_5r5i"},c("React").createElement("div",{className:"_5r5f"},c("React").createElement(c("Image.react"),{className:"_5r5j"+(o?" hidden_elem":""),src:j("87170")}),c("React").createElement(c("InlineBlock.react"),{alignv:"middle",height:192},c("React").createElement("div",{className:"_5r5l ellipsis"},c("React").createElement(c("Image.react"),{className:"_5r5n",src:j("87169")}),i._("Sticker Store")),c("React").createElement(c("XUIText.react"),{className:"_5r5m",size:"header3"},this.renderSubheader()))),this.renderCloseButton())};f.exports=n}),null);
__d("StickersStorePurchaseButton.react",["cx","fbt","CurrentUser","React","RelayClassic_DEPRECATED","RelayAPIConfig","react-relay/classic/mutation/RelayMutation","RelayCompat","react-relay/classic/query/RelayQL","react-relay/classic/store/RelayStore","XUIButton.react","getViewerRecordID"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l,m,n=c("RelayCompat").MutationTypes,o=c("React").PropTypes;j=babelHelpers.inherits(p,c("React").Component);k=j&&j.prototype;function p(){__p&&__p();var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=k.constructor).call.apply(r,[this].concat(u)),this.state={disabled:false},this.$StickersStorePurchaseButton1=function(){this.setState({disabled:true});var w=function(){return this.setState({disabled:false})}.bind(this);c("react-relay/classic/store/RelayStore").commitUpdate(new q({sticker_pack:this.props.stickerPack,actor_id:c("RelayAPIConfig").actorID}),{onSuccess:w,onFailure:w})}.bind(this),this.$StickersStorePurchaseButton2=function(){if(this.props.stickerPack.in_sticker_tray)return i._("Remove");else if(this.props.stickerPack.is_purchased)return i._("Add");else return i._("Free")}.bind(this),this.$StickersStorePurchaseButton3=function(){if(!this.props.stickerPack.in_sticker_tray)return null;return i._("Remove from your sticker packs.")}.bind(this),this.$StickersStorePurchaseButton4=function(){return this.props.stickerPack.in_sticker_tray?"default":"special"}.bind(this),s}p.prototype.render=function(){if(!this.props.stickerPack.can_download){var r=i._("No Longer Available");return c("React").createElement(c("XUIButton.react"),{className:"_5r5d",disabled:true,label:r,size:this.props.size})}return c("React").createElement(c("XUIButton.react"),{onClick:this.$StickersStorePurchaseButton1,className:"_5r5d",label:this.$StickersStorePurchaseButton2(),tooltip:this.$StickersStorePurchaseButton3(),size:this.props.size,use:this.$StickersStorePurchaseButton4(),disabled:this.state.disabled})};p.propTypes={size:o.string};p.defaultProps={size:"medium"};f.exports=c("RelayClassic_DEPRECATED").createContainer(p,{fragments:{stickerPack:function r(){return function(s){return{children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isRequisite:true},type:"ID"},{fieldName:"can_download",kind:"Field",metadata:{},type:"Boolean"},{fieldName:"in_sticker_tray",kind:"Field",metadata:{},type:"Boolean"},c("react-relay/classic/query/RelayQL").__frag(s)]),id:c("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{},name:"StickersStorePurchaseButton_react_StickerPackRelayQL",type:"StickerPack"}}(q.getFragment("sticker_pack"))}}});l=babelHelpers.inherits(q,c("react-relay/classic/mutation/RelayMutation"));m=l&&l.prototype;q.prototype.getMutation=function(){return this.props.sticker_pack.in_sticker_tray?function(){return{calls:[{kind:"Call",metadata:{},name:"sticker_pack_remove",value:{kind:"CallVariable",callVariableName:"input"}}],children:[{fieldName:"client_mutation_id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"}],kind:"Mutation",metadata:{inputType:"StickerPackRemoveData!"},name:"StickersStorePurchaseButton_react",responseType:"StickerPackRemoveResponsePayload"}}():function(){return{calls:[{kind:"Call",metadata:{},name:"sticker_pack_add",value:{kind:"CallVariable",callVariableName:"input"}}],children:[{fieldName:"client_mutation_id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"}],kind:"Mutation",metadata:{inputType:"StickerPackAddData!"},name:"StickersStorePurchaseButton_react",responseType:"StickerPackAddResponsePayload"}}()};q.prototype.getVariables=function(){return{pack_id:this.props.sticker_pack.id,actor_id:this.props.actor_id}};q.prototype.getFatQuery=function(){if(this.props.sticker_pack.in_sticker_tray)return function(){return{children:[{children:[{children:[{fieldName:"tray_packs",kind:"Field",metadata:{canHaveSubselections:true,isConnection:true},type:"PacksInTrayConnection"}],fieldName:"sticker_store",kind:"Field",metadata:{canHaveSubselections:true},type:"StickerStore"}],fieldName:"viewer",kind:"Field",metadata:{canHaveSubselections:true},type:"Viewer"},{children:[{fieldName:"in_sticker_tray",kind:"Field",metadata:{},type:"Boolean"},{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"}],fieldName:"sticker_pack",kind:"Field",metadata:{canHaveSubselections:true,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"StickerPack"}],id:c("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{pattern:true},name:"StickersStorePurchaseButton_reactRelayQL",type:"StickerPackRemoveResponsePayload"}}();else return function(){return{children:[{children:[{children:[{fieldName:"tray_packs",kind:"Field",metadata:{canHaveSubselections:true,isConnection:true},type:"PacksInTrayConnection"}],fieldName:"sticker_store",kind:"Field",metadata:{canHaveSubselections:true},type:"StickerStore"}],fieldName:"viewer",kind:"Field",metadata:{canHaveSubselections:true},type:"Viewer"},{children:[{fieldName:"in_sticker_tray",kind:"Field",metadata:{},type:"Boolean"},{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"}],fieldName:"sticker_pack",kind:"Field",metadata:{canHaveSubselections:true,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"StickerPack"}],id:c("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{pattern:true},name:"StickersStorePurchaseButton_reactRelayQL",type:"StickerPackAddResponsePayload"}}()};q.prototype.getConfigs=function(){var r=c("getViewerRecordID")(),s=r?{sticker_pack:this.props.sticker_pack.id,viewer:r}:{sticker_pack:this.props.sticker_pack.id};return[{type:n.FIELDS_CHANGE,fieldIDs:s}]};function q(){l.apply(this,arguments)}q.fragments={sticker_pack:function r(){return function(){return{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:true},type:"ID"},{fieldName:"in_sticker_tray",kind:"Field",metadata:{},type:"Boolean"}],id:c("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{},name:"StickersStorePurchaseButton_react_Sticker_packRelayQL",type:"StickerPack"}}()}}}),null);
__d("StickersStorePackDetail.react",["cx","Image.react","ImageBlock.react","React","RelayClassic_DEPRECATED","react-relay/classic/query/RelayQL","StickersStorePurchaseButton.react","StickersTypedLogger","XUICard.react","XUIGrayText.react","XUIText.react"],(function a(b,c,d,e,f,g,h){"use strict";var i=window.devicePixelRatio||1,j=Math.ceil(88*i),k=Math.ceil(608*i),l=function l(o){return c("React").createElement("div",{style:{marginTop:10}},c("React").createElement(c("XUIText.react"),{className:"_5raa",display:"block",weight:"bold"},o.stickerPack.name),c("React").createElement("div",{className:"_5rac"},o.stickerPack.artist),c("React").createElement("div",{className:"_5rab"},o.stickerPack.description),c("React").createElement(c("StickersStorePurchaseButton.react"),{size:"large",stickerPack:o.stickerPack}))},m=function m(o){return c("React").createElement("div",null,o.stickerPack.copyrights.map(function(p){return c("React").createElement(c("XUIGrayText.react"),{key:p,className:"_5ra9",display:"block"},p)}))},n=function n(o){return c("React").createElement("div",{style:{paddingTop:10,paddingBottom:10}},c("React").createElement(c("ImageBlock.react"),{className:"_5ra6"},c("React").createElement(c("Image.react"),{className:"_5ra5 _5r5s",src:o.stickerPack.profile_image.uri}),l(o)),c("React").createElement(c("XUICard.react"),{className:"_5ra7",style:{padding:10}},c("React").createElement(c("Image.react"),{className:"_5ra8",src:o.stickerPack.preview_image.uri}),m(o)))};f.exports=c("RelayClassic_DEPRECATED").createContainer(n,{fragments:{stickerPack:function o(){return function(p,q,r,s){return{children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isRequisite:true},type:"ID"},{calls:[{kind:"Call",metadata:{type:"Int"},name:"width",value:c("react-relay/classic/query/RelayQL").__var(p)},{kind:"Call",metadata:{type:"Int"},name:"height",value:c("react-relay/classic/query/RelayQL").__var(q)}],children:[{fieldName:"uri",kind:"Field",metadata:{},type:"Url"}],fieldName:"profile_image",kind:"Field",metadata:{canHaveSubselections:true},type:"Image"},{calls:[{kind:"Call",metadata:{type:"Int"},name:"width",value:c("react-relay/classic/query/RelayQL").__var(r)},{kind:"Call",metadata:{type:"Int"},name:"height",value:{kind:"CallValue",callValue:100}}],children:[{fieldName:"uri",kind:"Field",metadata:{},type:"Url"}],fieldName:"preview_image",kind:"Field",metadata:{canHaveSubselections:true},type:"Image"},{fieldName:"name",kind:"Field",metadata:{},type:"String"},{fieldName:"artist",kind:"Field",metadata:{},type:"String"},{fieldName:"description",kind:"Field",metadata:{},type:"String"},{fieldName:"copyrights",kind:"Field",metadata:{isPlural:true},type:"String"},c("react-relay/classic/query/RelayQL").__frag(s)]),id:c("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{},name:"StickersStorePackDetail_react_StickerPackRelayQL",type:"StickerPack"}}(j,j,k,c("StickersStorePurchaseButton.react").getFragment("stickerPack"))}}})}),null);
__d("FlexibleBlock.react",["cx","invariant","LeftRight.react","React","keyMirror"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("keyMirror")({left:true,right:true});function m(o){o.flex&&o.flex in n.FLEX||i(0);o.children&&o.children.length===2||i(0)}j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;n.prototype.render=function(){"use strict";__p&&__p();m(this.props);var o,p=this.props,q=p.flex,r=babelHelpers.objectWithoutProperties(p,["flex"]),s=this.props.children[0],t=this.props.children[1],u=q==l.left,v;if(u){v=s;o=c("LeftRight.react").DIRECTION.right}else{v=t;o=c("LeftRight.react").DIRECTION.left}var w=c("React").createElement("div",{className:"_42ef"},v);return c("React").createElement(c("LeftRight.react"),babelHelpers["extends"]({},r,{direction:o}),u?w:this.props.children[0],u?this.props.children[1]:w)};function n(){"use strict";j.apply(this,arguments)}n.FLEX=l;f.exports=n}),null);
__d("XStickerPackLoggingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/stickers/logpack/",{pack_id:{type:"Int"}})}),null);
__d("XStickerPackPermalinkController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/stickers/{pack_id}/",{pack_id:{type:"Int",required:true},redirect_uri:{type:"String"}})}),null);
__d("StickersStorePack.react",["cx","fbt","Arbiter","AsyncSignal","FlexibleBlock.react","ImmutableObject","LeftRight.react","Link.react","React","ReactDOM","Image.react","RelayClassic_DEPRECATED","react-relay/classic/query/RelayQL","StickersStorePurchaseButton.react","XUIButton.react","XUICard.react","XUIText.react","Scroll","XStickerPackPermalinkController","XStickerPackLoggingController","getElementPosition"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m=Math.ceil(40*(window.devicePixelRatio||1)),n=i._("Preview");j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;function o(){__p&&__p();var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.isScrolledIntoView=function(u,v,w){if(this.$StickersStorePack1)return;var x=c("getElementPosition")(c("ReactDOM").findDOMNode(this)),y=u+x.y-w,z=u+v,A=y+x.height;if(A-10<=z&&y+10>=u)this.logImpression()}.bind(this),this.logImpression=function(){this.$StickersStorePack1=true;var u=c("XStickerPackLoggingController").getURIBuilder().setInt("pack_id",this.props.stickerPack.id).getURI().toString();new(c("AsyncSignal"))(u).send()}.bind(this),this.renderPreviews=function(){return c("React").createElement(c("LeftRight.react"),null,c("React").createElement("div",{className:"_5rad"},c("React").createElement(c("Image.react"),{className:"_5r5s",src:this.props.stickerPack.thumbnail_image.uri||""})),c("React").createElement("div",{className:"_5rae"},this.renderSmallPreviews()))}.bind(this),this.renderSmallPreviews=function(){return this.props.stickerPack.stickers.edges.map(function(u){var v=u.node.image.uri;return c("React").createElement("div",{key:v,className:"_5raf"},c("React").createElement(c("Image.react"),{className:"_5rag",src:v}))})}.bind(this),this.renderTitleAndArtist=function(){return c("React").createElement("div",null,c("React").createElement(c("XUIText.react"),{className:"_5rai ellipsis",display:"block",weight:"bold"},this.props.stickerPack.name),c("React").createElement("div",{className:"_5raj ellipsis"},this.props.stickerPack.artist,"\xa0"))}.bind(this),this.renderActionButtons=function(){return c("React").createElement("div",{className:"_5rr1"},c("React").createElement(c("XUIButton.react"),{className:"_5r5d",href:this.getPreviewURI(),label:n,onClick:this.onPreviewLinkClicked}),c("React").createElement(c("StickersStorePurchaseButton.react"),{stickerPack:this.props.stickerPack}))}.bind(this),this.getPreviewURI=function(){return this.props.isPermalink?"#":c("XStickerPackPermalinkController").getURIBuilder().setInt("pack_id",this.props.stickerPack.id).getURI()}.bind(this),this.onPreviewLinkClicked=function(){this.props.isPermalink&&this.props.onPreviewLinkClicked(this.props.stickerPack.id)}.bind(this),q}o.prototype.componentDidMount=function(){this.$StickersStorePack1=false;this.$StickersStorePack2=c("Arbiter").subscribe("stickerStoreScrolled",function(p,q){this.isScrolledIntoView(c("Scroll").getTop(q),q.viewHeight,q.top)}.bind(this))};o.prototype.componentWillUnmount=function(){this.$StickersStorePack2&&c("Arbiter").unsubscribe(this.$StickersStorePack2)};o.prototype.render=function(){return c("React").createElement(c("XUICard.react"),{className:"_5r9y"},c("React").createElement(c("Link.react"),{className:"_5r5d",href:this.getPreviewURI(),onClick:this.onPreviewLinkClicked},this.renderPreviews()),c("React").createElement(c("FlexibleBlock.react"),{className:"_5rah",flex:"left"},this.renderTitleAndArtist(),this.renderActionButtons()))};o.propTypes={isPermalink:l.bool,onPreviewLinkClicked:l.func.isRequired};f.exports=c("RelayClassic_DEPRECATED").createContainer(o,{fragments:{stickerPack:function p(){return function(q,r,s){return{children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isRequisite:true},type:"ID"},{children:[{fieldName:"uri",kind:"Field",metadata:{},type:"Url"}],fieldName:"thumbnail_image",kind:"Field",metadata:{canHaveSubselections:true},type:"Image"},{calls:[{kind:"Call",metadata:{type:"Int"},name:"first",value:{kind:"CallValue",callValue:8}}],children:[{children:[{children:[{calls:[{kind:"Call",metadata:{type:"Int"},name:"width",value:c("react-relay/classic/query/RelayQL").__var(q)},{kind:"Call",metadata:{type:"Int"},name:"height",value:c("react-relay/classic/query/RelayQL").__var(r)}],children:[{fieldName:"uri",kind:"Field",metadata:{},type:"Url"}],fieldName:"image",kind:"Field",metadata:{canHaveSubselections:true},type:"Image"},{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"}],fieldName:"node",kind:"Field",metadata:{canHaveSubselections:true,inferredRootCallName:"node",inferredPrimaryKey:"id",isRequisite:true},type:"Sticker"},{fieldName:"cursor",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"}],fieldName:"edges",kind:"Field",metadata:{canHaveSubselections:true,isPlural:true},type:"StickersInPackEdge"},{children:[{fieldName:"has_next_page",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"Boolean"},{fieldName:"has_previous_page",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"Boolean"}],fieldName:"page_info",kind:"Field",metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:"PageInfo"}],fieldName:"stickers",kind:"Field",metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:"StickersInPackConnection"},{fieldName:"name",kind:"Field",metadata:{},type:"String"},{fieldName:"artist",kind:"Field",metadata:{},type:"String"},c("react-relay/classic/query/RelayQL").__frag(s)]),id:c("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{},name:"StickersStorePack_react_StickerPackRelayQL",type:"StickerPack"}}(m,m,c("StickersStorePurchaseButton.react").getFragment("stickerPack"))}}})}),null);
__d("StickersStorePackList.react",["cx","React","RelayClassic_DEPRECATED","react-relay/classic/query/RelayQL","StickersStorePack.react","emptyFunction"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=function i(j){var k=j.packList.edges.filter(function(l){return j.isComposer?l.node.is_composer_capable:l.node.is_messenger_capable});return c("React").createElement("div",{className:"clearfix _5r5r"},k.map(function(l){return c("React").createElement(c("StickersStorePack.react"),{key:l.node.id,stickerPack:l.node,isPermalink:j.isPermalink,onPreviewLinkClicked:j.onPreviewLinkClicked})}))};i.defaultProps={isComposer:false,isPermalink:false,onPreviewLinkClicked:c("emptyFunction")};f.exports=c("RelayClassic_DEPRECATED").createContainer(i,{fragments:{packList:function j(){return function(k){return{children:[{children:[{children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isRequisite:true},type:"ID"},{fieldName:"is_composer_capable",kind:"Field",metadata:{},type:"Boolean"},{fieldName:"is_messenger_capable",kind:"Field",metadata:{},type:"Boolean"},c("react-relay/classic/query/RelayQL").__frag(k)]),fieldName:"node",kind:"Field",metadata:{canHaveSubselections:true,inferredRootCallName:"node",inferredPrimaryKey:"id",isRequisite:true},type:"StickerPack"},{fieldName:"cursor",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"}],fieldName:"edges",kind:"Field",metadata:{canHaveSubselections:true,isPlural:true},type:"AvailableStickerPacksEdge"},{children:[{fieldName:"has_next_page",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"Boolean"},{fieldName:"has_previous_page",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"Boolean"}],fieldName:"page_info",kind:"Field",metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:"PageInfo"}],id:c("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{},name:"StickersStorePackList_react_PackListRelayQL",type:"AvailableStickerPacksConnection"}}(c("StickersStorePack.react").getFragment("stickerPack"))}}})}),null);
__d("StickersStore.react",["cx","fbt","ix","Arbiter","ScrollableArea.react","Link.react","React","ReactDOM","Image.react","RelayClassic_DEPRECATED","react-relay/classic/query/RelayQL","react-relay/classic/container/RelayRootContainer","Scroll","StickerStoreHeader.react","StickersActions","StickersStorePackDetail.react","StickersStorePackList.react","StickersTypedLogger","XUIDialogTitle.react","XUISpinner.react","XUIText.react","getElementPosition","isSocialPlugin","shallowCompare","throttle"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("React").PropTypes,n=688,o=320;k=babelHelpers.inherits(p,c("React").Component);l=k&&k.prototype;function p(){__p&&__p();var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=l.constructor).call.apply(q,[this].concat(t)),this.renderHeader=function(){if(!this.props.packID||this.props.stickerPack.is_ghost_pack)return c("React").createElement(c("StickerStoreHeader.react"),null);return c("React").createElement("div",{className:"_5r5i"},c("React").createElement(c("XUIDialogTitle.react"),{className:"_5r5g"},c("React").createElement(c("Link.react"),{className:"_5r5c",onClick:function v(){return c("StickersActions").selectStorePack(null)}},c("React").createElement(c("Image.react"),{className:"_5r5t",src:j("87168")}),c("React").createElement(c("XUIText.react"),{className:"_5rq_",weight:"normal"},i._("Sticker Store")))))}.bind(this),this.renderContent=function(){if(!this.props.packID||this.props.stickerPack.is_ghost_pack)return c("React").createElement(c("StickersStorePackList.react"),{packList:this.props.packList.sticker_store.available_packs,isComposer:this.props.isComposer,isPermalink:true,onPreviewLinkClicked:function v(w){return c("StickersActions").selectStorePack(w)}});new(c("StickersTypedLogger"))().setEvent("open_pack_details").setPackid(this.props.stickerPack.id).log();return c("React").createElement(c("StickersStorePackDetail.react"),{stickerPack:this.props.stickerPack})}.bind(this),this.getContentClass=function(){if(!this.props.packID)return"_5rzk";return(this.props.stickerPack.is_ghost_pack?"_5rzk":"")+(!this.props.stickerPack.is_ghost_pack?" _5rzl":"")}.bind(this),this.logOpen=function(){new(c("StickersTypedLogger"))().setEvent("open_store").log();this.logImpression()}.bind(this),this.logClose=function(){new(c("StickersTypedLogger"))().setEvent("close_store").log()},this.pokeScrollbar=function(){if(this.refs.scrollableArea)this.refs.scrollableArea.getArea().poke()}.bind(this),this.logImpression=function(){if(!this.refs.scrollableArea)return;var v=c("getElementPosition")(c("ReactDOM").findDOMNode(this.refs.scrollableArea));c("Arbiter").inform("stickerStoreScrolled",{scrollTop:c("Scroll").getTop(c("ReactDOM").findDOMNode(this)),top:v.y,viewHeight:v.height})}.bind(this),this.loadMorePacks=function(){var v=this.refs.scrollableArea.getArea().distanceToBottom()<600;if(!this.$StickersStore2&&v)this.props.relay.setVariables({storePackCount:this.props.relay.variables.storePackCount+20},function(w){return w.done&&this.pokeScrollbar()}.bind(this));this.$StickersStore2=v}.bind(this),r}p.prototype.componentDidMount=function(){this.props.shown&&this.logOpen();this.$StickersStore1=c("throttle")(this.logImpression,500,this);this.$StickersStore2=false};p.prototype.componentWillReceiveProps=function(q){if(!this.props.shown&&q.shown)this.logOpen();if(this.props.shown&&!q.shown)this.logClose();if(q.packID!==this.props.packID)this.props.relay.setVariables({packID:q.packID})};p.prototype.shouldComponentUpdate=function(q,r){return q.shown&&c("shallowCompare")(this,q,r)};p.prototype.componentDidUpdate=function(){this.pokeScrollbar()};p.prototype.render=function(){if(this.props.packID&&!this.props.stickerPack)return c("React").createElement("div",{className:"_5r5e"},c("React").createElement(c("XUISpinner.react"),{size:"large"}));var q=c("isSocialPlugin")()&&document.body.offsetWidth<n?o:n;return c("React").createElement("div",null,this.renderHeader(),c("React").createElement("div",{className:this.getContentClass()},c("React").createElement(c("ScrollableArea.react"),{fade:false,persistent:true,ref:"scrollableArea",shadow:true,onScroll:function(){this.$StickersStore1();this.loadMorePacks()}.bind(this),width:q},this.renderContent())))};p.propTypes={isComposer:m.bool,packID:m.string,shown:m.bool};p.defaultProps={isComposer:false,packID:null,shown:false};f.exports=c("RelayClassic_DEPRECATED").createContainer(p,{initialVariables:{packID:null,storePackCount:20},fragments:{stickerPack:function q(){return function(r){return{children:[{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"},{children:[].concat.apply([],[{fieldName:"is_ghost_pack",kind:"Field",metadata:{},type:"Boolean"},{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"},c("react-relay/classic/query/RelayQL").__frag(r)]),directives:[{kind:"Directive",name:"include",args:[{name:"if",value:{kind:"CallVariable",callVariableName:"packID"}}]}],id:c("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{},name:"StickerPack",type:"StickerPack"}],id:c("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{},name:"StickersStore_react_StickerPackRelayQL",type:"StickerPack"}}(c("StickersStorePackDetail.react").getFragment("stickerPack"))},packList:function q(){return function(r){return{children:[{children:[{children:[{calls:[{kind:"Call",metadata:{type:"Int"},name:"first",value:{kind:"CallVariable",callVariableName:"storePackCount"}}],children:[].concat.apply([],[c("react-relay/classic/query/RelayQL").__frag(r)]),fieldName:"available_packs",kind:"Field",metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:"AvailableStickerPacksConnection"}],fieldName:"sticker_store",kind:"Field",metadata:{canHaveSubselections:true},type:"StickerStore"}],directives:[{kind:"Directive",name:"skip",args:[{name:"if",value:{kind:"CallVariable",callVariableName:"packID"}}]}],id:c("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{},name:"Viewer",type:"Viewer"}],id:c("react-relay/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{},name:"StickersStore_react_PackListRelayQL",type:"Viewer"}}(c("StickersStorePackList.react").getFragment("packList"))}}})}),null);
__d("StickersStorePackDetailRoute",["react-relay/classic/query/RelayQL","react-relay/classic/route/RelayRoute"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("react-relay/classic/route/RelayRoute"));i=h&&h.prototype;function j(){h.apply(this,arguments)}j.routeName="StickersStorePackDetailRoute";j.paramDefinitions={packID:{required:true,type:"String"}};j.queries={stickerPack:function k(l,m){return function(n){return{calls:[{kind:"Call",metadata:{type:"ID!"},name:"id",value:{kind:"CallVariable",callVariableName:"packID"}}],children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"},{fieldName:"__typename",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"String"},c("react-relay/classic/query/RelayQL").__frag(n)]),fieldName:"node",kind:"Query",metadata:{isAbstract:true,identifyingArgName:"id",identifyingArgType:"ID!"},name:"StickersStorePackDetailRoute",type:"Node"}}(l.getFragment("stickerPack",{packID:m.packID}))}};f.exports=j}),null);
__d("StickersStorePackListRoute",["react-relay/classic/query/RelayQL","react-relay/classic/route/RelayRoute"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("react-relay/classic/route/RelayRoute"));i=h&&h.prototype;function j(){h.apply(this,arguments)}j.routeName="StickersStorePackListRoute";j.queries={packList:function k(l){return function(m){return{children:[].concat.apply([],[c("react-relay/classic/query/RelayQL").__frag(m)]),fieldName:"viewer",kind:"Query",metadata:{},name:"StickersStorePackListRoute",type:"Viewer"}}(l.getFragment("packList"))}};f.exports=j}),null);