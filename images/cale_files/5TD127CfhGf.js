if (self.CavalryLogger) { CavalryLogger.start_js(["dxmRk"]); }

__d("MessengerInfoPanelThreadNameSectionReact.bs",["cx","fbt","Keys.bs","bs_block","bs_curry","React","bs_string","bs_js_boolean","ReasonReact.bs","setImmediate","MessengerButtonReact.bs","MessengerSpinnerReact.bs","MercuryGenericConstants","MercuryThreadTitleReact.bs","MessengerTextWithEmojiInputReact.bs","MessengerThreadPhotoUploaderReact.bs"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(q,r){var s=r[1][1][0];if(s)return s[0].focusInput();else return 0}function k(){return c("React").createElement("div",{className:"_2jnw"},c("ReasonReact.bs").element(0,0,c("MessengerSpinnerReact.bs").make(0,0,0,[])))}function l(q,r){var s=r[1][2][0];if(s)return s[0].focus();else return 0}function m(q,r){r[1][1][0]=q==null?0:[q];return 0}function n(q,r){r[1][2][0]=q==null?0:[q];return 0}var o=c("ReasonReact.bs").reducerComponentWithRetainedProps("MessengerInfoPanelThreadNameSectionReact");function p(q,r,s,t,u,v,w,x,y){__p&&__p();var z=function z(E,F){E.stopPropagation();var G=F[1][1][0];if(G)c("bs_curry")._1(r,c("bs_string").trim(G[0].getValue()));return c("bs_curry")._1(c("setImmediate"),c("bs_curry")._1(F[0],l))},A=function A(E,y){if(E.currentTarget.contains(E.relatedTarget)){E.stopPropagation();return 0}else if(w>=2)return c("bs_curry")._1(v,0);else return c("bs_curry")._1(v,1)},B=function B(E){return c("React").createElement("div",{className:"_2jnx",onBlur:c("bs_curry")._1(E[0],A)},c("React").createElement("div",{className:"_2jny"},c("ReasonReact.bs").element(0,[c("bs_curry")._1(E[0],m)],c("MessengerTextWithEmojiInputReact.bs").make(["_2jnz"],[c("bs_curry")._1(E[0],z)],[c("MercuryGenericConstants").MAX_THREAD_NAME_LENGTH],0,[i._("Name This Conversation")],[u.name],[]))),c("React").createElement("div",{className:"_2jn-"},c("ReasonReact.bs").element(0,0,c("MessengerButtonReact.bs").make(0,["button"],0,0,[c("bs_curry")._1(E[0],z)],0,0,0,0,i._("Done"),0,0,0,0,[]))))},C=function C(E,y){E.stopPropagation();if(q!==0&&w===1)return c("bs_curry")._1(v,0);else return 0},D=function D(E,y){var F=E.charCode;if(w!==1||!(F===c("Keys.bs").$$return||F===c("Keys.bs").space))return 0;else{E.preventDefault();E.stopPropagation();if(q)return c("bs_curry")._1(v,0);else return 0}};return[o[0],o[1],o[2],function(E){var F=E[1],G=+(E[2][1]!==u);return[G!==0?0:F[0],F[1],F[2],F[3]]},o[4],function(E){var F=E[0],G=F[2][0];if(G!==1||w===1)return 0;else{setTimeout(c("bs_curry")._1(F[0],j),1);return 0}},o[6],o[7],o[8],function(E){var F=E[3],G=E[1],H=E[0],I=w!==1?1:0,J=G[0];return c("React").createElement("div",{className:"_2jnq"},c("React").createElement("div",{className:"_2jnr"+(c("bs_js_boolean").to_js_boolean(G[0])?" _2jns":"")},t,J!==0?k(0):null,q!==0?c("ReasonReact.bs").element(0,0,c("MessengerThreadPhotoUploaderReact.bs").make(c("bs_curry")._1(E[0],function(K,E){var J=E[1][3];if(J)c("bs_curry")._1(s,[J[0],K]);return c("bs_curry")._1(F,0)}),[function(){return c("bs_curry")._1(F,1)}],[function(){return c("bs_curry")._1(F,[u.thread_id])}],0,[])):null),c("React").createElement("div",{ref:c("bs_curry")._1(H,n),className:"_2jnt"+(c("bs_js_boolean").to_js_boolean(1-I)?" _1sw_":"")+(c("bs_js_boolean").to_js_boolean(1-q)?" disabled":""),role:I!==0?"":"button",tabIndex:0,onKeyPress:c("bs_curry")._1(H,D),onClick:c("bs_curry")._1(H,C)},c("React").createElement("div",{className:"_2jnu"},I!==0?B(E):c("ReasonReact.bs").element(0,0,c("MercuryThreadTitleReact.bs").make(["_2jnv"],0,u,x,0,[0],[0],0,[])))))},function(){return[0,[0],[0],0]},[w,u],function(E){if(typeof E==="number")return function(G){return c("bs_block").__(0,[[0,G[1],G[2],0]])};else{var F=E[0];return function(G){return c("bs_block").__(0,[[1,G[1],G[2],[F]]])}}},o[13],o[14]]}g.focusThreadNameInput=j;g.renderSpinner=k;g.focusEditThreadNameButton=l;g.setRefThreadNameInput=m;g.setRefEditThreadNameButton=n;g.component=o;g.make=p}),null);