if (self.CavalryLogger) { CavalryLogger.start_js(["pa7wA"]); }

__d("MercuryThreadlistRowContainer.react",["Arbiter","AvailableListConstants","CurrentUser","PresenceStatus","SubscriptionsHandler","immutable","ImmutableObject","MercuryIDs","MercuryParticipants","React","StoreAndPropBasedStateMixin","gkx","shallowEqual","AvailableList"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();c("AvailableList");var h=c("React").PropTypes,i=function i(k){if(!c("gkx")("AT6Entg5fgPoxEgjAuS5mhrDOsXuhY4Od6KMBgyuGQilj9xhRwdYBeSq1poeS8BUVnje5hK8N92CXf1vnWuEk8Ad")||!c("CurrentUser").isWorkUser())return false;return c("immutable").Seq(k).some(function(l){var m=c("MercuryIDs").getUserIDFromParticipantID(l);if(m===c("CurrentUser").getID())return false;else return c("PresenceStatus").get(m)===c("AvailableListConstants").ACTIVE})},j=c("React").createClass({displayName:"MercuryThreadlistRowContainer",mixins:[c("StoreAndPropBasedStateMixin")(c("MercuryParticipants"))],propTypes:{ChildClass:h.func.isRequired,thread:h.instanceOf(c("ImmutableObject")).isRequired,viewer:h.string.isRequired},statics:{calculateState:function k(l){return{participants:c("immutable").Map(c("immutable").Seq(l.thread.participants).map(function(m){return[m,c("MercuryParticipants").getOrFetch(m)]})),isPresenceForWork:i(l.thread.participants)}}},subscriptions:new(c("SubscriptionsHandler"))(),componentDidMount:function k(){if(c("gkx")("AT6Entg5fgPoxEgjAuS5mhrDOsXuhY4Od6KMBgyuGQilj9xhRwdYBeSq1poeS8BUVnje5hK8N92CXf1vnWuEk8Ad")&&c("CurrentUser").isWorkUser())this.subscriptions.addSubscriptions(c("Arbiter").subscribe(c("AvailableListConstants").ON_AVAILABILITY_CHANGED,function(){return this.setState(babelHelpers["extends"]({},this.state,{isPresenceForWork:i(this.props.thread.participants)}))}.bind(this)))},componentWillUnmount:function k(){this.subscriptions.release()},shouldComponentUpdate:function k(l,m){return!c("shallowEqual")(l,this.props)||m.isPresenceForWork!==this.state.isPresenceForWork||!c("immutable").is(m.participants,this.state.participants)},render:function k(){var l=this.props,m=l.ChildClass,n=babelHelpers.objectWithoutProperties(l,["ChildClass"]);return c("React").createElement(m,babelHelpers["extends"]({},n,{participants:this.state.participants,isPresenceForWork:c("gkx")("AT6Entg5fgPoxEgjAuS5mhrDOsXuhY4Od6KMBgyuGQilj9xhRwdYBeSq1poeS8BUVnje5hK8N92CXf1vnWuEk8Ad")&&this.state.isPresenceForWork}))}});f.exports=j}),null);