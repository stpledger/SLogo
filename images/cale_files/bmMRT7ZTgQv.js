if (self.CavalryLogger) { CavalryLogger.start_js(["JEVhW"]); }

__d("DragDropFileUpload",[],(function a(b,c,d,e,f,g){g.isSupported=function(){return typeof FileList!=="undefined"}}),null);
__d("DocumentDragDrop",["Arbiter","CSS","DOMQuery","DragDropFileUpload","Event","emptyFunction","getObjectValues","getOrCreateDOMID"],(function a(b,c,d,e,f,g){__p&&__p();var h={},i=0;function j(){i=0;c("getObjectValues")(h).forEach(function(o){c("CSS").removeClass(o.element,o.className);c("Arbiter").inform("dragleave",{element:o.element})})}var k=null;function l(){k&&clearTimeout(k);k=setTimeout(function(){j()},500)}var m=function o(){__p&&__p();if(!c("DragDropFileUpload").isSupported())return;c("Event").listen(document,"dragenter",function(p){if(i===0)c("getObjectValues")(h).forEach(function(q){c("CSS").addClass(q.element,q.className);c("Arbiter").inform("dragenter",{element:q.element,event:p})});i++;l()});c("Event").listen(document,"dragleave",function(p){i--;if(i===0)j();l()});c("Event").listen(document,"drop",function(p){j();var q=p.getTarget();if(c("DOMQuery").isNodeOfType(p.getTarget(),"input"))if(q.type==="file")return;p.prevent()});c("Event").listen(document,"dragover",c("Event").prevent);document.addEventListener("dragover",l,true);m=c("emptyFunction")},n={init:function o(){m()},registerStatusElement:function o(p,q){m();h[c("getOrCreateDOMID")(p)]={element:p,className:q};if(i>0)c("CSS").addClass(p,q)},removeStatusElement:function o(p){var q=c("getOrCreateDOMID")(p),r=h[q];if(r){c("CSS").removeClass(r.element,r.className);delete h[q]}}};f.exports=n}),null);
__d("DragDropTarget",["Arbiter","Event","SubscriptionsHandler","CSS","DataTransfer","DocumentDragDrop","DragDropFileUpload","emptyFunction"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){this._element=i;this._listeners=new(c("SubscriptionsHandler"))();this._statusElem=i;this._dragEnterCount=0;this._enabled=false}Object.assign(h.prototype,{_onFilesDropCallback:c("emptyFunction"),_onURLDropCallback:c("emptyFunction"),_onPlainTextDropCallback:c("emptyFunction"),_onDropCallback:c("emptyFunction"),_fileFilterFn:c("emptyFunction").thatReturnsArgument,setOnDocumentDragEnterCallback:function i(j){this._onDocumentDragEnterCallback=j;return this},setOnDocumentDragLeaveCallback:function i(j){this._onDocumentDragLeaveCallback=j;return this},setOnDragEnterCallback:function i(j){this._onDragEnterCallback=j;return this},setOnDragLeaveCallback:function i(j){this._onDragLeaveCallback=j;return this},setOnFilesDropCallback:function i(j){this._onFilesDropCallback=j;return this},setOnURLDropCallback:function i(j){this._onURLDropCallback=j;return this},setOnPlainTextDropCallback:function i(j){this._onPlainTextDropCallback=j;return this},setOnDropCallback:function i(j){this._onDropCallback=j;return this},enable:function i(){__p&&__p();if(!c("DragDropFileUpload").isSupported())return this;this._listeners.engage();c("DocumentDragDrop").registerStatusElement(this._statusElem,"fbWantsDragDrop");this._listeners.addSubscriptions(c("Event").listen(this._element,"dragenter",this._onDragEnter.bind(this)),c("Event").listen(this._element,"dragleave",this._onDragLeave.bind(this)),c("Event").listen(this._element,"dragover",this._onDragOver.bind(this)),c("Event").listen(this._element,"drop",function(j){__p&&__p();this._dragEnterCount=0;c("CSS").removeClass(this._statusElem,"fbDropReady");c("CSS").removeClass(this._statusElem,"fbDropReadyPhoto");c("CSS").removeClass(this._statusElem,"fbDropReadyPhotos");c("CSS").removeClass(this._statusElem,"fbDropReadyLink");var k=new(c("DataTransfer"))(j.dataTransfer),l={},m=false,n=this._fileFilterFn(j.dataTransfer.files);if(n.length){this._onFilesDropCallback(n,j);l.files=n;m=true}var o=k.getLink();if(o){this._onURLDropCallback(o,j);l.url=o;m=true}var p=k.getText();if(p){this._onPlainTextDropCallback(p,j);l.plainText=p;m=true}if(m)this._onDropCallback(l,j);j.kill()}.bind(this)));this._listeners.addSubscriptions(c("Arbiter").subscribe("dragenter",this._onDocumentDragEnter.bind(this)),c("Arbiter").subscribe("dragleave",this._onDocumentDragLeave.bind(this)));this._enabled=true;return this},disable:function i(){__p&&__p();if(!this._enabled)return this;c("DocumentDragDrop").removeStatusElement(this._statusElem,"fbWantsDragDrop");c("CSS").removeClass(this._statusElem,"fbDropReady");c("CSS").removeClass(this._statusElem,"fbDropReadyPhoto");c("CSS").removeClass(this._statusElem,"fbDropReadyPhotos");c("CSS").removeClass(this._statusElem,"fbDropReadyLink");this._listeners.release();this._enabled=false;return this},setFileFilter:function i(j){this._fileFilterFn=j;return this},setStatusElement:function i(j){this._statusElem=j;return this},_onDragEnter:function i(j){__p&&__p();if(this._dragEnterCount===0){var k=new(c("DataTransfer"))(j.dataTransfer);c("CSS").addClass(this._statusElem,"fbDropReady");if(k.isLink()||!k.isImage())c("CSS").addClass(this._statusElem,"fbDropReadyLink");else if(k.getCount()>1)c("CSS").addClass(this._statusElem,"fbDropReadyPhotos");else c("CSS").addClass(this._statusElem,"fbDropReadyPhoto");this._onDragEnterCallback&&this._onDragEnterCallback()}this._dragEnterCount++;j.preventDefault()},_onDragLeave:function i(j){this._dragEnterCount=Math.max(this._dragEnterCount-1,0);if(this._dragEnterCount===0){c("CSS").removeClass(this._statusElem,"fbDropReady");c("CSS").removeClass(this._statusElem,"fbDropReadyPhoto");c("CSS").removeClass(this._statusElem,"fbDropReadyPhotos");c("CSS").removeClass(this._statusElem,"fbDropReadyLink");this._onDragLeaveCallback&&this._onDragLeaveCallback()}},_onDragOver:function i(j){if(!j.dataTransfer){c("Event").kill(j);return}try{var k=j.dataTransfer.effectAllowed;j.dataTransfer.dropEffect=k=="move"||k=="linkMove"?"move":"copy"}catch(l){}c("Event").kill(j)},_onDocumentDragEnter:function i(event,j){if(this._onDocumentDragEnterCallback&&j.element==this._element)this._onDocumentDragEnterCallback()},_onDocumentDragLeave:function i(event,j){this._dragEnterCount=0;this._onDragLeave(event);if(this._onDocumentDragLeaveCallback&&j.element==this._element)this._onDocumentDragLeaveCallback()}});f.exports=h}),null);
__d("linkifyEntityRange",["Link.react","React"],(function a(b,c,d,e,f,g){function h(i,j){var k=(j.entity||{}).url;if(!k)return c("React").createElement("span",null,i);return c("React").createElement(c("Link.react"),{href:k,target:"_blank"},i)}f.exports=h}),null);
__d("FBPaymentsTextWithEntities.react",["immutable","React","TextWithEntities.react","linkifyEntityRange"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("immutable").List;function i(j){var k=j.textWithEntities,l=j.topSeparatorClassName,m=j.className,n=babelHelpers.objectWithoutProperties(j,["textWithEntities","topSeparatorClassName","className"]);if(!k)return null;if(Array.isArray(k)||k instanceof h)return k.map(function(o,p){var q=p===0?null:l;return c("React").createElement("div",{className:q,key:p},c("React").createElement(c("TextWithEntities.react"),babelHelpers["extends"]({interpolator:c("linkifyEntityRange")},n,o)))});return c("React").createElement(c("TextWithEntities.react"),babelHelpers["extends"]({className:m,interpolator:c("linkifyEntityRange")},n,k))}f.exports=i}),null);
__d("FBPaymentsAddressFieldNames",[],(function a(b,c,d,e,f,g){"use strict";var h={STREET1:"street1",STREET2:"street2",CITY:"city",STATE:"state",ZIP:"zip",COUNTRY:"country"};f.exports=h}),null);
__d("FBPaymentsAddressFormBase.react",["fbt","FBPaymentsAddressFieldNames","FBPaymentsFormBase.react","FBPaymentsFormFieldBase.react","FBPaymentsFormFieldInputConfigs","FBPaymentsValidators","React","abstractMethod"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;l.prototype.getStreet1Config=function(){return{validations:[{validator:c("FBPaymentsValidators").nonEmpty,errorMessage:h._("Please enter your street address.")}]}};l.prototype.getCityConfig=function(){return{validations:[{validator:c("FBPaymentsValidators").nonEmpty,errorMessage:h._("Please enter your city.")}]}};l.prototype.getStateConfig=function(){return c("FBPaymentsFormFieldInputConfigs").ADDRESS_STATE_INPUT_CONFIG};l.prototype.getZipConfig=function(){return c("FBPaymentsFormFieldInputConfigs").ADDRESS_ZIP_INPUT_CONFIG};l.prototype.getStreet1Label=function(){return h._("Street Address")};l.prototype.getStreet2Label=function(){return h._("Apt\/Suite\/Other (Optional)")};l.prototype.getCityLabel=function(){return h._("City\/District")};l.prototype.getStateLabel=function(){return h._("State\/Province\/Region")};l.prototype.getZipLabel=function(){return h._("ZIP\/Postal Code")};l.prototype.getCountryLabel=function(){return h._("Country")};l.prototype.__getForm=function(){return c("abstractMethod")("FBPaymentsAddressFormBase","__getForm")};l.prototype.__getFormField=function(){return c("abstractMethod")("FBPaymentsAddressFormBase","__getFormField")};l.prototype.__getCountrySelectorField=function(){return c("abstractMethod")("FBPaymentsAddressFormBase","__getCountrySelectorField")};l.prototype.__getLeftHalfWidthClassName=function(){return c("abstractMethod")("FBPaymentsAddressFormBase","__getLeftHalfWidthClassName")};l.prototype.__getRightHalfWidthClassName=function(){return c("abstractMethod")("FBPaymentsAddressFormBase","__getRightHalfWidthClassName")};l.prototype.render=function(){var m=this.__getForm(),n=this.__getFormField(),o=c("React").createElement(n,{config:this.getStreet1Config(),label:this.getStreet1Label(),name:c("FBPaymentsAddressFieldNames").STREET1,required:true}),p=c("React").createElement(n,{label:this.getStreet2Label(),name:c("FBPaymentsAddressFieldNames").STREET2}),q=c("React").createElement(n,{config:this.getCityConfig(),label:this.getCityLabel(),name:c("FBPaymentsAddressFieldNames").CITY,required:true}),r=c("React").createElement(n,{className:this.__getLeftHalfWidthClassName(),config:this.getStateConfig(),label:this.getStateLabel(),name:c("FBPaymentsAddressFieldNames").STATE,required:true}),s=c("React").createElement(n,{className:this.__getRightHalfWidthClassName(),config:this.getZipConfig(),label:this.getZipLabel(),name:c("FBPaymentsAddressFieldNames").ZIP,required:true}),t=void 0;if(this.props.showCountrySelector){var u=this.__getCountrySelectorField();t=c("React").createElement(u,{label:this.getCountryLabel(),name:c("FBPaymentsAddressFieldNames").COUNTRY,required:true})}var v=this.props.prefilledFormData||{};return c("React").createElement(m,{enableFloatingLabels:this.props.enableFloatingLabels,className:this.props.className,onChange:this.props.onChange,prefilledFormData:v},o,p,q,r,s,t)};function l(){i.apply(this,arguments)}l.propTypes={className:k.string,onChange:k.func.isRequired,enableFloatingLabels:k.bool.isRequired,prefilledFormData:k.object,showCountrySelector:k.bool.isRequired};l.defaultProps={enableFloatingLabels:false,showCountrySelector:false};f.exports=l}),null);
__d("FBPaymentsAddressForm.react",["cx","FBPaymentsAddressFormBase.react","FBPaymentsCountrySelectorFormField.react","FBPaymentsForm.react","FBPaymentsFormField.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsAddressFormBase.react"));j=i&&i.prototype;k.prototype.__getForm=function(){return c("FBPaymentsForm.react")};k.prototype.__getFormField=function(){return c("FBPaymentsFormField.react")};k.prototype.__getCountrySelectorField=function(){return c("FBPaymentsCountrySelectorFormField.react")};k.prototype.__getLeftHalfWidthClassName=function(){return"_4jf9 _e9v"};k.prototype.__getRightHalfWidthClassName=function(){return"_4jf9 _e9x"};k.prototype.render=function(){return j.render.call(this)};function k(){i.apply(this,arguments)}k.propTypes=c("FBPaymentsAddressFormBase.react").propTypes;f.exports=k}),null);
__d("FBPaymentsAddressPickerBase.react",["fbt","invariant","FBPaymentsAddressFieldNames","FBPaymentsMailingAddress","immutable","React","guid"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("immutable").List;j=babelHelpers.inherits(m,c("React").PureComponent);k=j&&j.prototype;function m(o){k.constructor.call(this,o);n.call(this);var p=this.props.addresses;p.size!==0||i(0);var q=p.get(0);this.state={addresses:p,isNewAddressValid:false,newAddressFormData:{},selectedAddress:q,selectedAddressID:q.id,showForm:false,showList:false};this.props.onAddressChange(q)}m.prototype.handleToggleShowForm=function(o){this.setState({showForm:o})};m.prototype.handleToggleShowList=function(o){this.setState({showList:o})};m.prototype.getBackButtonText=function(){return h._("Back")};m.prototype.getCancelButtonText=function(){return h._("Cancel")};m.prototype.getSaveButtonText=function(){return h._("Save")};m.prototype.getAddButtonLabel=function(){return h._("Add New Address")};m.prototype.getListLabel=function(){return h._("Addresses")};m.prototype.getFormLabel=function(){return h._("New address")};var n=function n(){__p&&__p();this.handleNewAddressChange=function(o,p){this.setState({newAddressFormData:o,isNewAddressValid:p})}.bind(this);this.handleSaveNewAddress=function(){var o=this.state.newAddressFormData,p=new(c("FBPaymentsMailingAddress"))({street:o[c("FBPaymentsAddressFieldNames").STREET1],building:o[c("FBPaymentsAddressFieldNames").STREET2],cityName:o[c("FBPaymentsAddressFieldNames").CITY],regionName:o[c("FBPaymentsAddressFieldNames").STATE],postalCode:o[c("FBPaymentsAddressFieldNames").ZIP],id:c("guid")(),country:"US"}),q=this.state.addresses.push(p);this.setState({showForm:false,addresses:q,selectedAddress:p,selectedAddressID:p.id});this.props.onAddressChange(p)}.bind(this);this.handleShowForm=function(){this.handleToggleShowForm(true)}.bind(this);this.handleHideForm=function(){this.handleToggleShowForm(false)}.bind(this);this.handleShowList=function(){this.handleToggleShowList(true)}.bind(this);this.handleHideList=function(){this.handleToggleShowList(false)}.bind(this)};f.exports=m}),null);
__d("FBPaymentsAddressPicker.react",["cx","FBPaymentsAddressForm.react","FBPaymentsAddressPickerBase.react","FBPaymentsRichSelector.react","React","XUIButton.react","XUIGrayText.react","XUIText.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("FBPaymentsRichSelector.react").Option,l="add_new_option";i=babelHelpers.inherits(m,c("FBPaymentsAddressPickerBase.react"));j=i&&i.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$FBPaymentsAddressPicker1=function(s){var t=s.value,u=this.state.addresses.find(function(v){return v.id===t})||{};this.props.onAddressChange(u)}.bind(this),this.$FBPaymentsAddressPicker2=function(){this.handleShowForm();this.props.onForwardClick&&this.props.onForwardClick()}.bind(this),this.$FBPaymentsAddressPicker3=function(){this.handleHideForm();this.props.onBackClick&&this.props.onBackClick()}.bind(this),this.$FBPaymentsAddressPicker4=function(){this.handleSaveNewAddress();this.props.onBackClick&&this.props.onBackClick()}.bind(this),o}m.prototype.$FBPaymentsAddressPicker5=function(n){var o=c("React").createElement(c("XUIText.react"),{size:"header4"},n.getSingleLineAddressWithoutName());return c("React").createElement(k,{key:n.id,label:o,value:n.id},o)};m.prototype.$FBPaymentsAddressPicker6=function(){return c("React").createElement(k,{className:"_52jw _5kyc",clickable:false,key:l,label:this.getAddButtonLabel(),value:l},c("React").createElement(c("XUIButton.react"),{label:this.getAddButtonLabel(),onClick:this.$FBPaymentsAddressPicker2,size:"xlarge",use:"confirm"}))};m.prototype.$FBPaymentsAddressPicker7=function(){if(!this.props.disclaimerText)return null;return c("React").createElement(k,{className:"_2y76 _5kyc",clickable:false,key:"disclaimer"},c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"light",size:"meta1"},this.props.disclaimerText))};m.prototype.$FBPaymentsAddressPicker8=function(){return c("React").createElement("div",{className:"_2ph_"},c("React").createElement(c("FBPaymentsRichSelector.react"),{defaultValue:this.state.selectedAddress.id,onChange:this.$FBPaymentsAddressPicker1},this.state.addresses.map(this.$FBPaymentsAddressPicker5),this.$FBPaymentsAddressPicker6(),this.$FBPaymentsAddressPicker7()))};m.prototype.$FBPaymentsAddressPicker9=function(){return c("React").createElement("div",null,c("React").createElement(c("FBPaymentsAddressForm.react"),{className:"_2pie _2pi9",onChange:this.handleNewAddressChange}),c("React").createElement(c("XUIGrayText.react"),{className:"_2pi9 _2pio",display:"block",shade:"medium",size:"meta1"},this.props.disclaimerText),c("React").createElement("div",{className:"_4koa"},c("React").createElement(c("XUIButton.react"),{label:this.getCancelButtonText(),onClick:this.$FBPaymentsAddressPicker3,size:"xlarge"}),c("React").createElement(c("XUIButton.react"),{disabled:!this.state.isNewAddressValid,label:this.getSaveButtonText(),onClick:this.$FBPaymentsAddressPicker4,size:"xlarge",use:"confirm"})))};m.prototype.render=function(){if(this.state.showForm)return this.$FBPaymentsAddressPicker9();return this.$FBPaymentsAddressPicker8()};m.propTypes=c("FBPaymentsAddressPickerBase.react").propTypes;f.exports=m}),null);
__d("FBPaymentsDateSelectorBase.react",["React"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsDateSelector.react",["cx","DateStrings","FBPaymentsDateSelectorBase.react","FBPaymentsRichSelector.react","React","XUIText.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("FBPaymentsRichSelector.react").Option;i=babelHelpers.inherits(l,c("FBPaymentsDateSelectorBase.react"));j=i&&i.prototype;function l(m){__p&&__p();j.constructor.call(this,m);this.$FBPaymentsDateSelector3=function(n){var o=n.value;this.props.onDayChange(o)}.bind(this);this.$FBPaymentsDateSelector4=function(n){var o=n.value;this.props.onMonthChange(o)}.bind(this);this.$FBPaymentsDateSelector5=function(n){var o=n.value;this.props.onYearChange(o)}.bind(this);this.monthLabels=c("DateStrings").getMonthNames();this.dayLabels=this.$FBPaymentsDateSelector1();this.yearLabels=this.$FBPaymentsDateSelector2()}l.prototype.$FBPaymentsDateSelector1=function(){var m=[];for(var n=1;n<=31;n++)m.push(n.toString());return m};l.prototype.$FBPaymentsDateSelector2=function(){var m=+this.props.maxYear,n=+this.props.minYear,o=[];for(var p=m;p>=n;p--)o.push(p.toString());return o};l.prototype.$FBPaymentsDateSelector6=function(m,n){var o=c("React").createElement(c("XUIText.react"),{size:"header4"},m);return c("React").createElement(k,{key:n,label:o,value:m},o)};l.prototype.$FBPaymentsDateSelector7=function(m,n){var o=c("React").createElement(c("XUIText.react"),{size:"header4"},m),p=n+1+"";return c("React").createElement(k,{key:n,label:o,value:p},o)};l.prototype.render=function(){var m="_9yw _2pij",n=this.props.date||{},o=n.month?n.month.toString():"1",p=n.day?n.day.toString():this.dayLabels[0],q=n.year?n.year.toString():this.yearLabels[0];return c("React").createElement("div",null,c("React").createElement(c("FBPaymentsRichSelector.react"),{className:m,defaultValue:o,multiple:false,name:"month",onChange:this.$FBPaymentsDateSelector4},this.monthLabels.map(this.$FBPaymentsDateSelector7)),c("React").createElement(c("FBPaymentsRichSelector.react"),{className:m,defaultValue:p,multiple:false,name:"day",onChange:this.$FBPaymentsDateSelector3},this.dayLabels.map(this.$FBPaymentsDateSelector6)),c("React").createElement(c("FBPaymentsRichSelector.react"),{className:m,defaultValue:q,multiple:false,name:"year",onChange:this.$FBPaymentsDateSelector5},this.yearLabels.map(this.$FBPaymentsDateSelector6)))};f.exports=l}),null);
__d("FBPaymentsLegalNameFieldNames",[],(function a(b,c,d,e,f,g){"use strict";var h={FIRST_NAME:"firstName",LAST_NAME:"lastName"};f.exports=h}),null);
__d("FBPaymentsLegalNameFormBase.react",["fbt","FBPaymentsNormalizers","FBPaymentsValidators","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.MIN_NAME_LENGTH=2,m}k.prototype.getFirstNameConfig=function(){var l=h._("Please enter your legal first name.");return{normalizers:[c("FBPaymentsNormalizers").trim],validations:[{validator:c("FBPaymentsValidators").nonEmpty,errorMessage:l},{validator:c("FBPaymentsValidators").minLength(this.MIN_NAME_LENGTH),errorMessage:l}]}};k.prototype.getLastNameConfig=function(){var l=h._("Please enter your legal last name.");return{normalizers:[c("FBPaymentsNormalizers").trim],validations:[{validator:c("FBPaymentsValidators").nonEmpty,errorMessage:l},{validator:c("FBPaymentsValidators").minLength(this.MIN_NAME_LENGTH),errorMessage:l}]}};k.prototype.getFirstNameLabel=function(){return h._("First Name")};k.prototype.getLastNameLabel=function(){return h._("Last Name")};f.exports=k}),null);
__d("FBPaymentsLegalNameForm.react",["cx","FBPaymentsForm.react","FBPaymentsFormField.react","FBPaymentsLegalNameFieldNames","FBPaymentsLegalNameFormBase.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsLegalNameFormBase.react"));j=i&&i.prototype;k.prototype.render=function(){var l=this.props.prefilledFormData||{};return c("React").createElement(c("FBPaymentsForm.react"),{className:this.props.className,onChange:this.props.onChange,prefilledFormData:l},c("React").createElement(c("FBPaymentsFormField.react"),{className:"_4jf9 _e9v",config:this.getFirstNameConfig(),height:"tall",label:this.getFirstNameLabel(),name:c("FBPaymentsLegalNameFieldNames").FIRST_NAME,required:true}),c("React").createElement(c("FBPaymentsFormField.react"),{className:"_4jf9 _e9x",config:this.getLastNameConfig(),height:"tall",label:this.getLastNameLabel(),name:c("FBPaymentsLegalNameFieldNames").LAST_NAME,required:true}))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("PaymentsNationalIDFieldsType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NATIONAL_ID:"national_id",NATIONAL_ID_TYPE:"national_id_type"})}),null);
__d("FBPaymentsNationalIDFormBase.react",["fbt","immutable","PaymentsFormFieldType","PaymentsFormValidationRuleType","PaymentsFormValueType","PaymentsNationalIDFieldsType","React","abstractMethod"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$FBPaymentsNationalIDFormBase3=function(q){var r=this.__getCustomFormField();return c("React").createElement(r,{fieldConfig:q,key:q.fieldID,name:q.fieldID,required:!q.isOptional})}.bind(this),m}k.prototype.$FBPaymentsNationalIDFormBase1=function(){return this.props.formConfig?this.props.formConfig:this.$FBPaymentsNationalIDFormBase2()};k.prototype.$FBPaymentsNationalIDFormBase2=function(){var l=h._("Please enter your full Social Insurance Number."),m=h._("Social Insurance Number"),n={fieldID:c("PaymentsNationalIDFieldsType").NATIONAL_ID,fieldType:c("PaymentsFormFieldType").TEXT_FIELD,description:null,placeholder:null,valueType:c("PaymentsFormValueType").NUMERICAL,isOptional:false,label:m,errorMessage:l,validationRules:[{type:c("PaymentsFormValidationRuleType").EXACT_LENGTH,value:"9",errorMessage:"Social Insurance Number must be 9 digits."}]};return c("immutable").List([n])};k.prototype.__getCustomFormField=function(){return c("abstractMethod")("FBPaymentsNationalIDFormBase","_getCustomFormField")};k.prototype.__getForm=function(){return c("abstractMethod")("FBPaymentsNationalIDFormBase","_getForm")};k.prototype.render=function(){var l=this.$FBPaymentsNationalIDFormBase1(),m=l.map(this.$FBPaymentsNationalIDFormBase3,this).toJS(),n=this.__getForm();return c("React").createElement(n,{className:this.props.className,onChange:this.props.onChange},m)};f.exports=k}),null);
__d("FBPaymentsNationalIDForm.react",["FBPaymentsCustomFormField.react","FBPaymentsForm.react","FBPaymentsNationalIDFormBase.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsNationalIDFormBase.react"));i=h&&h.prototype;j.prototype.__getCustomFormField=function(){return c("FBPaymentsCustomFormField.react")};j.prototype.__getForm=function(){return c("FBPaymentsForm.react")};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBDragDropFileInput.react",["cx","DragDropTarget","React","ReactDOM","joinClasses","shallowCompare"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;function k(event){return event.currentTarget}i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){__p&&__p();var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$FBDragDropFileInput2=function(){c("ReactDOM").findDOMNode(this.refs.fileInput).click()}.bind(this),this.$FBDragDropFileInput1=function(r){__p&&__p();var s=[],t=[];if(r.length>1&&!this.props.multiple)s.push({type:"too_many_files"});for(var u=0;u<r.length;u++){var v=r[u];if(this.$FBDragDropFileInput4(v.type))t.push(v);else s.push({type:"incorrect_type",data:{name:v.name}})}this.props.onSelect(t,s)}.bind(this),this.$FBDragDropFileInput3=function(event){event.preventDefault();this.$FBDragDropFileInput1(k(event).files)}.bind(this),n}l.prototype.shouldComponentUpdate=function(m){return c("shallowCompare")(this,m)};l.prototype.componentDidMount=function(){new(c("DragDropTarget"))(c("ReactDOM").findDOMNode(this)).setOnFilesDropCallback(this.$FBDragDropFileInput1).enable()};l.prototype.render=function(){var m=this.props.className;return c("React").createElement("div",{className:c("joinClasses")(m,"_44he"),onClick:this.$FBDragDropFileInput2,role:"presentation"},this.props.children,c("React").createElement("input",{accept:this.props.mimeTypes.join(","),className:"_44hf",multiple:this.props.multiple,onChange:this.$FBDragDropFileInput3,ref:"fileInput",type:"file",value:""}))};l.prototype.$FBDragDropFileInput4=function(m){var n=this.props.mimeTypes,o=m.substring(0,m.indexOf("/"))+"/*";return n.includes(m)||n.includes(o)};f.exports=l}),null);
__d("FBPaymentsImageFileInputStrings",["fbt"],(function a(b,c,d,e,f,g,h){"use strict";var i={fileFormatIncorrect:function j(){return h._("The format of your image is incorrect. Please upload a PNG or JPG file.")},multipleFileUploaded:function j(){return h._("Your upload contains multiple files. Please upload 1 image.")},fileSizeTooLarge:function j(k){return h._("Please upload an image smaller than {max_size_in_mb} MB.",[h.param("max_size_in_mb",k)])}};f.exports=i}),null);
__d("FBPaymentsImageFileInput.react",["ix","cx","fbt","CenteredContainer.react","Event","FBDragDropFileInput.react","FBPaymentsImageFileInputStrings","React","ReactDOM","Image.react","XUIGrayText.react","fbglyph","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("React").PropTypes,n=5e3,o=1024,p=o*o,q="image/png",r="image/jpeg";k=babelHelpers.inherits(s,c("React").PureComponent);l=k&&k.prototype;function s(t){__p&&__p();l.constructor.call(this,t);this.$FBPaymentsImageFileInput11=function(){if(this.$FBPaymentsImageFileInput3>0)this.$FBPaymentsImageFileInput12()}.bind(this);this.$FBPaymentsImageFileInput7=function(u,v){__p&&__p();if(v.length>0){var w=v[0],x=null;switch(w.type){case"too_many_files":x=c("FBPaymentsImageFileInputStrings").multipleFileUploaded();break;case"incorrect_type":x=c("FBPaymentsImageFileInputStrings").fileFormatIncorrect();break}this.setState({errorMessage:x});return}if(u.length>0)this.$FBPaymentsImageFileInput9(u[0])}.bind(this);this.$FBPaymentsImageFileInput5=function(){if(!this.state.errorShown)this.setState({errorMessage:null})}.bind(this);this.$FBPaymentsImageFileInput6=function(){this.setState({errorShown:false})}.bind(this);this.$FBPaymentsImageFileInput1=[];this.$FBPaymentsImageFileInput2=null;this.$FBPaymentsImageFileInput3=0;this.$FBPaymentsImageFileInput4=null;this.state={errorMessage:null,errorShown:false}}s.prototype.componentDidMount=function(){this.$FBPaymentsImageFileInput4=c("Event").listen(c("ReactDOM").findDOMNode(this.refs.error),"transitionend",this.$FBPaymentsImageFileInput5)};s.prototype.componentWillUnmount=function(){if(this.$FBPaymentsImageFileInput4)this.$FBPaymentsImageFileInput4.remove()};s.prototype.componentWillUpdate=function(t,u){var v=u.errorMessage;if(v&&v!==this.state.errorMessage){this.setState({errorShown:true});clearTimeout(this.$FBPaymentsImageFileInput2);this.$FBPaymentsImageFileInput2=setTimeout(this.$FBPaymentsImageFileInput6,n)}};s.prototype.render=function(){var t=this.props.className,u=this.state,v=u.errorMessage,w=u.errorShown;return c("React").createElement(c("FBDragDropFileInput.react"),{className:c("joinClasses")(t,"_1-c0"),mimeTypes:[q,r],onSelect:this.$FBPaymentsImageFileInput7},c("React").createElement(c("CenteredContainer.react"),{vertical:true,horizontal:true},c("React").createElement("div",{className:"_1-c1"+(w?" _1-c2":""),ref:"error"},c("React").createElement(c("Image.react"),{className:"_1-ck _3-8_",src:h("117756")}),c("React").createElement(c("XUIGrayText.react"),{shade:"medium"},v)),c("React").createElement("div",{className:"_1-cl"},this.props.uploadButtonIcon,this.$FBPaymentsImageFileInput8()),this.props.fileDescriptionText?c("React").createElement(c("XUIGrayText.react"),{className:"_3-8y",display:"block",shade:"medium",size:"header4"},this.props.fileDescriptionText):null))};s.prototype.$FBPaymentsImageFileInput9=function(t){this.$FBPaymentsImageFileInput3=1;var u=new Image();u.addEventListener("load",this.$FBPaymentsImageFileInput10.bind(this,u,t));u.addEventListener("error",this.$FBPaymentsImageFileInput11);u.src=URL.createObjectURL(t)};s.prototype.$FBPaymentsImageFileInput10=function(t,u){var v=this.props.maxFileSizeMB;if(u.size<=v*p)this.$FBPaymentsImageFileInput1.push(u);else this.setState({errorMessage:c("FBPaymentsImageFileInputStrings").fileSizeTooLarge(this.props.maxFileSizeMB)});this.$FBPaymentsImageFileInput11()};s.prototype.$FBPaymentsImageFileInput12=function(){if(this.$FBPaymentsImageFileInput1.length>0)this.props.onFileSelect(this.$FBPaymentsImageFileInput1[0]);this.$FBPaymentsImageFileInput1=[]};s.prototype.$FBPaymentsImageFileInput8=function(){return this.props.uploadButtonLabel||j._("Upload Photo")};s.propTypes={className:m.string,fileDescriptionText:m.string,maxFileSizeMB:m.number.isRequired,onFileSelect:m.func.isRequired,uploadButtonIcon:m.node,uploadButtonLabel:m.string};f.exports=s}),null);
__d("FBPaymentsImageFileInputWithPreviewBase.react",["React"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;function k(l){i.constructor.call(this,l);this.state={errorMessage:null}}k.propTypes={fileDescriptionText:j.string,maxFileSizeMB:j.number.isRequired,onCancel:j.func.isRequired,onSelect:j.func.isRequired,selectedImage:j.instanceOf(File),uploadButtonLabel:j.string,uploadButtonIcon:j.node};f.exports=k}),null);
__d("FBPaymentsImageUploadPreview.react",["cx","Image.react","React","XUICloseButton.react","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;l.prototype.render=function(){return c("React").createElement("div",{className:c("joinClasses")(this.props.className,"_1rj7")},c("React").createElement(c("Image.react"),{className:"_1rj8",height:this.props.height,src:this.props.overlaySrc,width:this.props.width}),c("React").createElement("div",{className:"_1rja"},c("React").createElement(c("XUICloseButton.react"),{className:"_1rjb",onClick:this.props.onCancel,shade:"light",size:"medium"})))};function l(){i.apply(this,arguments)}l.propTypes={className:k.string,height:k.number,onCancel:k.func.isRequired,overlaySrc:k.oneOfType([k.string,k.object]).isRequired,width:k.number};f.exports=l}),null);
__d("FBPaymentsImageFileInputWithPreview.react",["cx","FBPaymentsImageFileInput.react","FBPaymentsImageFileInputWithPreviewBase.react","FBPaymentsImageUploadPreview.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsImageFileInputWithPreviewBase.react"));j=i&&i.prototype;k.prototype.render=function(){var l=this.props,m=l.maxFileSizeMB,n=l.onCancel,o=l.selectedImage,p=null;if(o)p=c("React").createElement(c("FBPaymentsImageUploadPreview.react"),{className:"_5-95",onCancel:n,overlaySrc:URL.createObjectURL(o)});return c("React").createElement("div",null,p,c("React").createElement(c("FBPaymentsImageFileInput.react"),{className:(o?"hidden_elem":"")+" _5-96",fileDescriptionText:this.props.fileDescriptionText,maxFileSizeMB:m,onFileSelect:this.props.onSelect,uploadButtonIcon:this.props.uploadButtonIcon,uploadButtonLabel:this.props.uploadButtonLabel}))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsSSNFormBase.react",["fbt","FBPaymentsNormalizers","FBPaymentsValidators","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.FULL_SSN_LENGTH=9,this.LAST_4_SSN_LENGTH=4,n}l.prototype.getFullSSNConfig=function(){var m=h._("Please enter your 9 digit Social Security number.");return{normalizeOnChange:true,normalizers:[c("FBPaymentsNormalizers").stripNonNumeric,c("FBPaymentsNormalizers").truncate(this.FULL_SSN_LENGTH)],validations:[{validator:c("FBPaymentsValidators").nonEmpty,errorMessage:m},{validator:c("FBPaymentsValidators").exactLength(this.FULL_SSN_LENGTH),errorMessage:m}]}};l.prototype.getSSNLast4Config=function(){var m=h._("Please enter the last 4 digits of your Social Security number.");return{normalizeOnChange:true,normalizers:[c("FBPaymentsNormalizers").stripNonNumeric,c("FBPaymentsNormalizers").truncate(this.LAST_4_SSN_LENGTH)],validations:[{validator:c("FBPaymentsValidators").nonEmpty,errorMessage:m},{validator:c("FBPaymentsValidators").exactLength(this.LAST_4_SSN_LENGTH),errorMessage:m}]}};l.prototype.getFullSSNLabel=function(){return h._("Social Security Number")};l.prototype.getSSNLast4Label=function(){return h._("Last 4 Digits of Social Security Number")};l.prototype.collectFullSSN=function(){return this.props.type==="full"};l.propTypes={className:k.string,formFieldName:k.string.isRequired,onChange:k.func.isRequired,type:k.string.isRequired};l.defaultProps={formFieldName:"ssn"};f.exports=l}),null);
__d("FBPaymentsSSNForm.react",["cx","FBPaymentsForm.react","FBPaymentsFormField.react","FBPaymentsSSNFormBase.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsSSNFormBase.react"));j=i&&i.prototype;k.prototype.render=function(){var l=this.collectFullSSN()?c("React").createElement(c("FBPaymentsFormField.react"),{classNameOnInput:"_2xad",config:this.getFullSSNConfig(),height:"tall",label:this.getFullSSNLabel(),name:this.props.formFieldName,required:true}):c("React").createElement(c("FBPaymentsFormField.react"),{classNameOnInput:"_2xad _2xae",config:this.getSSNLast4Config(),height:"tall",label:this.getSSNLast4Label(),name:this.props.formFieldName,required:true});return c("React").createElement(c("FBPaymentsForm.react"),{className:this.props.className,onChange:this.props.onChange},l)};function k(){i.apply(this,arguments)}k.propTypes=c("FBPaymentsSSNFormBase.react").propTypes;f.exports=k}),null);
__d("FBPaymentsHeaderBase.react",["ix","cx","Image.react","ImageBlock.react","React","abstractMethod","fbglyph","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m=48;j=babelHelpers.inherits(n,c("React").PureComponent);k=j&&j.prototype;n.prototype.__getItemSummaryView=function(){return c("abstractMethod")("FBPaymentsHeaderBase","__getItemSummaryView")};n.prototype.__renderDescription=function(){return c("abstractMethod")("FBPaymentsHeaderBase","__renderDescription")};n.prototype.render=function(){var o=this.__renderDescription();if(this.props.showCheckmark)return c("React").createElement(c("ImageBlock.react"),{className:c("joinClasses")("_2ph_",this.props.className)},c("React").createElement(c("Image.react"),{src:h("133793")}),o);var p=this.__getItemSummaryView();return c("React").createElement(p,{className:this.props.className,imageSrc:this.props.imageSrc,imageHeight:m},o)};function n(){j.apply(this,arguments)}n.propTypes={className:l.string,description:l.string.isRequired,imageSrc:l.string,showCheckmark:l.bool};f.exports=n}),null);
__d("FBPaymentsHeader.react",["FBPaymentsHeaderBase.react","FBPaymentsItemSummaryView.react","React","XUIGrayText.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsHeaderBase.react"));i=h&&h.prototype;j.prototype.__getItemSummaryView=function(){return c("FBPaymentsItemSummaryView.react")};j.prototype.__renderDescription=function(){return c("React").createElement(c("XUIGrayText.react"),{shade:"medium",size:"header4"},this.props.description)};j.prototype.render=function(){return i.render.call(this)};function j(){h.apply(this,arguments)}j.propTypes=c("FBPaymentsHeaderBase.react").propTypes;f.exports=j}),null);
__d("FBPaymentsCommonTypes",["React"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes,i=h.shape({description:h.string.isRequired,hasCheckmark:h.bool,imageURL:h.string}),j={description:h.node.isRequired,header:h.node.isRequired,imageURL:h.oneOfType([h.string,h.object]).isRequired},k={HeaderPropTypes:i,ConfirmationPropTypes:j};f.exports=k}),null);
__d("FBPaymentsPayoutConfirmationViewBase.react",["FBPaymentsCommonTypes","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.IMAGE_HEIGHT=180,this.IMAGE_WIDTH=290,l}j.propTypes=c("FBPaymentsCommonTypes").ConfirmationPropTypes;f.exports=j}),null);
__d("FBPaymentsPayoutConfirmationView.react",["cx","CenteredContainer.react","FBPaymentsPayoutConfirmationViewBase.react","Image.react","React","XUIGrayText.react"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("FBPaymentsPayoutConfirmationViewBase.react"));j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement(c("CenteredContainer.react"),{className:"_2e9t",vertical:true},c("React").createElement(c("Image.react"),{className:"_2e9u",height:this.IMAGE_HEIGHT,src:this.props.imageURL,width:this.IMAGE_WIDTH}),c("React").createElement(c("XUIGrayText.react"),{className:"_2e9v",display:"block",shade:"dark",size:"header3"},this.props.header),c("React").createElement(c("XUIGrayText.react"),{className:"_2e9x",display:"block",shade:"medium",size:"header4"},this.props.description))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsVerificationConstants",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h={ACTIONS:c("keyMirror")({SET_DATE_OF_BIRTH_DAY:"",SET_DATE_OF_BIRTH_MONTH:"",SET_DATE_OF_BIRTH_YEAR:"",SET_DATE_OF_BIRTH:"",SET_FULL_NAME:"",SET_ADDRESS_STREET1:"",SET_ADDRESS_STREET2:"",SET_ADDRESS_CITY:"",SET_ADDRESS_STATE:"",SET_ADDRESS_ZIP:"",SET_ADDRESS_COUNTRY:"",SET_ADDRESS:"",SET_SSN_FULL:"",SET_SSN_LAST_4:"",SET_NATIONAL_ID:"",SET_IDENTITY_DOCUMENT:"",SET_CREDIT_CARD_CVV:""}),STORE_KEYS:c("keyMirror")({DATE_OF_BIRTH_DAY:"",DATE_OF_BIRTH_MONTH:"",DATE_OF_BIRTH_YEAR:"",FIRST_NAME:"",LAST_NAME:"",ADDRESS_STREET1:"",ADDRESS_STREET2:"",ADDRESS_CITY:"",ADDRESS_STATE:"",ADDRESS_ZIP:"",ADDRESS_COUNTRY:"",SSN_LAST_4:"",NATIONAL_ID:"",IDENTITY_DOCUMENT:"",CREDIT_CARD_CVV:""}),PREFILL_MANAGER_KEYS:c("keyMirror")({FULL_NAME:"",DATE_OF_BIRTH:"",ADDRESS:""})};f.exports=h}),null);
__d("FBPaymentsVerificationStore",["FBPaymentsAddressFieldNames","FBPaymentsDispatcher","FBPaymentsLegalNameFieldNames","FBPaymentsVerificationConstants","FluxMapStore","immutable"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("FBPaymentsVerificationConstants").ACTIONS,k=c("FBPaymentsVerificationConstants").STORE_KEYS;h=babelHelpers.inherits(l,c("FluxMapStore"));i=h&&h.prototype;l.prototype.getInitialState=function(){var m;return c("immutable").Map((m={},m[k.DATE_OF_BIRTH_DAY]=null,m[k.DATE_OF_BIRTH_MONTH]=null,m[k.DATE_OF_BIRTH_YEAR]=null,m[k.FIRST_NAME]=null,m[k.LAST_NAME]=null,m[k.ADDRESS_STREET1]=null,m[k.ADDRESS_STREET2]=null,m[k.ADDRESS_CITY]=null,m[k.ADDRESS_STATE]=null,m[k.ADDRESS_ZIP]=null,m[k.ADDRESS_COUNTRY]=null,m[k.SSN_LAST_4]=null,m[k.NATIONAL_ID]=null,m[k.IDENTITY_DOCUMENT]=null,m[k.CREDIT_CARD_CVV]=null,m))};l.prototype.reduce=function(m,n){__p&&__p();switch(n.type){case j.SET_DATE_OF_BIRTH_DAY:m=m.set(k.DATE_OF_BIRTH_DAY,n.value);return m;case j.SET_DATE_OF_BIRTH_MONTH:m=m.set(k.DATE_OF_BIRTH_MONTH,n.value);return m;case j.SET_DATE_OF_BIRTH_YEAR:m=m.set(k.DATE_OF_BIRTH_YEAR,n.value);return m;case j.SET_DATE_OF_BIRTH:m=m.set(k.DATE_OF_BIRTH_DAY,n.data.day).set(k.DATE_OF_BIRTH_MONTH,n.data.month).set(k.DATE_OF_BIRTH_YEAR,n.data.year);return m;case j.SET_FULL_NAME:m=m.set(k.FIRST_NAME,n.data[c("FBPaymentsLegalNameFieldNames").FIRST_NAME]).set(k.LAST_NAME,n.data[c("FBPaymentsLegalNameFieldNames").LAST_NAME]);return m;case j.SET_ADDRESS_STREET1:m=m.set(k.ADDRESS_STREET1,n.value);return m;case j.SET_ADDRESS_STREET2:m=m.set(k.ADDRESS_STREET2,n.value);return m;case j.SET_ADDRESS_CITY:m=m.set(k.ADDRESS_CITY,n.value);return m;case j.SET_ADDRESS_STATE:m=m.set(k.ADDRESS_STATE,n.value);return m;case j.SET_ADDRESS_ZIP:m=m.set(k.ADDRESS_ZIP,n.value);return m;case j.SET_ADDRESS_COUNTRY:m=m.set(k.ADDRESS_COUNTRY,n.value);return m;case j.SET_ADDRESS:m=m.set(k.ADDRESS_STREET1,n.data[c("FBPaymentsAddressFieldNames").STREET1]).set(k.ADDRESS_STREET2,n.data[c("FBPaymentsAddressFieldNames").STREET2]).set(k.ADDRESS_CITY,n.data[c("FBPaymentsAddressFieldNames").CITY]).set(k.ADDRESS_STATE,n.data[c("FBPaymentsAddressFieldNames").STATE]).set(k.ADDRESS_ZIP,n.data[c("FBPaymentsAddressFieldNames").ZIP]).set(k.ADDRESS_COUNTRY,n.data[c("FBPaymentsAddressFieldNames").COUNTRY]);return m;case j.SET_SSN_FULL:case j.SET_NATIONAL_ID:m=m.set(k.NATIONAL_ID,n.value);return m;case j.SET_SSN_LAST_4:m=m.set(k.SSN_LAST_4,n.value);return m;case j.SET_IDENTITY_DOCUMENT:m=m.set(k.IDENTITY_DOCUMENT,n.file);return m;case j.SET_CREDIT_CARD_CVV:return m.set(k.CREDIT_CARD_CVV,n.value);default:return m}};l.prototype.getVerificationDataForAPICall=function(){var m=this.getState();return{dob_year:m.get(k.DATE_OF_BIRTH_YEAR),dob_month:m.get(k.DATE_OF_BIRTH_MONTH),dob_day:m.get(k.DATE_OF_BIRTH_DAY),first_name:m.get(k.FIRST_NAME),last_name:m.get(k.LAST_NAME),address_street1:m.get(k.ADDRESS_STREET1),address_street2:m.get(k.ADDRESS_STREET2),address_city:m.get(k.ADDRESS_CITY),address_state:m.get(k.ADDRESS_STATE),address_postal:m.get(k.ADDRESS_ZIP),address_country:m.get(k.ADDRESS_COUNTRY),ssn_last_four:m.get(k.SSN_LAST_4),ssn:m.get(k.NATIONAL_ID),identity_document:m.get(k.IDENTITY_DOCUMENT),csc:m.get(k.CREDIT_CARD_CVV)}};function l(){h.apply(this,arguments)}f.exports=new l(c("FBPaymentsDispatcher"))}),null);
__d("UserVerificationProductType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ADS:"ADS",P2P:"P2P",P4C:"P4C",MANAGED_STRIPE:"MANAGED_STRIPE"})}),null);
__d("UserVerificationScreen",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({INTRODUCTION:"INTRODUCTION",REQUEST_LEGAL_NAME:"REQUEST_LEGAL_NAME",REQUEST_SSN_LAST_FOUR:"REQUEST_SSN_LAST_FOUR",REQUEST_CC_CVV:"REQUEST_CC_CVV",REQUEST_CC_FIRST_SIX:"REQUEST_CC_FIRST_SIX",PENDING_MANUAL_REVIEW:"PENDING_MANUAL_REVIEW",SUCCESS:"SUCCESS",FAILURE:"FAILURE",ADS_SUCCESS:"ADS_SUCCESS",REQUEST_DATE_OF_BIRTH:"REQUEST_DATE_OF_BIRTH",REQUEST_NAME_AND_DATE_OF_BIRTH:"REQUEST_NAME_AND_DATE_OF_BIRTH",REQUEST_ADDRESS:"REQUEST_ADDRESS",REQUEST_DATE_OF_BIRTH_AND_ADDRESS:"REQUEST_DATE_OF_BIRTH_AND_ADDRESS",REQUEST_NAME_AND_DATE_OF_BIRTH_AND_ADDRESS:"REQUEST_NAME_AND_DATE_OF_BIRTH_AND_ADDRESS",REQUEST_FULL_SSN:"REQUEST_FULL_SSN",REQUEST_VERIFICATION_DOCUMENT:"REQUEST_VERIFICATION_DOCUMENT",REQUEST_NATIONAL_ID:"REQUEST_NATIONAL_ID"})}),null);
__d("FBPaymentsVerificationFlowContainerBase.react",["CurrentUser","FBPaymentsDispatcher","FBPaymentsLoggerConstants","FBPaymentsVerificationConstants","FBPaymentsVerificationStore","immutable","Map","PaymentModulesGating","React","UserVerificationProductType","UserVerificationScreen","abstractMethod","emptyFunction","guid","idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("FBPaymentsLoggerConstants").LoggerFlowType,k=c("FBPaymentsLoggerConstants").LoggerFlowStep,l=c("FBPaymentsLoggerConstants").LoggerEvent,m=c("FBPaymentsVerificationConstants").PREFILL_MANAGER_KEYS;h=babelHelpers.inherits(n,c("React").Component);i=h&&h.prototype;function n(o){__p&&__p();i.constructor.call(this,o);this.$FBPaymentsVerificationFlowContainerBase1=function(q,r,s,t,u,v){this.__logger.setFlowStep(this.__getVerificationFlowStep(this.state.screen)).setEventName(l.SUCCESS).updateExtraData({next_screen:q}).log();if(this.__shouldUpdateURLForFinalScreen){var w=this.__updateURLForFinalScreen(q);if(w){this.setState({loading:false});return}}this.setState({loading:false,screen:q,header:r,footerContents:s,footerLinks:t,formConfig:u,screenData:v})}.bind(this);this.$FBPaymentsVerificationFlowContainerBase2=function(q){this.__logger.setFlowStep(this.__getVerificationFlowStep(this.state.screen)).setEventName(l.FAIL).setUserFacingMessage(q.message).setErrorMessage(q.serverErrorMessage).setExceptionClass(q.exceptionClass).setUserFacingErrorCode(q.code).setErrorCode(q.code).log();this.setState({errorMessage:q.message,loading:false})}.bind(this);this.$FBPaymentsVerificationFlowContainerBase3=function(){this.__logger.setFlowStep(this.__getVerificationFlowStep(this.state.screen)).setEventName(l.SUBMIT).log();this.makeUserVerificationDataUpdateCall(false)}.bind(this);this.$FBPaymentsVerificationFlowContainerBase4=function(){this.__logger.setFlowStep(this.__getVerificationFlowStep(this.state.screen)).setEventName(l.DONE).log();this.__handleDialogClose()}.bind(this);this.__handleDialogClose=function(){this.logDialogClose();this.props.onClose&&this.props.onClose()}.bind(this);c("FBPaymentsDispatcher").explicitlyRegisterStores([c("FBPaymentsVerificationStore")]);this.__sessionID=o.sessionID||c("guid")();var p=this.__getLogger();this.__logger=new p();this.__logger.setGlobalFields({session_id:this.__sessionID,product:o.paymentType,provider:o.verificationProductType,flow_name:j.VERIFICATION});this.__logger.setGlobalExtraData(o.extraDataForLogging||{});this.__logger.setFlowStep(k.VERIFICATION).setEventName(l.INIT).log();this.state={errorMessage:null,footerContents:c("immutable").List(),footerLinks:c("immutable").List(),formConfig:c("immutable").List(),header:null,loading:true,screen:null,screenData:null};this.__shouldUpdateURLForFinalScreen=o.verificationProductType===c("UserVerificationProductType").P2P}n.prototype.componentWillMount=function(){this.makeUserVerificationDataUpdateCall(true)};n.prototype.makeUserVerificationDataUpdateCall=function(o){var p;this.setState({errorMessage:null,loading:true});var q=void 0,r=void 0;if(!o){q=c("FBPaymentsVerificationStore").getVerificationDataForAPICall();r=this.state.screen}this.__getAPI().updateUserVerificationData({credential_id:(p=this.state.screenData)!=null?p.card_credential_id:p,product_type:this.props.verificationProductType,payment_type:this.props.paymentType,receiver_id:c("CurrentUser").getID(),risk_state_ids:this.props.riskStateIDs,session_id:this.__sessionID,submitted_screen:r,user_input:q},this.$FBPaymentsVerificationFlowContainerBase1,this.$FBPaymentsVerificationFlowContainerBase2)};n.prototype.buildPrefillManager=function(){__p&&__p();var o=new(c("Map"))();switch(this.props.verificationProductType){case c("UserVerificationProductType").P2P:o.set(m.ADDRESS,false);o.set(m.FULL_NAME,false);o.set(m.DATE_OF_BIRTH,true);break;case c("UserVerificationProductType").MANAGED_STRIPE:var p=c("PaymentModulesGating").isEnabledForP4PVerificationAddressPrefill;o.set(m.ADDRESS,p);o.set(m.FULL_NAME,true);o.set(m.DATE_OF_BIRTH,true);break}return o};n.prototype.logDialogClose=function(){this.__logger.setFlowStep(this.__getVerificationFlowStep(this.state.screen)).setEventName(l.CANCEL).log()};n.prototype.__getVerificationFlowStep=function(o){__p&&__p();switch(o){case c("UserVerificationScreen").REQUEST_DATE_OF_BIRTH:return k.DOB;case c("UserVerificationScreen").REQUEST_NAME_AND_DATE_OF_BIRTH:return k.NAME_AND_DOB;case c("UserVerificationScreen").REQUEST_ADDRESS:return k.ADDRESS;case c("UserVerificationScreen").REQUEST_NAME_AND_DATE_OF_BIRTH_AND_ADDRESS:return k.NAME_AND_DOB_AND_ADDRESS;case c("UserVerificationScreen").REQUEST_FULL_SSN:return k.SSN_FULL;case c("UserVerificationScreen").REQUEST_SSN_LAST_FOUR:return k.SSN_LAST_4;case c("UserVerificationScreen").REQUEST_VERIFICATION_DOCUMENT:return k.VERIFICATION_DOCUMENT;case c("UserVerificationScreen").SUCCESS:return k.CONFIRMATION;case c("UserVerificationScreen").PENDING_MANUAL_REVIEW:return k.PENDING_MANUAL_REVIEW;case c("UserVerificationScreen").FAILURE:return k.FAILURE;case c("UserVerificationScreen").INTRODUCTION:return k.INTRODUCTION;case c("UserVerificationScreen").REQUEST_CC_CVV:return k.REQUEST_CC_CVV;default:return j.VERIFICATION}};n.prototype.__getVerificationFlowView=function(){return c("abstractMethod")("FBPaymentsVerificationFlowContainerBase","__getVerificationFlowView")};n.prototype.__getScreenManager=function(){return c("abstractMethod")("FBPaymentsVerificationFlowContainerBase","__getScreenManager")};n.prototype.__getAPI=function(){return c("abstractMethod")("FBPaymentsVerificationFlowContainerBase","__getAPI")};n.prototype.__getLogger=function(){return c("abstractMethod")("FBPaymentsCheckoutFlowContainerBase","__getLogger")};n.prototype.__updateURLForFinalScreen=function(o){return c("abstractMethod")("FBPaymentsCheckoutFlowContainerBase","__updateURLforFinalScreen")};n.prototype.render=function(){var o=this.state.screen,p=void 0;if(o){var q=this.__getScreenManager().getVerificationScreen(o),r=this.buildPrefillManager();p=c("React").createElement(q,{errorMessage:this.state.errorMessage,footerContents:this.state.footerContents,footerLinks:this.state.footerLinks,formConfig:this.state.formConfig,header:this.state.header,logger:this.__logger,onBackClick:c("emptyFunction"),onDoneClick:this.$FBPaymentsVerificationFlowContainerBase4,onSubmitClick:this.$FBPaymentsVerificationFlowContainerBase3,paymentType:this.props.paymentType,prefillManager:r,verificationFlowTitle:this.props.verificationFlowTitle,screenData:this.state.screenData})}var s=this.__getVerificationFlowView();return c("React").createElement(s,{errorMessage:this.state.errorMessage,header:this.state.header,isAsyncDialogBody:this.props.isAsyncDialogBody,isLoading:this.state.loading,onDialogClose:this.__handleDialogClose,screen:p,theme:this.props.theme})};f.exports=n}),null);
__d("FBPaymentsVerificationFlowViewBase.react",["fbt","FBPaymentsCommonTypes","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes,l=c("FBPaymentsCommonTypes").HeaderPropTypes;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;m.prototype.getVerifyFlowTitle=function(){return h._("Verify Your Info")};m.prototype.getBackButtonText=function(){return h._("Back")};function m(){i.apply(this,arguments)}m.propTypes={header:l,isAsyncDialogBody:k.bool,isLoading:k.bool.isRequired,onDialogClose:k.func.isRequired,screen:k.node};f.exports=m}),null);
__d("FBPaymentsVerificationFlowView.react",["cx","FBPaymentsHeader.react","FBPaymentsLoadingView.react","FBPaymentsVerificationFlowViewBase.react","React","XUIDialog.react","XUIDialogBody.react","XUIDialogTitle.react","XUINotice.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=500;i=babelHelpers.inherits(l,c("FBPaymentsVerificationFlowViewBase.react"));j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$FBPaymentsVerificationFlowView1=function(r){if(!r)this.props.onDialogClose()}.bind(this),n}l.prototype.$FBPaymentsVerificationFlowView2=function(){if(!this.props.header)return null;return c("React").createElement(c("FBPaymentsHeader.react"),{description:this.props.header.description,imageSrc:this.props.header.imageURL})};l.prototype.$FBPaymentsVerificationFlowView3=function(){if(!this.props.errorMessage)return null;return c("React").createElement(c("XUINotice.react"),{className:"_3-8j",use:"warn"},this.props.errorMessage)};l.prototype.render=function(){var m=this.$FBPaymentsVerificationFlowView2(),n=c("React").createElement("div",{className:"_163x"},c("React").createElement(c("XUIDialogTitle.react"),{className:"_5q-b _qu2",showCloseButton:true},this.getVerifyFlowTitle()),c("React").createElement(c("XUIDialogBody.react"),{className:"_1jnq",useCustomPadding:true},m,c("React").createElement("div",{className:(!!m?"_5kyc":"")+" _5zdu"},this.$FBPaymentsVerificationFlowView3(),this.props.screen,c("React").createElement(c("FBPaymentsLoadingView.react"),{overlay:!!this.props.screen,visible:this.props.isLoading}))));if(this.props.isAsyncDialogBody)return n;return c("React").createElement(c("XUIDialog.react"),{layerHideOnBlur:false,onToggle:this.$FBPaymentsVerificationFlowView1,shown:true,width:k},n)};f.exports=l}),null);
__d("FBPaymentsVerificationActions",["FBPaymentsDispatcher","FBPaymentsVerificationConstants"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("FBPaymentsVerificationConstants").ACTIONS,i={setDateOfBirthDay:function j(k){var l={type:h.SET_DATE_OF_BIRTH_DAY,value:k};c("FBPaymentsDispatcher").dispatch(l)},setDateOfBirthMonth:function j(k){var l={type:h.SET_DATE_OF_BIRTH_MONTH,value:k};c("FBPaymentsDispatcher").dispatch(l)},setDateOfBirthYear:function j(k){var l={type:h.SET_DATE_OF_BIRTH_YEAR,value:k};c("FBPaymentsDispatcher").dispatch(l)},setDateOfBirth:function j(k){var l={type:h.SET_DATE_OF_BIRTH,data:k};c("FBPaymentsDispatcher").dispatch(l)},setFullName:function j(k){var l={type:h.SET_FULL_NAME,data:k};c("FBPaymentsDispatcher").dispatch(l)},setAddressStreet1:function j(k){var l={type:h.SET_ADDRESS_STREET1,value:k};c("FBPaymentsDispatcher").dispatch(l)},setAddressStreet2:function j(k){var l={type:h.SET_ADDRESS_STREET2,value:k};c("FBPaymentsDispatcher").dispatch(l)},setAddressCity:function j(k){var l={type:h.SET_ADDRESS_CITY,value:k};c("FBPaymentsDispatcher").dispatch(l)},setAddressState:function j(k){var l={type:h.SET_ADDRESS_STATE,value:k};c("FBPaymentsDispatcher").dispatch(l)},setAddressZip:function j(k){var l={type:h.SET_ADDRESS_ZIP,value:k};c("FBPaymentsDispatcher").dispatch(l)},setAddressCountry:function j(k){var l={type:h.SET_ADDRESS_COUNTRY,value:k};c("FBPaymentsDispatcher").dispatch(l)},setAddress:function j(k){var l={type:h.SET_ADDRESS,data:k};c("FBPaymentsDispatcher").dispatch(l)},setFullSSN:function j(k){var l={type:h.SET_SSN_FULL,value:k};c("FBPaymentsDispatcher").dispatch(l)},setSSNLast4:function j(k){var l={type:h.SET_SSN_LAST_4,value:k};c("FBPaymentsDispatcher").dispatch(l)},setNationalID:function j(k){var l={type:h.SET_NATIONAL_ID,value:k};c("FBPaymentsDispatcher").dispatch(l)},setIdentityDocument:function j(k){var l={type:h.SET_IDENTITY_DOCUMENT,file:k};c("FBPaymentsDispatcher").dispatch(l)},setCreditCardCVV:function j(k){var l={type:h.SET_CREDIT_CARD_CVV,value:k};c("FBPaymentsDispatcher").dispatch(l)}};f.exports=i}),null);
__d("FBPaymentsVerificationScreenInterface.react",["fbt","FBPaymentsCommonTypes","FBPaymentsLoggerBase","immutable","Map","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("FBPaymentsCommonTypes").HeaderPropTypes,l=c("React").PropTypes;i=babelHelpers.inherits(m,c("React").PureComponent);j=i&&i.prototype;m.prototype.getSubmitButtonText=function(){return h._("Submit")};m.prototype.getVerifyFlowTitle=function(){var n=this.props.verificationFlowTitle?this.props.verificationFlowTitle:h._("Verify Your Info");return n};m.prototype.getBackButtonText=function(){return h._("Back")};m.shouldPrefillField=function(n,o){var p=o.prefillManager.get(n);return p===undefined?true:p};function m(){i.apply(this,arguments)}m.propTypes={errorMessage:l.node,header:k,footerContents:l.instanceOf(c("immutable").List),footerLinks:l.instanceOf(c("immutable").List),formConfig:l.instanceOf(c("immutable").List),logger:l.instanceOf(c("FBPaymentsLoggerBase")).isRequired,onBackClick:l.func.isRequired,onDoneClick:l.func.isRequired,onSubmitClick:l.func.isRequired,paymentType:l.string.isRequired,prefillManager:l.instanceOf(c("Map")).isRequired,verificationFlowTitle:l.string};f.exports=m}),null);
__d("FBPaymentsVerificationAddressScreenBase.react",["fbt","FBPaymentsAddressFieldNames","FBPaymentsContactInfoTypes","FBPaymentsLoggerConstants","FBPaymentsMailingAddress","FBPaymentsVerificationActions","FBPaymentsVerificationConstants","FBPaymentsVerificationScreenInterface.react","FBPaymentsVerificationStore","immutable","abstractMethod"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("immutable").List,l=c("FBPaymentsVerificationConstants").PREFILL_MANAGER_KEYS,m=c("FBPaymentsLoggerConstants").LoggerEvent,n=c("FBPaymentsLoggerConstants").LoggerFlowStep,o="US",p=c("FBPaymentsContactInfoTypes").MAILING_ADDRESS;i=babelHelpers.inherits(q,c("FBPaymentsVerificationScreenInterface.react"));j=i&&i.prototype;function q(r){__p&&__p();j.constructor.call(this,r);this.handleFormSubmitButtonClick=function(){var s=this.state.addressFormData;c("FBPaymentsVerificationActions").setAddress(s);this.props.onSubmitClick()}.bind(this);this.handleFormDataChange=function(s,t){this.setState({addressFormData:s,isAddressFormValid:t})}.bind(this);this.handlePickerDataChange=function(s){var t,u=(t={},t[c("FBPaymentsAddressFieldNames").STREET1]=s.street,t[c("FBPaymentsAddressFieldNames").STREET2]=s.building,t[c("FBPaymentsAddressFieldNames").CITY]=s.cityName,t[c("FBPaymentsAddressFieldNames").STATE]=s.regionName,t[c("FBPaymentsAddressFieldNames").ZIP]=s.postalCode,t[c("FBPaymentsAddressFieldNames").COUNTRY]=s.country,t);c("FBPaymentsVerificationActions").setAddress(u)};this.handleShowSubmitRow=function(){this.handleToggleShowSubmitRow(true)}.bind(this);this.handleHideSubmitRow=function(){this.handleToggleShowSubmitRow(false)}.bind(this);this.state={addresses:k(),addressFormData:{},isAddressFormValid:false,isLoading:false,selectedAddress:new(c("FBPaymentsMailingAddress"))(),showSubmitRow:true};this.props.logger.setFlowStep(n.ADDRESS).setEventName(m.INIT).log()}q.getStores=function(){return[c("FBPaymentsVerificationStore"),this.__getContactInfoStore()]};q.calculateState=function(r,s){__p&&__p();var t=babelHelpers["extends"]({},r),u=q.shouldPrefillField(l.ADDRESS,s);if(u){var v=this.__getContactInfoStore().get(p);t.isLoading=v.isLoading();if(v.hasValue()){var w=v.getValueEnforcing();w=w.filter(function(x){return x.country===o&&x.isAddressInfoComplete()});t.addresses=w}}return t};q.__getContactInfoStore=function(){return c("abstractMethod")("FBPaymentsVerificationAddressScreenBase","__getContactInfoStore")};q.prototype.userHasValidAddresses=function(){return this.state.addresses&&this.state.addresses.size!==0};q.prototype.handleToggleShowSubmitRow=function(r){this.setState({showSubmitRow:r})};q.prototype.getHomeAddressLabel=function(){return h._("Home Address")};f.exports=q}),null);
__d("FBPaymentsVerificationDisclaimerSectionBase.react",["immutable","React","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.prototype.__renderTermLink=function(k,l,m){return c("abstractMethod")("FBPaymentsVerificationDisclaimerSectionBase","__renderTermLink")};j.prototype.__renderTermLinkSection=function(k){return c("abstractMethod")("FBPaymentsVerificationDisclaimerSectionBase","__renderTermLinkSection")};j.prototype.__renderFooterContentParagraph=function(k,l,m){return c("abstractMethod")("FBPaymentsVerificationDisclaimerSectionBase","__renderFooterContentParagraph")};j.prototype.__getRootClassName=function(){return c("abstractMethod")("FBPaymentsVerificationDisclaimerSectionBase","__getRootClassName")};j.prototype.render=function(){var k=this.props.footerLinks?this.__renderTermLinkSection(this.props.footerLinks):null,l=this.props.footerContents?this.props.footerContents.map(this.__renderFooterContentParagraph,this):null;return c("React").createElement("div",{className:this.__getRootClassName()},l,k)};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("Middot.react",["React"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.render=function(){return c("React").createElement("span",babelHelpers["extends"]({},this.props,{role:"presentation","aria-hidden":true})," \xb7 ")};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsVerificationDisclaimerSection.react",["cx","FBPaymentsTextWithEntities.react","FBPaymentsVerificationDisclaimerSectionBase.react","immutable","Middot.react","React","XUIGrayText.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsVerificationDisclaimerSectionBase.react"));j=i&&i.prototype;k.prototype.__renderTermLink=function(l,m,n){var o=m<n.size-1?c("React").createElement(c("Middot.react"),{className:"_abl",key:"dot"+m}):null;return[c("React").createElement(c("FBPaymentsTextWithEntities.react"),{key:m,textWithEntities:l}),o]};k.prototype.__renderTermLinkSection=function(l){return c("React").createElement(c("XUIGrayText.react"),{className:"_1ghk",display:"block",size:"meta1"},l.map(this.__renderTermLink,this))};k.prototype.__renderFooterContentParagraph=function(l,m,n){var o=m<n.size-1?"_2pio":null;return c("React").createElement(c("XUIGrayText.react"),{className:o,display:"block",shade:"medium",size:"meta1",key:m},c("React").createElement(c("FBPaymentsTextWithEntities.react"),{textWithEntities:l}))};k.prototype.__getRootClassName=function(){return this.props.className};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsVerificationFooter.react",["cx","React","XUIButton.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;l.prototype.render=function(){var m=this.props,n=m.disabled,o=m.hasCancelAction,p=m.label,q=m.onClick;return c("React").createElement("div",{className:"_4koa"},c("React").createElement(c("XUIButton.react"),{className:o?"layerCancel":"",disabled:n,label:p,onClick:q,size:"xlarge",use:"confirm"}))};function l(){i.apply(this,arguments)}l.propTypes={disabled:k.bool,hasCancelAction:k.bool,label:k.node.isRequired,onClick:k.func.isRequired};f.exports=l}),null);
__d("FBPaymentsVerificationAddressScreen.react",["cx","FBPaymentsAddressForm.react","FBPaymentsAddressPicker.react","FBPaymentsContactInfoStore","FBPaymentsCustomAddressForm.react","FBPaymentsLoadingView.react","FBPaymentsTextWithEntities.react","FBPaymentsVerificationAddressScreenBase.react","FBPaymentsVerificationDisclaimerSection.react","FBPaymentsVerificationFooter.react","FluxContainer","PaymentModulesGating","React","XUIGrayText.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsVerificationAddressScreenBase.react"));j=i&&i.prototype;k.__getContactInfoStore=function(){return c("FBPaymentsContactInfoStore")};k.prototype.render=function(){__p&&__p();if(this.state.isLoading)return c("React").createElement(c("FBPaymentsLoadingView.react"),null);var l=c("React").createElement(c("XUIGrayText.react"),{className:"_2pie _2pi9 _3yoq",display:"block",shade:"dark",size:"header4"},this.getHomeAddressLabel()),m=c("React").createElement(c("FBPaymentsVerificationDisclaimerSection.react"),{className:"_2pio _2pi9",footerContents:this.props.footerContents,footerLinks:this.props.footerLinks});if(!this.userHasValidAddresses()){var n=c("React").createElement(c("FBPaymentsAddressForm.react"),{className:"_2pie _2pi9",onChange:this.handleFormDataChange});if(c("PaymentModulesGating").shouldShowCustomAddressFormInVerificationFlowWWW){var o=c("PaymentModulesGating").shouldLockCountrySelectorInVerificationFlowWWW;n=c("React").createElement(c("FBPaymentsCustomAddressForm.react"),{className:"_2pie _2pi9",disableCountrySelector:o,hideCareOf:true,onChange:this.handleFormDataChange,paymentType:this.props.paymentType})}return c("React").createElement("div",null,l,n,m,c("React").createElement(c("FBPaymentsVerificationFooter.react"),{disabled:!this.state.isAddressFormValid,label:this.getSubmitButtonText(),onClick:this.handleFormSubmitButtonClick}))}var p=c("React").createElement(c("FBPaymentsTextWithEntities.react"),{textWithEntities:this.props.footerContents,topSeparatorClassName:"_2pid"}),q=this.state.showSubmitRow?c("React").createElement("div",null,m,c("React").createElement(c("FBPaymentsVerificationFooter.react"),{label:this.getSubmitButtonText(),onClick:this.props.onSubmitClick})):null;return c("React").createElement("div",null,this.state.showSubmitRow?l:null,c("React").createElement(c("FBPaymentsAddressPicker.react"),{addresses:this.state.addresses,disclaimerText:p,onAddressChange:this.handlePickerDataChange,onBackClick:this.handleShowSubmitRow,onForwardClick:this.handleHideSubmitRow}),q)};function k(){i.apply(this,arguments)}f.exports=c("FluxContainer").create(k,{withProps:true})}),null);
__d("FBPaymentsVerificationConfirmationScreenBase.react",["fbt","ix","FBPaymentsLoggerConstants","FBPaymentsVerificationScreenInterface.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("FBPaymentsLoggerConstants").LoggerEvent,m=c("FBPaymentsLoggerConstants").LoggerFlowStep;j=babelHelpers.inherits(n,c("FBPaymentsVerificationScreenInterface.react"));k=j&&j.prototype;function n(o){k.constructor.call(this,o);this.handleDoneButtonClick=function(){this.props.onDoneClick()}.bind(this);this.props.logger.setFlowStep(m.CONFIRMATION).setEventName(l.INIT).log()}n.prototype.getConfirmationImage=function(){return i("275825")};n.prototype.getDoneButtonText=function(){return h._("Done")};n.prototype.getConfirmationDialogTitle=function(){return h._("Verification Sent")};n.prototype.getHeader=function(){return h._("Thanks for the info!")};n.prototype.getDescription=function(){return h._("It usually takes less than a day to verify your information, and then you'll start receiving payments again.")};f.exports=n}),null);
__d("FBPaymentsVerificationConfirmationScreen.react",["cx","FBPaymentsPayoutConfirmationView.react","FBPaymentsVerificationConfirmationScreenBase.react","FBPaymentsVerificationFooter.react","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("FBPaymentsVerificationConfirmationScreenBase.react"));j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("div",null,c("React").createElement("div",{className:"_2ph_"},c("React").createElement(c("FBPaymentsPayoutConfirmationView.react"),{description:this.getDescription(),header:this.getHeader(),imageURL:this.getConfirmationImage()})),c("React").createElement(c("FBPaymentsVerificationFooter.react"),{hasCancelAction:true,label:this.getDoneButtonText(),onClick:this.handleDoneButtonClick}))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsVerificationDOBFormBase.react",["fbt","FBPaymentsVerificationActions","FBPaymentsVerificationConstants","FBPaymentsVerificationStore","FluxContainer","React","abstractMethod"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("FBPaymentsVerificationConstants").STORE_KEYS;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;function l(m){__p&&__p();j.constructor.call(this,m);this.MIN_AGE=18;this.MIN_YEAR=1905;this.$FBPaymentsVerificationDOBFormBase2=function(n,o){this.$FBPaymentsVerificationDOBFormBase1(o);this.setState({loading:false})}.bind(this);this.$FBPaymentsVerificationDOBFormBase3=function(n){this.$FBPaymentsVerificationDOBFormBase1();this.setState({loading:false})}.bind(this);this.MAX_YEAR=new Date().getFullYear()-this.MIN_AGE;this.state={day:null,month:null,year:null,loading:true}}l.prototype.componentWillMount=function(){if(this.props.shouldPrefill)this.fetchPrefillData();else{this.setState({loading:false});this.$FBPaymentsVerificationDOBFormBase1(null)}};l.getStores=function(){return[c("FBPaymentsVerificationStore")]};l.calculateState=function(m){var n=babelHelpers["extends"]({},m,{day:c("FBPaymentsVerificationStore").get(k.DATE_OF_BIRTH_DAY),month:c("FBPaymentsVerificationStore").get(k.DATE_OF_BIRTH_MONTH),year:c("FBPaymentsVerificationStore").get(k.DATE_OF_BIRTH_YEAR)});return n};l.prototype.fetchPrefillData=function(){this.__getAPI().fetchUserVerificationPrefillData(this.$FBPaymentsVerificationDOBFormBase2,this.$FBPaymentsVerificationDOBFormBase3)};l.prototype.$FBPaymentsVerificationDOBFormBase1=function(m){var n=m||{},o={year:n.year||this.MAX_YEAR,month:n.month||1,day:n.day||1};c("FBPaymentsVerificationActions").setDateOfBirth(o)};l.prototype.getDate=function(){var m=this.state,n=m.day,o=m.month,p=m.year;return n&&o&&p?{day:n,month:o,year:p}:undefined};l.prototype.getDOBLabel=function(){return h._("Date of Birth")};l.prototype.__getAPI=function(){return c("abstractMethod")("FBPaymentsVerificationDOBFormBase","__getAPI")};l.defaultProps={shouldPrefill:true};f.exports=c("FluxContainer").create(l)}),null);
__d("FBPaymentsVerificationDOBForm.react",["cx","FBPaymentsDateSelector.react","FBPaymentsModulesAPI","FBPaymentsVerificationActions","FBPaymentsVerificationDOBFormBase.react","React","XUIGrayText.react","XUISpinner.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsVerificationDOBFormBase.react"));j=i&&i.prototype;k.prototype.$FBPaymentsVerificationDOBForm1=function(l){c("FBPaymentsVerificationActions").setDateOfBirthDay(l)};k.prototype.$FBPaymentsVerificationDOBForm2=function(l){c("FBPaymentsVerificationActions").setDateOfBirthMonth(l)};k.prototype.$FBPaymentsVerificationDOBForm3=function(l){c("FBPaymentsVerificationActions").setDateOfBirthYear(l)};k.prototype.__getAPI=function(){return c("FBPaymentsModulesAPI")};k.prototype.render=function(){var l=this.getDate(),m=this.state.loading?c("React").createElement(c("XUISpinner.react"),null):c("React").createElement(c("FBPaymentsDateSelector.react"),{date:l,maxYear:this.MAX_YEAR,minYear:this.MIN_YEAR,onDayChange:this.$FBPaymentsVerificationDOBForm1,onMonthChange:this.$FBPaymentsVerificationDOBForm2,onYearChange:this.$FBPaymentsVerificationDOBForm3});return c("React").createElement("div",{className:this.props.className},c("React").createElement(c("XUIGrayText.react"),{className:"_3yor",display:"block",shade:"medium",size:"meta1"},this.getDOBLabel()),m)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsVerificationDOBScreenBase.react",["fbt","FBPaymentsLoggerConstants","FBPaymentsVerificationConstants","FBPaymentsVerificationScreenInterface.react","FBPaymentsVerificationStore","FluxContainer"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("FBPaymentsLoggerConstants").LoggerEvent,l=c("FBPaymentsLoggerConstants").LoggerFlowStep,m=c("FBPaymentsVerificationConstants").STORE_KEYS;i=babelHelpers.inherits(n,c("FBPaymentsVerificationScreenInterface.react"));j=i&&i.prototype;n.prototype.componentWillMount=function(){this.props.logger.setFlowStep(l.DOB).setEventName(k.INIT).log()};n.getStores=function(){return[c("FBPaymentsVerificationStore")]};n.calculateState=function(){return{day:c("FBPaymentsVerificationStore").get(m.DATE_OF_BIRTH_DAY),month:c("FBPaymentsVerificationStore").get(m.DATE_OF_BIRTH_MONTH),year:c("FBPaymentsVerificationStore").get(m.DATE_OF_BIRTH_YEAR)}};n.prototype.isSubmitButtonDisabled=function(){var o=this.state,p=o.day,q=o.month,r=o.year;return!(p&&q&&r)};function n(){i.apply(this,arguments)}f.exports=c("FluxContainer").create(n,{withProps:true})}),null);
__d("FBPaymentsVerificationDOBScreen.react",["cx","FBPaymentsVerificationDisclaimerSection.react","FBPaymentsVerificationDOBForm.react","FBPaymentsVerificationDOBScreenBase.react","FBPaymentsVerificationFooter.react","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("FBPaymentsVerificationDOBScreenBase.react"));j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("div",null,c("React").createElement("div",{className:"_2ph_"},c("React").createElement("div",{className:"_2sxu"},c("React").createElement(c("FBPaymentsVerificationDOBForm.react"),null)),c("React").createElement(c("FBPaymentsVerificationDisclaimerSection.react"),{className:"_2pie",footerContents:this.props.footerContents,footerLinks:this.props.footerLinks})),c("React").createElement(c("FBPaymentsVerificationFooter.react"),{disabled:this.isSubmitButtonDisabled(),label:this.getSubmitButtonText(),onClick:this.props.onSubmitClick}))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsVerificationFullSSNScreenBase.react",["fbt","FBPaymentsLoggerConstants","FBPaymentsVerificationActions","FBPaymentsVerificationScreenInterface.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("FBPaymentsLoggerConstants").LoggerEvent,l=c("FBPaymentsLoggerConstants").LoggerFlowStep;i=babelHelpers.inherits(m,c("FBPaymentsVerificationScreenInterface.react"));j=i&&i.prototype;function m(n){j.constructor.call(this,n);this.handleSubmitButtonClick=function(){c("FBPaymentsVerificationActions").setFullSSN(this.state.ssnFormData.ssn);this.props.onSubmitClick()}.bind(this);this.handleFormDataChange=function(o,p){this.setState({ssnFormData:o,isSSNFormValid:p})}.bind(this);this.state={ssnFormData:{},isSSNFormValid:false};this.props.logger.setFlowStep(l.SSN_FULL).setEventName(k.INIT).log()}f.exports=m}),null);
__d("FBPaymentsVerificationFullSSNScreen.react",["cx","FBPaymentsSSNForm.react","FBPaymentsVerificationDisclaimerSection.react","FBPaymentsVerificationFooter.react","FBPaymentsVerificationFullSSNScreenBase.react","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("FBPaymentsVerificationFullSSNScreenBase.react"));j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("div",null,c("React").createElement("div",{className:"_2ph_"},c("React").createElement(c("FBPaymentsSSNForm.react"),{type:"full",onChange:this.handleFormDataChange}),c("React").createElement(c("FBPaymentsVerificationDisclaimerSection.react"),{className:"_2pie",footerContents:this.props.footerContents,footerLinks:this.props.footerLinks})),c("React").createElement(c("FBPaymentsVerificationFooter.react"),{disabled:!this.state.isSSNFormValid,label:this.getSubmitButtonText(),onClick:this.handleSubmitButtonClick}))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsVerificationNameAndDOBScreenBase.react",["fbt","FBPaymentsLoggerConstants","FBPaymentsVerificationConstants","FBPaymentsVerificationScreenInterface.react","FBPaymentsVerificationStore","FluxContainer"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("FBPaymentsLoggerConstants").LoggerEvent,l=c("FBPaymentsLoggerConstants").LoggerFlowStep,m=c("FBPaymentsVerificationConstants").STORE_KEYS;i=babelHelpers.inherits(n,c("FBPaymentsVerificationScreenInterface.react"));j=i&&i.prototype;function n(o){j.constructor.call(this,o);this.handleLegalNameFormChanged=function(p){this.setState({isNameValid:p})}.bind(this);this.state={isNameValid:false};this.props.logger.setFlowStep(l.NAME_AND_DOB).setEventName(k.INIT).log()}n.getStores=function(){return[c("FBPaymentsVerificationStore")]};n.calculateState=function(){return{day:c("FBPaymentsVerificationStore").get(m.DATE_OF_BIRTH_DAY),month:c("FBPaymentsVerificationStore").get(m.DATE_OF_BIRTH_MONTH),year:c("FBPaymentsVerificationStore").get(m.DATE_OF_BIRTH_YEAR)}};n.prototype.isSubmitButtonDisabled=function(){var o=this.state,p=o.day,q=o.month,r=o.year,s=o.isNameValid;return!(p&&q&&r&&s)};n.prototype.getPersonalInfoTitle=function(){return h._("Personal Information")};f.exports=c("FluxContainer").create(n,{withProps:true})}),null);
__d("FBPaymentsVerificationNameFormBase.react",["FBPaymentsLegalNameFieldNames","FBPaymentsVerificationActions","FBPaymentsVerificationConstants","FBPaymentsVerificationStore","FluxContainer","React","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("FBPaymentsVerificationConstants").STORE_KEYS;h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;function k(l){__p&&__p();i.constructor.call(this,l);this.$FBPaymentsVerificationNameFormBase1=function(m){c("FBPaymentsVerificationActions").setFullName(m);this.setState({loading:false})}.bind(this);this.$FBPaymentsVerificationNameFormBase2=function(m){this.setState({loading:false})}.bind(this);this.handleLegalNameFormChanged=function(m,n){var o={firstName:m[c("FBPaymentsLegalNameFieldNames").FIRST_NAME],lastName:m[c("FBPaymentsLegalNameFieldNames").LAST_NAME]};c("FBPaymentsVerificationActions").setFullName(o);this.props.onChange(n)}.bind(this);this.state={firstName:null,lastName:null,loading:false}}k.prototype.componentWillMount=function(){if(this.props.shouldPrefill)this.fetchPrefillData()};k.getStores=function(){return[c("FBPaymentsVerificationStore")]};k.calculateState=function(l){var m=babelHelpers["extends"]({},l,{firstName:c("FBPaymentsVerificationStore").get(j.FIRST_NAME),lastName:c("FBPaymentsVerificationStore").get(j.LAST_NAME)});return m};k.prototype.fetchPrefillData=function(){this.setState({loading:true});this.__getAPI().fetchUserVerificationPrefillData(this.$FBPaymentsVerificationNameFormBase1,this.$FBPaymentsVerificationNameFormBase2)};k.prototype.getNamePrefilledFormData=function(){var l={firstName:this.state.firstName,lastName:this.state.lastName};return l};k.prototype.__getAPI=function(){return c("abstractMethod")("FBPaymentsVerificationNameFormBase","__getAPI")};k.defaultProps={shouldPrefill:true};f.exports=c("FluxContainer").create(k)}),null);
__d("FBPaymentsVerificationNameForm.react",["cx","FBPaymentsLegalNameForm.react","FBPaymentsModulesAPI","FBPaymentsVerificationNameFormBase.react","React","XUISpinner.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsVerificationNameFormBase.react"));j=i&&i.prototype;k.prototype.__getAPI=function(){return c("FBPaymentsModulesAPI")};k.prototype.render=function(){var l=this.state.loading?c("React").createElement(c("XUISpinner.react"),null):c("React").createElement(c("FBPaymentsLegalNameForm.react"),{className:"_1ghk",onChange:this.handleLegalNameFormChanged,prefilledFormData:this.getNamePrefilledFormData()});return c("React").createElement("div",{className:this.props.className},l)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsVerificationNameAndDOBScreen.react",["cx","FBPaymentsVerificationDisclaimerSection.react","FBPaymentsVerificationDOBForm.react","FBPaymentsVerificationFooter.react","FBPaymentsVerificationNameAndDOBScreenBase.react","FBPaymentsVerificationNameForm.react","React","XUIGrayText.react"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("FBPaymentsVerificationNameAndDOBScreenBase.react"));j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("div",null,c("React").createElement("div",{className:"_2pi9 _2sxu"},c("React").createElement(c("XUIGrayText.react"),{className:"_3yoq _2pi4",display:"block",shade:"dark",size:"header4"},this.getPersonalInfoTitle()),c("React").createElement(c("FBPaymentsVerificationNameForm.react"),{className:"_1ghk",onChange:this.handleLegalNameFormChanged}),c("React").createElement(c("FBPaymentsVerificationDOBForm.react"),null),c("React").createElement(c("FBPaymentsVerificationDisclaimerSection.react"),{className:"_2pi4",footerContents:this.props.footerContents,footerLinks:this.props.footerLinks})),c("React").createElement(c("FBPaymentsVerificationFooter.react"),{disabled:this.isSubmitButtonDisabled(),label:this.getSubmitButtonText(),onClick:this.props.onSubmitClick}))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsVerificationNameDOBAddressScreenBase.react",["fbt","FBPaymentsAddressFieldNames","FBPaymentsContactInfoTypes","FBPaymentsLoggerConstants","FBPaymentsMailingAddress","FBPaymentsVerificationActions","FBPaymentsVerificationConstants","FBPaymentsVerificationScreenInterface.react","FBPaymentsVerificationStore","immutable","abstractMethod"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("immutable").List,l=c("FBPaymentsVerificationConstants").PREFILL_MANAGER_KEYS,m=c("FBPaymentsLoggerConstants").LoggerEvent,n=c("FBPaymentsLoggerConstants").LoggerFlowStep,o=c("FBPaymentsVerificationConstants").STORE_KEYS,p="US",q=c("FBPaymentsContactInfoTypes").MAILING_ADDRESS;i=babelHelpers.inherits(r,c("FBPaymentsVerificationScreenInterface.react"));j=i&&i.prototype;function r(s){__p&&__p();j.constructor.call(this,s);this.handleLegalNameFormChanged=function(t){this.setState({isNameValid:t})}.bind(this);this.handleSubmitButtonClick=function(){c("FBPaymentsVerificationActions").setAddress(this.state.addressFormData);this.props.onSubmitClick()}.bind(this);this.handleAddressFormDataChange=function(t,u){this.setState({addressFormData:t,isAddressFormValid:u})}.bind(this);this.handleAddressPickerDataChange=function(t){var u,v=(u={},u[c("FBPaymentsAddressFieldNames").STREET1]=t.street,u[c("FBPaymentsAddressFieldNames").STREET2]=t.building,u[c("FBPaymentsAddressFieldNames").CITY]=t.cityName,u[c("FBPaymentsAddressFieldNames").STATE]=t.regionName,u[c("FBPaymentsAddressFieldNames").ZIP]=t.postalCode,u[c("FBPaymentsAddressFieldNames").COUNTRY]=t.country,u);c("FBPaymentsVerificationActions").setAddress(v)};this.handleToggleOnOnlyShowAddressSection=function(){this.handleToggleOnlyShowAddressSection(true)}.bind(this);this.handleToggleOffOnlyShowAddressSection=function(){this.handleToggleOnlyShowAddressSection(false)}.bind(this);this.state={addresses:k(),addressFormData:{},isAddressFormValid:false,isLoading:false,isNameValid:false,onlyShowAddressSection:false};this.props.logger.setFlowStep(n.NAME_AND_DOB_AND_ADDRESS).setEventName(m.INIT).log()}r.getStores=function(){return[c("FBPaymentsVerificationStore"),this.__getContactInfoStore()]};r.calculateState=function(s,t){__p&&__p();var u=s?Object.assign({},s):{};u=babelHelpers["extends"]({},u,{day:c("FBPaymentsVerificationStore").get(o.DATE_OF_BIRTH_DAY),month:c("FBPaymentsVerificationStore").get(o.DATE_OF_BIRTH_MONTH),year:c("FBPaymentsVerificationStore").get(o.DATE_OF_BIRTH_YEAR)});var v=r.shouldPrefillField(l.ADDRESS,t);if(v){var w=this.__getContactInfoStore().get(q);u.isLoading=w.isLoading();if(w.hasValue()){var x=w.getValueEnforcing();x=x.filter(function(y){return y.country===p&&y.isAddressInfoComplete()});u.addresses=x}}return u};r.__getContactInfoStore=function(){return c("abstractMethod")("FBPaymentsVerificationNameDOBAddressScreenBase","__getContactInfoStore")};r.prototype.isSubmitButtonDisabled=function(){var s=this.state,t=s.day,u=s.month,v=s.year,w=s.isNameValid,x=s.isAddressFormValid,y=this.userHasValidAddresses()?true:x;return!(t&&u&&v&&w&&y)};r.prototype.userHasValidAddresses=function(){return this.state.addresses&&this.state.addresses.size!==0};r.prototype.handleToggleOnlyShowAddressSection=function(s){this.setState({onlyShowAddressSection:s})};r.prototype.getPersonalInfoTitle=function(){return h._("Personal Information")};r.prototype.getHomeAddressLabel=function(){return h._("Home Address")};r.prototype.getPersonalInfoDisclaimerEntities=function(){var s={text:this.getPersonalInfoDisclaimer().toString(),ranges:[]};return k([s])};r.prototype.getPersonalInfoDisclaimer=function(){return h._("Enter your name and date of birth as it appears on your driver's license or other government-issued ID. The name and birthday on your Facebook profile won't change.")};f.exports=r}),null);
__d("FBPaymentsVerificationNameDOBAddressScreen.react",["cx","FBPaymentsAddressForm.react","FBPaymentsAddressPicker.react","FBPaymentsContactInfoStore","FBPaymentsCustomAddressForm.react","FBPaymentsLoadingView.react","FBPaymentsTextWithEntities.react","FBPaymentsVerificationDisclaimerSection.react","FBPaymentsVerificationDOBForm.react","FBPaymentsVerificationFooter.react","FBPaymentsVerificationNameDOBAddressScreenBase.react","FBPaymentsVerificationNameForm.react","FluxContainer","PaymentModulesGating","React","XUIGrayText.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsVerificationNameDOBAddressScreenBase.react"));j=i&&i.prototype;k.__getContactInfoStore=function(){return c("FBPaymentsContactInfoStore")};k.prototype.render=function(){__p&&__p();if(this.state.isLoading)return c("React").createElement(c("FBPaymentsLoadingView.react"),null);var l=c("React").createElement("div",null,c("React").createElement("div",{className:"_2pi9"},c("React").createElement(c("XUIGrayText.react"),{className:"_3yoq _2pi4",display:"block",shade:"dark",size:"header4"},this.getPersonalInfoTitle()),c("React").createElement(c("FBPaymentsVerificationNameForm.react"),{className:"_1ghk",onChange:this.handleLegalNameFormChanged}),c("React").createElement(c("FBPaymentsVerificationDOBForm.react"),null)),c("React").createElement(c("FBPaymentsVerificationDisclaimerSection.react"),{className:"_2ph_",footerContents:this.getPersonalInfoDisclaimerEntities()}),c("React").createElement(c("XUIGrayText.react"),{className:"_2pie _2pi9 _3yoq _3yor",display:"block",shade:"dark",size:"header4"},this.getHomeAddressLabel())),m=this.userHasValidAddresses()?this.props.onSubmitClick:this.handleSubmitButtonClick,n=c("React").createElement("div",null,c("React").createElement(c("FBPaymentsVerificationDisclaimerSection.react"),{className:"_2pio _2pi9",footerContents:this.props.footerContents,footerLinks:this.props.footerLinks}),c("React").createElement(c("FBPaymentsVerificationFooter.react"),{disabled:this.isSubmitButtonDisabled(),label:this.getSubmitButtonText(),onClick:m}));if(this.userHasValidAddresses()){var o=c("React").createElement(c("FBPaymentsTextWithEntities.react"),{textWithEntities:this.props.footerContents,topSeparatorClassName:"_2pid"});return c("React").createElement("div",null,c("React").createElement("div",{hidden:this.state.onlyShowAddressSection},l),c("React").createElement(c("FBPaymentsAddressPicker.react"),{addresses:this.state.addresses,disclaimerText:o,onAddressChange:this.handleAddressPickerDataChange,onBackClick:this.handleToggleOffOnlyShowAddressSection,onForwardClick:this.handleToggleOnOnlyShowAddressSection}),this.state.onlyShowAddressSection?null:n)}var p=c("React").createElement(c("FBPaymentsAddressForm.react"),{className:"_2pie _2pi9",onChange:this.handleAddressFormDataChange});if(c("PaymentModulesGating").shouldShowCustomAddressFormInVerificationFlowWWW){var q=c("PaymentModulesGating").shouldLockCountrySelectorInVerificationFlowWWW;p=c("React").createElement(c("FBPaymentsCustomAddressForm.react"),{className:"_2pie _2pi9",disableCountrySelector:q,hideCareOf:true,onChange:this.handleAddressFormDataChange,paymentType:this.props.paymentType})}return c("React").createElement("div",null,l,p,n)};function k(){i.apply(this,arguments)}f.exports=c("FluxContainer").create(k,{withProps:true})}),null);
__d("FBPaymentsVerificationNationalIDScreenBase.react",["FBPaymentsLoggerConstants","FBPaymentsVerificationActions","FBPaymentsVerificationScreenInterface.react","PaymentsNationalIDFieldsType"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("FBPaymentsLoggerConstants").LoggerEvent,k=c("FBPaymentsLoggerConstants").LoggerFlowStep;h=babelHelpers.inherits(l,c("FBPaymentsVerificationScreenInterface.react"));i=h&&h.prototype;function l(m){i.constructor.call(this,m);this.handleSubmitButtonClick=function(){c("FBPaymentsVerificationActions").setNationalID(this.state.nationalIDFormData[c("PaymentsNationalIDFieldsType").NATIONAL_ID]);this.props.onSubmitClick()}.bind(this);this.handleFormDataChange=function(n,o){this.setState({nationalIDFormData:n,isNationalIDFormValid:o})}.bind(this);this.state={nationalIDFormData:{},isNationalIDFormValid:false};this.props.logger.setFlowStep(k.NATIONAL_ID).setEventName(j.INIT).log()}f.exports=l}),null);
__d("FBPaymentsVerificationNationalIDScreen.react",["cx","FBPaymentsNationalIDForm.react","FBPaymentsVerificationDisclaimerSection.react","FBPaymentsVerificationFooter.react","FBPaymentsVerificationNationalIDScreenBase.react","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("FBPaymentsVerificationNationalIDScreenBase.react"));j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("div",null,c("React").createElement("div",{className:"_2ph_"},c("React").createElement(c("FBPaymentsNationalIDForm.react"),{formConfig:this.props.formConfig,onChange:this.handleFormDataChange}),c("React").createElement(c("FBPaymentsVerificationDisclaimerSection.react"),{className:"_2pie",footerContents:this.props.footerContents,footerLinks:this.props.footerLinks})),c("React").createElement(c("FBPaymentsVerificationFooter.react"),{disabled:!this.state.isNationalIDFormValid,label:this.getSubmitButtonText(),onClick:this.handleSubmitButtonClick}))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsVerificationPendingManualReviewScreenBase.react",["fbt","FBPaymentsLoggerConstants","FBPaymentsVerificationScreenInterface.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("FBPaymentsLoggerConstants").LoggerEvent,l=c("FBPaymentsLoggerConstants").LoggerFlowStep;i=babelHelpers.inherits(m,c("FBPaymentsVerificationScreenInterface.react"));j=i&&i.prototype;function m(n){j.constructor.call(this,n);this.props.logger.setFlowStep(l.PENDING_MANUAL_REVIEW).setEventName(k.INIT).log()}m.prototype.getUnderConstructionMessage=function(){return h._("PENDING_MANUAL_REVIEW screen is under construction.")};f.exports=m}),null);
__d("FBPaymentsVerificationPendingManualReviewScreen.react",["cx","FBPaymentsVerificationPendingManualReviewScreenBase.react","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("FBPaymentsVerificationPendingManualReviewScreenBase.react"));j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("div",null,c("React").createElement("div",{className:"_2ph_"},this.getUnderConstructionMessage()))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsVerificationPhotoIDScreenBase.react",["fbt","invariant","FBPaymentsLoggerConstants","FBPaymentsVerificationActions","FBPaymentsVerificationScreenInterface.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("FBPaymentsLoggerConstants").LoggerEvent,m=c("FBPaymentsLoggerConstants").LoggerFlowStep;j=babelHelpers.inherits(n,c("FBPaymentsVerificationScreenInterface.react"));k=j&&j.prototype;function n(o){__p&&__p();k.constructor.call(this,o);this.MAX_FILE_SIZE_MB=8;this.onCancelImage=function(){this.setState({identityDocument:null})}.bind(this);this.onSelectImage=function(p){this.setState({identityDocument:p})}.bind(this);this.handleSubmitButtonClick=function(){var p=this.state.identityDocument;!!p||i(0);c("FBPaymentsVerificationActions").setIdentityDocument(p);this.props.onSubmitClick()}.bind(this);this.state={identityDocument:null};this.props.logger.setFlowStep(m.VERIFICATION_DOCUMENT).setEventName(l.INIT).log()}n.prototype.getPhotoIDFieldTitleText=function(){return h._("Upload Photo ID")};n.prototype.getPhotoUploadButtonLabel=function(){return h._("Add Photo")};f.exports=n}),null);
__d("FBPaymentsVerificationPhotoIDScreen.react",["ix","cx","FBPaymentsImageFileInputWithPreview.react","FBPaymentsVerificationDisclaimerSection.react","FBPaymentsVerificationFooter.react","FBPaymentsVerificationPhotoIDScreenBase.react","Image.react","React","XUIGrayText.react","fbglyph"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("FBPaymentsVerificationPhotoIDScreenBase.react"));k=j&&j.prototype;l.prototype.render=function(){var m=c("React").createElement(c("Image.react"),{src:h("114973")});return c("React").createElement("div",null,c("React").createElement("div",{className:"_2ph_"},c("React").createElement(c("XUIGrayText.react"),{className:"_3yor",display:"block",shade:"medium",size:"meta1"},this.getPhotoIDFieldTitleText()),c("React").createElement(c("FBPaymentsImageFileInputWithPreview.react"),{maxFileSizeMB:this.MAX_FILE_SIZE_MB,onCancel:this.onCancelImage,onSelect:this.onSelectImage,selectedImage:this.state.identityDocument,uploadButtonIcon:m,uploadButtonLabel:this.getPhotoUploadButtonLabel()}),c("React").createElement(c("FBPaymentsVerificationDisclaimerSection.react"),{className:"_2pie",footerContents:this.props.footerContents,footerLinks:this.props.footerLinks})),c("React").createElement(c("FBPaymentsVerificationFooter.react"),{label:this.getSubmitButtonText(),onClick:this.handleSubmitButtonClick}))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("FBPaymentsVerificationSSNLast4ScreenBase.react",["fbt","FBPaymentsLoggerConstants","FBPaymentsVerificationActions","FBPaymentsVerificationScreenInterface.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("FBPaymentsLoggerConstants").LoggerEvent,l=c("FBPaymentsLoggerConstants").LoggerFlowStep;i=babelHelpers.inherits(m,c("FBPaymentsVerificationScreenInterface.react"));j=i&&i.prototype;function m(n){j.constructor.call(this,n);this.handleSubmitButtonClick=function(){c("FBPaymentsVerificationActions").setSSNLast4(this.state.ssnFormData.ssn);this.props.onSubmitClick()}.bind(this);this.handleFormDataChange=function(o,p){this.setState({ssnFormData:o,isSSNFormValid:p})}.bind(this);this.state={ssnFormData:{},isSSNFormValid:false};this.props.logger.setFlowStep(l.SSN_LAST_4).setEventName(k.INIT).log()}f.exports=m}),null);
__d("FBPaymentsVerificationSSNLast4Screen.react",["cx","FBPaymentsSSNForm.react","FBPaymentsVerificationDisclaimerSection.react","FBPaymentsVerificationFooter.react","FBPaymentsVerificationSSNLast4ScreenBase.react","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("FBPaymentsVerificationSSNLast4ScreenBase.react"));j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("div",null,c("React").createElement("div",{className:"_2ph_"},c("React").createElement(c("FBPaymentsSSNForm.react"),{type:"last4",onChange:this.handleFormDataChange}),c("React").createElement(c("FBPaymentsVerificationDisclaimerSection.react"),{className:"_2pie",footerContents:this.props.footerContents,footerLinks:this.props.footerLinks})),c("React").createElement(c("FBPaymentsVerificationFooter.react"),{disabled:!this.state.isSSNFormValid,label:this.getSubmitButtonText(),onClick:this.handleSubmitButtonClick}))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsVerificationScreenManagerBase",["FBPaymentsVerificationScreenInterface.react","Map","UserVerificationScreen"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.screenMap=new(c("Map"))()}h.prototype.getVerificationScreen=function(i){if(!c("UserVerificationScreen")[i])throw Error("Non-existent verification screen "+i);var j=this.screenMap.get(i);if(!j)throw Error("Unimplemented verification screen "+i);return j};f.exports=h}),null);
__d("FBPaymentsVerificationScreenManager",["FBPaymentsVerificationAddressScreen.react","FBPaymentsVerificationConfirmationScreen.react","FBPaymentsVerificationDOBScreen.react","FBPaymentsVerificationFullSSNScreen.react","FBPaymentsVerificationNameAndDOBScreen.react","FBPaymentsVerificationNameDOBAddressScreen.react","FBPaymentsVerificationNationalIDScreen.react","FBPaymentsVerificationPendingManualReviewScreen.react","FBPaymentsVerificationPhotoIDScreen.react","FBPaymentsVerificationScreenManagerBase","FBPaymentsVerificationSSNLast4Screen.react","UserVerificationScreen"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsVerificationScreenManagerBase"));i=h&&h.prototype;function j(){__p&&__p();i.constructor.call(this);this.screenMap.set(c("UserVerificationScreen").REQUEST_DATE_OF_BIRTH,c("FBPaymentsVerificationDOBScreen.react"));this.screenMap.set(c("UserVerificationScreen").REQUEST_NAME_AND_DATE_OF_BIRTH,c("FBPaymentsVerificationNameAndDOBScreen.react"));this.screenMap.set(c("UserVerificationScreen").REQUEST_ADDRESS,c("FBPaymentsVerificationAddressScreen.react"));this.screenMap.set(c("UserVerificationScreen").REQUEST_NAME_AND_DATE_OF_BIRTH_AND_ADDRESS,c("FBPaymentsVerificationNameDOBAddressScreen.react"));this.screenMap.set(c("UserVerificationScreen").REQUEST_FULL_SSN,c("FBPaymentsVerificationFullSSNScreen.react"));this.screenMap.set(c("UserVerificationScreen").REQUEST_SSN_LAST_FOUR,c("FBPaymentsVerificationSSNLast4Screen.react"));this.screenMap.set(c("UserVerificationScreen").REQUEST_VERIFICATION_DOCUMENT,c("FBPaymentsVerificationPhotoIDScreen.react"));this.screenMap.set(c("UserVerificationScreen").REQUEST_NATIONAL_ID,c("FBPaymentsVerificationNationalIDScreen.react"));this.screenMap.set(c("UserVerificationScreen").SUCCESS,c("FBPaymentsVerificationConfirmationScreen.react"));this.screenMap.set(c("UserVerificationScreen").PENDING_MANUAL_REVIEW,c("FBPaymentsVerificationPendingManualReviewScreen.react"))}f.exports=new j()}),null);
__d("FBPaymentsVerificationFlowContainer.react",["FBPaymentsLogger","FBPaymentsModulesAPI","FBPaymentsVerificationFlowContainerBase.react","FBPaymentsVerificationFlowView.react","FBPaymentsVerificationScreenManager"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsVerificationFlowContainerBase.react"));i=h&&h.prototype;j.prototype.__getVerificationFlowView=function(){return c("FBPaymentsVerificationFlowView.react")};j.prototype.__getScreenManager=function(){return c("FBPaymentsVerificationScreenManager")};j.prototype.__getAPI=function(){return c("FBPaymentsModulesAPI")};j.prototype.__getLogger=function(){return c("FBPaymentsLogger")};j.prototype.__updateURLForFinalScreen=function(k){return false};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("P2PNUXRendererUtils",["CurrentUser","ImmutableObject","MercuryAttachmentType","P2PTransferParam","P2PTransferStatus","StoryAttachmentStyle"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={getTransferFromMessage:function i(j){var k=void 0,l=void 0;if(!j||!j.attachments||!j.attachments.length)return null;l=j.attachments[0];if(this.isShareAttachment(l))k=l.share.target;if(k)k=new(c("ImmutableObject"))(k);return k},isSuccessfulReceivedTransfer:function i(j){return j&&j.receiver&&j.receiver.id===c("CurrentUser").getID()&&(j.status===c("P2PTransferStatus").COMPLETED||j.status===c("P2PTransferStatus").PENDING_RECIPIENT_NUX)},isShareAttachment:function i(j){return!!(typeof j!=="string"&&j.attach_type==c("MercuryAttachmentType").SHARE&&j.share&&j.share.style_list&&j.share.style_list.indexOf(c("StoryAttachmentStyle").ORION)>=0)},doesNUXNeedCreditCards:function i(j){var k=c("CurrentUser").getID()===j.sender.id;return!k&&j[c("P2PTransferParam").STATUS]===c("P2PTransferStatus").PENDING_RECIPIENT_NUX},isRecipientActionableStatus:function i(j){var k=j[c("P2PTransferParam").STATUS],l=c("CurrentUser").getID()===j.sender.id;return!l&&(k===c("P2PTransferStatus").PENDING_RECIPIENT_NUX||k===c("P2PTransferStatus").PENDING_RECIPIENT_VERIFICATION||k===c("P2PTransferStatus").PENDING_PUSH_FAIL)}};f.exports=h}),null);
__d("P2PListRow.react",["cx","invariant","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){var n=this.props;c("React").Children.count(n.children)===2||i(0);var o=n.offset,p=n.offsetRight!==undefined&&n.offsetRight+"px",q=n.offsetBottom!==undefined&&n.offsetBottom+"px";return c("React").createElement("div",{className:"_3q6c"+(o==="large"?" _3q6d":"")+(o==="small"?" _3q6o":"")},c("React").createElement("div",{className:"_3q6p",style:{paddingRight:p,paddingBottom:q}},n.children[0]),c("React").createElement("div",{className:"_3q6q",style:{paddingBottom:q}},n.children[1]))};function m(){j.apply(this,arguments)}m.propTypes={offset:l.oneOf(["large","small"]),offsetBottom:l.number,offsetRight:l.number};m.defaultProps={offset:"large"};f.exports=m}),null);
__d("P2PAddCreditCardDialog.react",["cx","fbt","CreditCardFormParam","MessengerEnvironment","Link.react","MessengerPaymentProductType","Middot.react","P2PAPI","P2PAPIUtils","P2PPaymentConfig","P2PCreditCardStore","P2PCreditCardForm.react","P2PLoadingMask.react","P2PLogger","P2PPaymentLoggerEvent","P2PLinkConstants","React","P2PButton.react","P2PDialog.react","P2PDialogTitle.react","P2PDialogBody.react","P2PDialogFooter.react","P2PText.react","emptyFunction","getObjectValues"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m="fbP2PAddCreditCardDialog_learnMoreSentenceID";j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(){__p&&__p();var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={isValid:false,formData:{},loading:false,requestID:"",saveErrors:null,asyncRequestState:{}},this.onCreditCardStoreChange=function(){var t=c("P2PCreditCardStore").getAsyncRequestState(),u=t[this.state.requestID];this.setState({asyncRequestState:t});if(u){this.setState({requestID:""});if(u.error)this.handleOnSaveError(u.error);else this.handleOnSaveSuccess(u)}}.bind(this),this.onSaveClick=function(){var t,u=this.props.p2pPaymentConfig;if(!u){this.setState({loading:false,saveErrors:{general:{message:i._("Cannot identify country.")}}});return}var v=c("P2PAPIUtils").genRequestID();this.setState({loading:true,requestID:v,saveErrors:null,formData:babelHelpers["extends"]({},this.state.formData,(t={},t[c("CreditCardFormParam").COUNTRY]=u.countryCode,t))},function(){c("P2PAPI").addCreditCard(babelHelpers["extends"]({requestID:v,product_type:this.props.productType},this.state.formData))}.bind(this));this.log(c("P2PPaymentLoggerEvent").UI_ACTN_CONFIRM_CARD_DETAILS)}.bind(this),this.handleValidation=function(t,u){this.setState({isValid:t,formData:u})}.bind(this),this.onToggle=function(t){if(!t){this.props.onCancel();this.log(c("P2PPaymentLoggerEvent").UI_ACTN_CANCEL_ADD_CARD)}}.bind(this),this.onCancelClicked=function(){this.onToggle(false)}.bind(this),p}n.prototype.componentDidMount=function(){this.log(c("P2PPaymentLoggerEvent").UI_ACTN_INITIATE_ADD_CARD);this.creditCardStoreSub=c("P2PCreditCardStore").addListener("change",this.onCreditCardStoreChange)};n.prototype.componentWillUnmount=function(){if(this.creditCardStoreSub){this.creditCardStoreSub.remove();this.creditCardStoreSub=null}};n.prototype.log=function(o,p){c("P2PLogger").log(o,babelHelpers["extends"]({www_event_flow:this.props.eventFlow,object_id:this.props.loggingObjectID},this.props.loggingData,p))};n.prototype.handleOnSaveSuccess=function(o){this.props.onSuccess(o);this.log(c("P2PPaymentLoggerEvent").UI_ACTN_ADD_CARD_SUCCESS)};n.prototype.handleOnSaveError=function(o){this.setState({loading:false,saveErrors:o});this.log(c("P2PPaymentLoggerEvent").UI_ACTN_ADD_CARD_FAIL,{message:o&&o.general?o.general.message:""})};n.prototype.isSaveButtonDisabled=function(){return this.state.loading||!this.state.isValid};n.prototype.renderAddCardForm=function(){var o=this.props.p2pPaymentConfig;if(!o)return null;var p=void 0,q=this.props.title;if(this.props.showCancelButton)p=c("React").createElement(c("P2PButton.react"),{use:"default",size:"medium",label:this.props.cancelButtonText,disabled:this.state.loading,onClick:this.onCancelClicked});return c("React").createElement("div",null,c("React").createElement(c("P2PDialogTitle.react"),null,q),c("React").createElement(c("P2PDialogBody.react"),null,c("React").createElement(c("P2PText.react"),{type:"primary",className:"_3-96"},this.props.text),c("React").createElement(c("P2PCreditCardForm.react"),{asyncRequestState:this.state.asyncRequestState,compactMode:true,onValidation:this.handleValidation,postalRegex:o.postalRegex,productType:this.props.productType,saveErrors:this.state.saveErrors,showIcons:false,showLabels:true,showPlaceholderOnFocus:true,showSecondaryIcons:true,useGutters:true}),c("React").createElement(c("P2PText.react"),{className:"_3-8y",id:m,type:"secondary"},i._("Your payment info is stored securely."),c("React").createElement("div",null,c("React").createElement(c("Link.react"),{"aria-describedby":m,href:c("P2PLinkConstants").addDebitCardHelpURI,target:"_blank"},i._("Learn More")),c("React").createElement(c("Middot.react"),null),c("React").createElement(c("Link.react"),{"aria-describedby":m,href:c("P2PLinkConstants").paymentsTermsURI,target:"_blank"},i._("Terms"))))),c("React").createElement(c("P2PDialogFooter.react"),{leftContent:this.props.leftContent},p,c("React").createElement(c("P2PButton.react"),{use:"confirm",size:"medium",label:this.props.saveButtonText,disabled:this.isSaveButtonDisabled(),onClick:this.onSaveClick})))};n.prototype.render=function(){if(!this.props.p2pPaymentConfig)return null;return c("React").createElement(c("P2PDialog.react"),{behaviors:this.props.behaviors,layerHideOnBlur:false,ref:"dialog",onToggle:this.onToggle,repositionOnUpdate:true,shown:true,width:this.props.width},this.renderAddCardForm(),c("React").createElement(c("P2PLoadingMask.react"),{visible:this.state.loading}))};n.propTypes={cancelButtonText:l.string,eventFlow:l.string.isRequired,leftContent:l.object,loggingData:l.object,loggingObjectID:l.string,onCancel:l.func,onSuccess:l.func,p2pPaymentConfig:l.shape({currencyCode:l.string.isRequired,enabledActions:l.object.isRequired,enabledPaymentMethods:l.object.isRequired,maxTransferAmount:l.number.isRequired,title:l.string,use_payment_module_method_picker:l.bool,countryCode:l.string.isRequired,postalRegex:l.string.isRequired}).isRequired,productType:l.oneOf(c("getObjectValues")(c("MessengerPaymentProductType"))),saveButtonText:l.string,showCancelButton:l.bool,text:l.string,title:l.string};n.defaultProps={cancelButtonText:i._("Cancel"),loggingData:{},onCancel:c("emptyFunction"),onSuccess:c("emptyFunction"),p2pPaymentConfig:c("P2PPaymentConfig").config,productType:c("MessengerPaymentProductType").P2P,saveButtonText:i._("Save"),showCancelButton:true,text:i._("Please enter a Visa or MasterCard debit card. Credit cards can't be used."),title:i._("Add Debit Card"),width:c("MessengerEnvironment").messengerui?480:430};f.exports=n}),null);
__d("P2PConfirmAmountDialog.react",["fbt","MessengerEnvironment","React","P2PButton.react","P2PDialog.react","P2PDialogBody.react","P2PDialogFooter.react","P2PDialogTitle.react","P2PLoadingMask.react","P2PText.react","emptyFunction"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes,l=c("MessengerEnvironment").messengerui;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(){var n,o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.state={loading:false},this.handleCancelClick=function(){this.props.onCancel()}.bind(this),this.handleConfirmClick=function(){this.setState({loading:true});this.props.onConfirm()}.bind(this),this.getFormattedAmount=function(){return this.props.currencySymbol+""+this.props.amount}.bind(this),o}m.prototype.render=function(){"use strict";var n=l?350:300;return c("React").createElement(c("P2PDialog.react"),{behaviors:this.props.behaviors,layerHideOnBlur:false,shown:true,width:n},c("React").createElement(c("P2PDialogTitle.react"),{showCloseButton:false},h._("Confirm Payment")),c("React").createElement(c("P2PDialogBody.react"),null,c("React").createElement(c("P2PText.react"),{type:"primary"},h._("Do you want to pay {recipient name} {amount}?",[h.param("recipient name",this.props.receiverName),h.param("amount",this.getFormattedAmount())]))),c("React").createElement(c("P2PDialogFooter.react"),null,c("React").createElement(c("P2PButton.react"),{label:h._("Cancel"),onClick:this.handleCancelClick,use:"default"}),c("React").createElement(c("P2PButton.react"),{label:h._("Pay"),onClick:this.handleConfirmClick,use:"confirm"})),c("React").createElement(c("P2PLoadingMask.react"),{visible:this.state.loading}))};m.propTypes={amount:k.string,currencySymbol:k.string,onCancel:k.func,onConfirm:k.func,receiverName:k.string};m.defaultProps={amount:"",currencySymbol:"",onCancel:c("emptyFunction"),onConfirm:c("emptyFunction"),receiverName:k.string};f.exports=m}),null);
__d("P2PGroupSendContactListItem.react",["cx","fbt","ix","Image.react","Link.react","MessengerContactImageReact.bs","React"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("MessengerContactImageReact.bs").jsComponent,n=32;k=babelHelpers.inherits(o,c("React").PureComponent);l=k&&k.prototype;o.prototype.$P2PGroupSendContactListItem1=function(p){if(!p)return null;return c("React").createElement("div",{className:"_1jwz"},c("React").createElement(c("Image.react"),{src:j("86852")}))};o.prototype.$P2PGroupSendContactListItem2=function(p){if(!this.props.isDisabled)return null;return c("React").createElement("div",{className:"_1jw-"},i._("Isn't able to receive money right now"))};o.prototype.render=function(){var p=this.props,q=p.isSelected,r=p.participant;return c("React").createElement(c("Link.react"),{"aria-checked":q,className:"_1jw_",onClick:p.onClick,role:"checkbox"},c("React").createElement(m,{className:"_1jx2",isMessengerUser:r.is_messenger_user,size:n,src:r.image_src}),c("React").createElement("div",{className:"_1jx4"},c("React").createElement("div",{className:"_1jx5"},c("React").createElement("div",{className:"_1jx6"},r.name),this.$P2PGroupSendContactListItem2(r)),this.$P2PGroupSendContactListItem1(q)))};function o(){k.apply(this,arguments)}f.exports=o}),null);
__d("P2PGroupSendDialog.react",["cx","fbt","MessengerEnvironment","Image.react","immutable","MessengerContextualDialog.react","P2PActions","P2PLogger","P2PPaymentLoggerEvent","P2PPaymentLoggerEventFlow","P2PText.react","React","ScrollableArea.react","XUIContextualDialog.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("React").PropTypes,k=c("React").createClass({displayName:"P2PGroupSendDialog",propTypes:{amount:j.string,currency:j.string,flyoutAlignment:j.oneOf(["left","center","right"]),onToggle:j.func.isRequired,openRequestTab:j.bool,p2pEligibilities:j.object,participants:j.instanceOf(c("immutable").List),referrer:j.string,threadID:j.string.isRequired,threadFBID:j.string.isRequired},componentDidMount:function l(){if(this.props.amount)this.log(c("P2PPaymentLoggerEvent").UI_ACTN_INITIATE_GROUP_SEND_TRIGGER,{raw_amount:this.props.amount,currency:this.props.currency});else this.log(c("P2PPaymentLoggerEvent").UI_ACTN_INITIATE_GROUP_SEND)},log:function l(m,n){c("P2PLogger").log(m,babelHelpers["extends"]({www_event_flow:c("P2PPaymentLoggerEventFlow").UI_FLOW_P2P_GROUP_SEND},n))},_handleToggle:function l(m){this.props.onToggle(m);this.log(c("P2PPaymentLoggerEvent").UI_ACTN_GROUP_SEND_CANCELLED)},_handleBlur:function l(){this._handleToggle(false)},isP2PIneligible:function l(m){var n=this.props.p2pEligibilities;return n?n[m.userID]===false:true},renderParticipantRow:function l(m){var n=c("MessengerEnvironment").messengerui,o=n?32:40,p=this.isP2PIneligible(m),q=void 0;if(p)q=c("React").createElement(c("P2PText.react"),{className:"_4cof",type:"primary"},i._("Isn't able to receive money right now"));return c("React").createElement("li",{className:"_4cog"+(p?" _4coh":""),key:m.id,onClick:this.handleGroupThreadClicked.bind(this,m)},c("React").createElement("div",{className:"_4coi"},c("React").createElement(c("Image.react"),{className:"_4coj",height:o,src:m.big_image_src||m.image_src,width:o})),c("React").createElement("div",{className:"_4cok"},c("React").createElement(c("P2PText.react"),{className:"_4col",type:"primary"},m.name),q))},renderGroupList:function l(){return c("React").createElement(c("ScrollableArea.react"),{height:178},c("React").createElement("ul",null,this.props.participants?this.props.participants.map(this.renderParticipantRow):null))},handleGroupThreadClicked:function l(m){if(this.isP2PIneligible(m))return;this.props.onToggle(false);c("P2PActions").chatSendViewOpened({amount:this.props.amount,openRequestTab:this.props.openRequestTab,referrer:this.props.referrer,threadID:this.props.threadID,groupSendRecipientUserIDs:[m.userID],groupThreadFBID:this.props.threadFBID});this.log(c("P2PPaymentLoggerEvent").UI_ACTN_GROUP_SEND_RECIPIENT_PICKED,{raw_amount:this.props.amount,currency:this.props.currency,object_id:m.userID})},render:function l(){var m=c("MessengerEnvironment").messengerui,n=m?c("MessengerContextualDialog.react"):c("XUIContextualDialog.react"),o=m?302:280;return c("React").createElement(n,{alignment:this.props.flyoutAlignment?this.props.flyoutAlignment:m?"right":"left",context:this.props.context,onBlur:this._handleBlur,onToggle:this._handleToggle,shown:true,width:o,position:"above"},c("React").createElement("div",{className:"_4com"+(m?" _4con":"")},c("React").createElement(c("P2PText.react"),{className:"_4coo",type:"primary",weight:"bold"},i._("Select a person")),this.renderGroupList()))}});f.exports=k}),null);
__d("P2PGroupSendParticipantsPickerDialog.react",["cx","fbt","immutable","LeftRight.react","MessengerContextualDialog.react","MessengerDialogButton.react","MessengerEnvironment","P2PActions","P2PGroupSendContactListItem.react","P2PLogger","P2PPaymentLoggerEvent","P2PPaymentLoggerEventFlow","P2PText.react","React","ScrollableArea.react","XUIContextualDialog.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=5,m=5;j=babelHelpers.inherits(n,c("React").PureComponent);k=j&&j.prototype;function n(o){__p&&__p();k.constructor.call(this,o);this.isMessengerDotCom=c("MessengerEnvironment").messengerui;this.$P2PGroupSendParticipantsPickerDialog8=function(){this.$P2PGroupSendParticipantsPickerDialog9(false)}.bind(this);this.$P2PGroupSendParticipantsPickerDialog10=function(){var s=this.$P2PGroupSendParticipantsPickerDialog5().map(function(t){return t.fbid});this.props.onToggle(false);if(s.length===0)return;c("P2PActions").chatSendViewOpened({amount:this.props.amount,openRequestTab:this.props.openRequestTab,referrer:this.props.referrer,threadID:this.props.threadID,groupSendRecipientUserIDs:s,groupThreadFBID:this.props.threadFBID});this.$P2PGroupSendParticipantsPickerDialog3(c("P2PPaymentLoggerEvent").UI_ACTN_GROUP_SEND_RECIPIENT_PICKED,{raw_amount:this.props.amount,currency:this.props.currency,object_ids:s})}.bind(this);this.$P2PGroupSendParticipantsPickerDialog9=function(s){this.props.onToggle(s);this.$P2PGroupSendParticipantsPickerDialog3(c("P2PPaymentLoggerEvent").UI_ACTN_GROUP_SEND_CANCELLED)}.bind(this);this.$P2PGroupSendParticipantsPickerDialog13=function(s){var t=s.fbid;return c("React").createElement(c("P2PGroupSendContactListItem.react"),{isDisabled:!this.$P2PGroupSendParticipantsPickerDialog7(t),isSelected:this.$P2PGroupSendParticipantsPickerDialog6(t),key:s.id,onClick:function(){return this.$P2PGroupSendParticipantsPickerDialog11(t)}.bind(this),participant:s})}.bind(this);var p=o.participants.sort(this.$P2PGroupSendParticipantsPickerDialog1),q=p.size>m,r=this.$P2PGroupSendParticipantsPickerDialog2(p,o.p2pEligibilities);this.state={isParticipantChecked:q||r.size>0,participants:p.toArray(),isParticipantSelected:r}}n.prototype.componentDidMount=function(){if(this.props.amount)this.$P2PGroupSendParticipantsPickerDialog3(c("P2PPaymentLoggerEvent").UI_ACTN_INITIATE_GROUP_SEND_TRIGGER,{raw_amount:this.props.amount,currency:this.props.currency});else this.$P2PGroupSendParticipantsPickerDialog3(c("P2PPaymentLoggerEvent").UI_ACTN_INITIATE_GROUP_SEND)};n.prototype.componentWillReceiveProps=function(o){if(!this.state.isParticipantChecked){var p=this.$P2PGroupSendParticipantsPickerDialog2(o.participants,o.p2pEligibilities);this.setState({isParticipantChecked:p.size>0,isParticipantSelected:p})}};n.prototype.$P2PGroupSendParticipantsPickerDialog4=function(){if(this.state.isMessengerDotCom)return c("MessengerContextualDialog.react");return c("XUIContextualDialog.react")};n.prototype.$P2PGroupSendParticipantsPickerDialog5=function(){return this.state.participants.filter(function(o){return this.$P2PGroupSendParticipantsPickerDialog6(o.fbid)}.bind(this))};n.prototype.$P2PGroupSendParticipantsPickerDialog7=function(o,p){if(!o)return false;var q=p||this.props.p2pEligibilities||{};return!!q[o]};n.prototype.$P2PGroupSendParticipantsPickerDialog6=function(o){if(!o)return false;return!!this.state.isParticipantSelected.get(o)};n.prototype.$P2PGroupSendParticipantsPickerDialog3=function(o,p){c("P2PLogger").log(o,babelHelpers["extends"]({www_event_flow:c("P2PPaymentLoggerEventFlow").UI_FLOW_P2P_GROUP_SEND},p))};n.prototype.$P2PGroupSendParticipantsPickerDialog11=function(o){if(!o||!this.$P2PGroupSendParticipantsPickerDialog7(o))return;var p=this.state.isParticipantSelected,q=this.$P2PGroupSendParticipantsPickerDialog6(o);this.setState({isParticipantSelected:p.set(o,!q)})};n.prototype.$P2PGroupSendParticipantsPickerDialog1=function(o,p){return o.name.localeCompare(p.name)};n.prototype.$P2PGroupSendParticipantsPickerDialog2=function(o,p){if(o.size>m)return c("immutable").Map();var q=c("immutable").Map().withMutations(function(r){o.forEach(function(s){var t=s.fbid;if(t&&this.$P2PGroupSendParticipantsPickerDialog7(t,p))r.set(t,true)}.bind(this))}.bind(this));return q};n.prototype.$P2PGroupSendParticipantsPickerDialog12=function(){if(this.state.participants.length<=l)return c("React").createElement("ul",{className:"_3jwq"},this.state.participants.map(this.$P2PGroupSendParticipantsPickerDialog13));return c("React").createElement(c("ScrollableArea.react"),{height:278},c("React").createElement("ul",null,this.state.participants.map(this.$P2PGroupSendParticipantsPickerDialog13)))};n.prototype.$P2PGroupSendParticipantsPickerDialog14=function(){var o=this.$P2PGroupSendParticipantsPickerDialog5();return c("React").createElement(c("LeftRight.react"),{className:"_4coo"},c("React").createElement(c("P2PText.react"),{tabIndex:0,type:"primary",weight:"bold"},i._("Select People")),c("React").createElement(c("MessengerDialogButton.react"),{className:"_3jwt",disabled:o.length===0,label:i._("Continue"),onClick:this.$P2PGroupSendParticipantsPickerDialog10,type:"primary"}))};n.prototype.render=function(){var o=this.$P2PGroupSendParticipantsPickerDialog4(),p=this.isMessengerDotCom?"right":"left",q=this.isMessengerDotCom?302:280;return c("React").createElement(o,{alignment:this.props.flyoutAlignment||p,className:"_4com"+(this.isMessengerDotCom?" _4con":""),context:this.props.context,position:"above",shown:true,type:"default",width:q,onBlur:this.$P2PGroupSendParticipantsPickerDialog8,onToggle:this.$P2PGroupSendParticipantsPickerDialog9},this.$P2PGroupSendParticipantsPickerDialog14(),this.$P2PGroupSendParticipantsPickerDialog12())};f.exports=n}),null);
__d("P2PMemoPhotoUploadPreview.react",["cx","BackgroundImage.react","MessengerEnvironment","P2PLoadingMask.react","React","XUICloseButton.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.renderAttachedPhotoPreviewContent=function(){var r=this.props.attachedPhoto;if(!r||!r.url)return null;var s=c("MessengerEnvironment").messengerui?286:260;return c("React").createElement(c("BackgroundImage.react"),{backgroundSize:"cover",height:120,src:r.url,width:s})}.bind(this),n}l.prototype.render=function(){var m=this.props.attachedPhoto;if(!this.props.photoUploading&&!m)return null;return c("React").createElement("div",{className:"_y37"},this.renderAttachedPhotoPreviewContent(),c("React").createElement(c("P2PLoadingMask.react"),{visible:this.props.photoUploading}),c("React").createElement(c("XUICloseButton.react"),{className:"_y38",onClick:this.props.onRemoveButtonClick,shade:"light",size:"medium"}))};l.propTypes={attachedPhoto:k.object,photoUploading:k.bool,onRemoveButtonClick:k.func};f.exports=l}),null);
__d("P2PMemoPhotoUploadSelector.react",["cx","fbt","FileInput","FileInputUploader","React","ReactDOM"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m="/ajax/payments/p2p/memo_photo_upload/",n=1,o=29;j=babelHelpers.inherits(p,c("React").Component);k=j&&j.prototype;function p(){__p&&__p();var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=k.constructor).call.apply(q,[this].concat(t)),this.fileInput=null,this.$P2PMemoPhotoUploadSelector1=null,this.handleFileInputChange=function(){if(this.fileInput&&this.fileInput.getValue()){var v=new(c("FileInputUploader"))(this.fileInput.getInput()).setAllowCrossPageTransition(true).setURI(m);v.subscribe(["success","failure"],function(w,x){this.props.onPhotoUploadComplete(x.response)}.bind(this));v.setData({profile_id:n,source:o}).send();this.props.onPhotoUploadStart()}}.bind(this),r}p.prototype.componentDidMount=function(){var q=c("ReactDOM").findDOMNode(this.refs.PhotoInputContainer),r=c("ReactDOM").findDOMNode(this.refs.PhotoInputControl),s=c("ReactDOM").findDOMNode(this.refs.PhotoInput);this.fileInput=new(c("FileInput"))(q,r,s);this.$P2PMemoPhotoUploadSelector1=this.fileInput.subscribe("change",this.handleFileInputChange)};p.prototype.componentWillUnmount=function(){this.$P2PMemoPhotoUploadSelector1&&this.$P2PMemoPhotoUploadSelector1.unsubscribe()};p.prototype.render=function(){var q=i._("Add Photo");return c("React").createElement("div",{"aria-label":q,className:"_m _3h1u"+(this.props.photoUploading||this.props.attachedPhoto?" _3h1v":""),ref:"PhotoInputContainer"},c("React").createElement("i",{className:"_3h1w",ref:"PhotoInputControl"},c("React").createElement("input",{accept:"image/*",className:"_n",name:"file",ref:"PhotoInput",title:q,type:"file"})))};p.propTypes={attachedPhoto:l.object,isUploading:l.bool,onPhotoUploadComplete:l.func.isRequired,onPhotoUploadStart:l.func.isRequired};f.exports=p}),null);
__d("P2PMemoField.react",["cx","fbt","ix","MessengerEnvironment","Image.react","P2PGKValues","P2PMemoPhotoUploadPreview.react","P2PMemoPhotoUploadSelector.react","React"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("React").PropTypes;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(){__p&&__p();var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.state={attachedPhoto:null,defaultValue:"",disabled:false,focused:false,isRequesting:false,photoUploading:false},this.handleChangeText=function(t){this.props.onTextChange(t.target.value)}.bind(this),this.handleImageClick=function(){this.refs.input.focus()}.bind(this),this.handleFocus=function(){this.setState({focused:true})}.bind(this),this.handleBlur=function(){this.setState({focused:false})}.bind(this),this.handlePhotoUploadStart=function(){this.setState({photoUploading:true});this.props.onPhotoUploadingChange(true)}.bind(this),this.handlePhotoUploadComplete=function(t){var u=t.payload||null;this.setState({attachedPhoto:u,photoUploading:false});this.props.onPhotoChange(u?[u.fbid]:[]);this.props.onPhotoUploadingChange(false)}.bind(this),this.handlePhotoRemove=function(){this.setState({attachedPhoto:null,photoUploading:false});this.props.onPhotoChange([]);this.props.onPhotoUploadingChange(false)}.bind(this),this.getImageSrc=function(){var t=c("MessengerEnvironment").messengerui;if(this.state.focused)if(t)return j("94382");else return j("94384");else if(t)return j("94383");else return j("94385")}.bind(this),this.getPlaceholder=function(){if(this.props.isRequesting)return i._("What is this request for?");return i._("What is this payment for?")}.bind(this),this.shouldRenderPhotoMemo=function(){return c("P2PGKValues").P2PWWWMemoPhotoEnabled&&!this.props.isRequesting}.bind(this),this.renderPhotoUploadSelector=function(){if(!this.shouldRenderPhotoMemo())return null;return c("React").createElement("div",{className:"_1-j-"},c("React").createElement(c("P2PMemoPhotoUploadSelector.react"),{attachedPhoto:this.state.attachedPhoto,photoUploading:this.state.photoUploading,onPhotoUploadComplete:this.handlePhotoUploadComplete,onPhotoUploadStart:this.handlePhotoUploadStart}))}.bind(this),this.renderPhotoUploadPreview=function(){if(!this.shouldRenderPhotoMemo())return null;return c("React").createElement(c("P2PMemoPhotoUploadPreview.react"),{attachedPhoto:this.state.attachedPhoto,photoUploading:this.state.photoUploading,onRemoveButtonClick:this.handlePhotoRemove})}.bind(this),p}n.prototype.render=function(){return c("React").createElement("div",{className:"_2z8p"},c("React").createElement("div",{className:"_1-j_"},c("React").createElement(c("Image.react"),{className:"_2z8q",height:12,onClick:this.handleImageClick,src:this.getImageSrc(),width:12}),c("React").createElement("input",{className:"_2z8r",defaultValue:this.props.defaultValue,disabled:this.props.disabled,maxLength:36,onChange:this.handleChangeText,onBlur:this.handleBlur,onFocus:this.handleFocus,placeholder:this.getPlaceholder(),ref:"input"}),this.renderPhotoUploadSelector()),this.renderPhotoUploadPreview())};n.propTypes={defaultValue:m.string,disabled:m.bool,isRequesting:m.bool,onTextChange:m.func.isRequired,onPhotoChange:m.func.isRequired,onPhotoUploadingChange:m.func.isRequired};f.exports=n}),null);
__d("P2PMemoText.react",["cx","fbt","P2PText.react","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){return c("React").createElement("div",{className:"_4myt"},c("React").createElement(c("P2PText.react"),{display:"inline",type:"primary",weight:"bold"},i._("For: {Memo description}",[i.param("Memo description",c("React").createElement(c("P2PText.react"),{display:"inline",type:"secondary",weight:"normal"},this.props.memoText))])))};function m(){j.apply(this,arguments)}m.propTypes={memoText:l.string.isRequired};f.exports=m}),null);
__d("intlAmountInputUtils",["NumberFormatConfig"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){var i=arguments.length<=0||arguments[0]===undefined?true:arguments[0];this.trailingDecimalSeparator=false;this.trailingZeros=[false,false];this.allowDecimals=i}h.prototype.parseAmount=function(i){__p&&__p();var j=i.split(c("NumberFormatConfig").decimalSeparator),k=j[0],l=j[1];this.trailingZeros=[false,false];if(l){l=l.substr(0,2);this.trailingZeros[0]=l[0]==="0";this.trailingZeros[1]=l[1]==="0"}if(l==="")this.trailingDecimalSeparator=true;else this.trailingDecimalSeparator=false;if(k&&!l)return parseFloat(k);else if(!k&&l)return parseFloat("0."+l);else if(k&&l)return parseFloat(k+"."+l);else return NaN};h.prototype.formatAmount=function(i){__p&&__p();if(Number.isNaN(i))return"";var j=i.toString(),k=j.split("."),l=k[0],m=k[1],n="";for(var o=l.length-1;o>=0;o--){n+=l[o];var p=l.length-o;if(p!==l.length&&p%(c("NumberFormatConfig").minDigitsForThousandsSeparator-1)===0)n+=c("NumberFormatConfig").numberDelimiter}n=n.split("").reverse().join("");var q=n;if(m){q+=c("NumberFormatConfig").decimalSeparator+m;if(this.trailingZeros[1])q+="0"}else if(this.trailingZeros[0]){q+=c("NumberFormatConfig").decimalSeparator+"0";if(this.trailingZeros[1])q+="0"}else if(this.trailingDecimalSeparator)q+=c("NumberFormatConfig").decimalSeparator;return q};h.prototype.sanitizeAmount=function(i){var j=void 0;if(this.allowDecimals)j=new RegExp("[^\\d\\"+c("NumberFormatConfig").decimalSeparator+"]+","g");else j=new RegExp("[^\\d]+","g");return i.replace(j,"")};f.exports=new h()}),null);
__d("P2PSendMoneyAmountInput.react",["cx","fbt","intlAmountInputUtils","Middot.react","NumberFormatConfig","React","XUIError.react","XUIGrayText.react","emptyFunction"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m=1,n=Object.freeze({LEFT:37,RIGHT:39,DELETE:8,ZERO:48,NINE:57,NUMPADZERO:96,NUMPADNINE:105}),o=i._("Please enter a smaller amount"),p=void 0,q=void 0;j=babelHelpers.inherits(r,c("React").Component);k=j&&j.prototype;function r(s){__p&&__p();k.constructor.call(this,s);this.$P2PSendMoneyAmountInput1=false;this.focus=function(){var t=void 0,u=this.state.value,v=0;if(this.$P2PSendMoneyAmountInput1&&this.refs.textInput){t=this.refs.textInput;t.focus();if(u)v=u.length;else v=0;t.setSelectionRange(v,v)}}.bind(this);this.handleCaretMoveOnMouseUp=function(t){__p&&__p();var u=this.refs.textInput;if(!u)return;if(typeof u.selectionStart==="number"&&typeof u.selectionEnd==="number"){var v=u.selectionStart,w=u.selectionEnd;if(this.state.value[v-1]===c("NumberFormatConfig").numberDelimiter)v--;if(this.state.value[w-1]===c("NumberFormatConfig").numberDelimiter)w--;u.setSelectionRange(v,w)}}.bind(this);this.handleCaretMoveOnKeyDown=function(t){__p&&__p();q=false;var u=this.refs.textInput;if(!u)return;if(typeof u.selectionStart==="number"&&typeof u.selectionEnd==="number"){var v=u.selectionStart,w=u.selectionEnd;if(t.keyCode===n.LEFT){if(this.state.value[v-2]===c("NumberFormatConfig").numberDelimiter){t.preventDefault();if(v===w)u.setSelectionRange(v-2,v-2);else u.setSelectionRange(v-2,w)}}else if(t.keyCode===n.RIGHT){if(this.state.value[v]===c("NumberFormatConfig").numberDelimiter){t.preventDefault();if(v===w)u.setSelectionRange(w+2,w+2);else u.setSelectionRange(v,w+2)}}else if(t.keyCode===n.DELETE){q=true;var x=this.state.value.split(c("NumberFormatConfig").decimalSeparator),y=x[0],z=x[1];if(this.state.value[v-1]===c("NumberFormatConfig").decimalSeparator&&y.length%c("NumberFormatConfig").minDigitsForThousandsSeparator+z.length>=4)p=v;else if(y.length>1&&v<=y.length&&y.length%c("NumberFormatConfig").minDigitsForThousandsSeparator===1)p=v-2;else p=v-1}else if(t.keyCode>=n.ZERO&&t.keyCode<=n.NINE||t.keyCode>=n.NUMPADZERO&&t.keyCode<=n.NUMPADNINE){q=true;var A=this.state.value.split(c("NumberFormatConfig").decimalSeparator),B=A[0];if((B.length+1)%c("NumberFormatConfig").minDigitsForThousandsSeparator===0)p=v+2;else p=v+1}}}.bind(this);this.handleAmountInputChange=function(t){this.processAmount(t.target.value)}.bind(this);this.handleAmountInputBlur=function(t){var u=t.target.value,v=u.split(c("NumberFormatConfig").decimalSeparator)[1];if(v){if(v.length===1)this.setState({value:u+"0"},this.updateWidth)}else if(v==="")this.setState({value:this.state.value.slice(0,this.state.value.length-1)},this.updateWidth)}.bind(this);this.updateWidth=function(){var t=this.getMockWidth();if(t)this.setState({width:Math.min(t,this.state.maxInputWidth)})}.bind(this);this.state={inputError:null,maxInputWidth:200,value:s.value,width:this.getMockWidth()};c("intlAmountInputUtils").allowDecimals=this.props.allowDecimals}r.prototype.componentDidMount=function(){this.$P2PSendMoneyAmountInput1=true;this.processAmount(this.state.value);if(!this.props.disabled)this.initDelayedFocus()};r.prototype.componentWillUnmount=function(){this.$P2PSendMoneyAmountInput1=false};r.prototype.componentDidUpdate=function(s,t){if(q)this.refs.textInput.setSelectionRange(p,p)};r.prototype.initDelayedFocus=function(){setTimeout(this.focus)};r.prototype.processAmount=function(s){var t=c("intlAmountInputUtils").sanitizeAmount(s);if(t===c("NumberFormatConfig").decimalSeparator)t="0"+t;var u=c("intlAmountInputUtils").parseAmount(t),v=u<=this.props.maxAmount&&!Number.isNaN(u)&&u>0,w=Number.isNaN(u)||u<=this.props.maxAmount;this.props.onInputChange(Number.isNaN(u)?"":u.toString(),v);var x=c("intlAmountInputUtils").formatAmount(u);if(w)this.setState({value:x,inputError:null},this.updateWidth);else this.setState({value:x,inputError:o},this.updateWidth)};r.prototype.getMockWidth=function(){var s=this.refs.mock_input;if(s)return s.offsetWidth+m;else return 0};r.prototype.renderGroupRequestInformation=function(){if(this.props.receiversCount<=1)return null;var s=this.props.amountOffset,t=void 0;if(parseFloat(this.props.value))t=Math.round(parseFloat(this.props.value)*this.props.receiversCount*s)/s;else t=0;return c("React").createElement(c("XUIGrayText.react"),{display:"block",size:"meta1"},i._("Per Person"),c("React").createElement(c("Middot.react"),null),i._("{currency}{total} Total",[i.param("currency",this.props.currencySymbol),i.param("total",t)]))};r.prototype.render=function(){var s=void 0,t=!this.state.value.length;if(t)s=c("React").createElement("div",{ref:"placeholder_input",className:"_1-sv"},"0");return c("React").createElement("div",{className:"_ipw"+(this.props.isRequesting?" _1c9h":"")},c("React").createElement("label",null,c("React").createElement("div",{className:"_4puh"+(t?" _1-sy":"")},s,c("React").createElement("div",{ref:"mock_input",className:"_5fbs"},this.state.value),c("React").createElement(c("XUIError.react"),{xuiError:this.state.inputError},c("React").createElement("span",{className:"_1-sz","data-currency-symbol":this.props.currencySymbol},c("React").createElement("input",{autoFocus:true,className:"_5fbv",disabled:this.props.disabled,onBlur:this.handleAmountInputBlur,onChange:this.handleAmountInputChange,onKeyDown:this.handleCaretMoveOnKeyDown,onMouseUp:this.handleCaretMoveOnMouseUp,ref:"textInput",style:{width:this.state.width},value:this.state.value}))),this.renderGroupRequestInformation())))};r.propTypes={allowDecimals:l.bool.isRequired,amountOffset:l.number.isRequired,currencySymbol:l.string,disabled:l.bool,isRequesting:l.bool,maxAmount:l.number.isRequired,onInputChange:l.func.isRequired,receiversCount:l.number,value:l.string};r.defaultProps={currencySymbol:"$",disabled:false,isRequesting:false,maxAmount:9999.99,onInputChange:c("emptyFunction"),receiversCount:1,value:""};f.exports=r}),null);
__d("AllPaymentTypeFields",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({PAYMENT_SETTINGS:"payment_settings",IG_PAYMENT_SETTINGS:"ig_payment_settings",UNKNOWN:"unknown",MOR_NONE:"mor_none",MOR_ADS_INVOICE:"mor_ads_invoice",MOR_DONATIONS:"mor_donations",MOR_DONATIONS_MATCHING_CONFIRMATION:"mor_donations_matching_confirmation",MOR_DONATIONS_MATCHING_PLEDGE:"mor_donations_matching_pledge",MOR_OCULUS_CV1:"mor_oculus_cv1",MOR_OCULUS_LAUNCH_V1:"mor_oculus_launch_v1",MOR_OCULUS_LAUNCH_V2:"mor_oculus_launch_v2",MOR_OZONE:"mor_ozone",MOR_OPEN_GRAPH_PRODUCT:"mor_open_graph_product",MOR_MESSENGER_COMMERCE:"mor_messenger_commerce",MOR_P2P_TRANSFER:"mor_p2p_transfer",MOR_DUMMY_FIRST_PARTY:"mor_dummy_first_party",MOR_DUMMY_THIRD_PARTY:"mor_dummy_third_party",MOR_GIFTS:"mor_gifts",MOR_BILL:"mor_bill",MOR_AIRMAIL:"mor_airmail",MOR_EVENT_TICKETING:"mor_event_ticketing",MOR_PAYMENT_LITE:"mor_payment_lite",MOR_MESSENGER_API_FEE:"mor_messenger_api_fee",MOR_WORKPLACE_USAGE:"mor_workplace_usage",MOR_FACEBOOK_SHOP:"mor_facebook_shop",MOR_GAME_TIPPING_TOKEN:"mor_game_tipping_token",NMOR_UNKNOWN:"nmor_unknown",NMOR_NONE:"nmor_none",NMOR_PAGES_COMMERCE:"nmor_pages_commerce",NMOR_COMPONENT_FLOW:"nmor_component_flow",NMOR_BUSINESS_PLATFORM_COMMERCE:"nmor_business_platform_commerce",NMOR_SYNCHRONOUS_COMPONENT_FLOW:"nmor_synchronous_component_flow",NMOR_EVENT_TICKETING:"nmor_event_ticketing",NMOR_PLATFORM_SELF_SERVE:"nmor_platform_self_serve",NMOR_MESSENGER_PLATFORM:"nmor_messenger_platform",NMOR_MESSENGER_OMNIM:"nmor_messenger_omnim",NMOR_BILLING_ENGINE:"nmor_billing_engine",NMOR_TIP_JAR:"nmor_tip_jar",NMOR_INSTANT_EXPERIENCES:"nmor_instant_experiences",NMOR_CHECKOUT_EXPERIENCES:"nmor_checkout_experiences",NMOR_BUY_ON_FACEBOOK:"nmor_buy_on_facebook",NMOR_PAYMENT_APP:"nmor_payment_app",NMOR_DONATION_P4P:"nmor_donation_p4p",NMOR_WHATSAPP_P2P:"nmor_whatsapp_p2p",NMOR_P2P:"nmor_p2p",NMOR_MOBILE_TOP_UP:"nmor_mobile_top_up",NMOR_MFS:"nmor_mfs",NMOR_SHIPPING_LABEL:"nmor_shipping_label",NMOR_MARKETPLACE_DROPOFF:"nmor_marketplace_dropoff",NMOR_PAGES_SOLUTION:"nmor_pages_solution",NMOR_BLACKBAUD_RWR_DONATION:"nmor_blackbaud_rwr_donation",NMOR_INSTAGRAM_P2B:"nmor_instagram_p2b",NMOR_MARKETPLACE_SHIPPING:"nmor_marketplace_shipping"})}),null);
__d("P2PPaymentPhasesQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1864738660245468"};j.getQueryID=function(){"use strict";return"346225005861160"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("P2PPaymentSupportedCountry",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({US:"US",PH:"PH",FR:"FR",GB:"GB",TH:"TH",VN:"VN",FB:"FB"})}),null);
__d("P2PSendMoneyDialogActionHeader.react",["cx","fbt","React","ShimButton.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.renderPayTab=function(){if(this.props.isPayTabDisabled)return null;var m=this.props.isPaying;return c("React").createElement(c("ShimButton.react"),{className:"_50cx"+(m?" _50cy":""),onClick:this.props.onPayClick},i._("Pay"))};l.prototype.renderRequestTab=function(){if(this.props.isRequestTabDisabled)return null;var m=this.props.isRequesting;return c("React").createElement(c("ShimButton.react"),{className:"_50cx"+(m?" _50cy":""),onClick:this.props.onRequestClick},i._("Request"))};l.prototype.render=function(){var m=!!this.props.isPayTabDisabled,n=!!this.props.isRequestTabDisabled;return c("React").createElement("div",{className:"_50cr"+(m||n?" _3b-h":"")+(this.props.isPaying?" _50cv":"")+(this.props.isRequesting?" _50cw":"")},this.renderPayTab(),this.renderRequestTab(),c("React").createElement("div",{className:"_50c_"}))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("P2PGatingFailReason",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NON_PERSONAL_USER:"non_personal_user",IS_WORK_USER:"is_work_user",P2P_ENABLED_GK_FAIL:"p2p_enabled_gk_fail",P2P_ELIGIBLE_GK_FAIL:"p2p_eligible_gk_fail",SENDER_AND_RECEIVER_DIFFERENT_PRIMARY_PRODUCT:"sender_and_receiver_different_primary_product",HAS_NOT_RECEIVED_MONEY:"has_not_received_money",PAYMENT_ACCOUNT_DISABLED:"payment_account_disabled",MBASIC:"mbasic",IS_PARTIAL_ACCOUNT:"is_partial_account",IS_MOMENTS_ONLY_ACCOUNT:"is_moments_only_account",IS_PARTIES_ONLY_ACCOUNT:"is_parties_only_account",EXCEPTION:"exception",APP_CAPABILITY:"app_capability",USER_BLOCKED:"user_blocked",MESSAGES_BLOCKED:"messages_blocked",SVA_RECEIVER_GATING:"sva_receiver_gating"})}),null);
__d("PaymentSettingsStringUtils",["fbt","P2PGatingFailReason","P2PLinkConstants","React"],(function a(b,c,d,e,f,g,h){"use strict";var i={getPaymentsDPOText:function j(){return h._("For your security, payments have been temporarily turned off. Please {=contact us} to learn more.",[h.param("=contact us",c("React").createElement("a",{href:c("P2PLinkConstants").disabledPaymentsSupportURI},"contact us"))])},getGeneralP2PDisabledText:function j(){return h._("You are not able to use payments in messages right now. Please try again later.")},getP2PDisabledText:function j(k){switch(k){case c("P2PGatingFailReason").PAYMENT_ACCOUNT_DISABLED:return this.getPaymentsDPOText();default:return this.getGeneralP2PDisabledText()}}};f.exports=i}),null);
__d("P2PSendMoneyDialog.react",["cx","fbt","Arbiter","CreditCardFormParam","FBPaymentsRiskThreatMetrixIframe.react","Image.react","ImageBlock.react","immutable","Link.react","MessengerContactImage.react","MessengerContextualDialog.react","MessengerEnvironment","MessengerHorizontalScroll.react","P2PAPI","P2PAddCreditCardDialog.react","P2PButton.react","P2PBigAmount.react","P2PCreditCardStore","P2PChooseCreditCardForm.react","P2PConfirmAmountDialog.react","P2PDialog.react","P2PDialogTitle.react","P2PEditCreditCardDialog.react","P2PGKValues","P2PLinkConstants","P2PLoadingMask.react","P2PLogger","P2PMemoField.react","P2PMemoText.react","P2PPaymentLoggerEvent","P2PPaymentLoggerEventFlow","P2PSendMoneyAmountInput.react","P2PSendMoneyDialogActionHeader.react","P2PText.react","P2PVerifyCreditCardDialog.react","PaymentSettingsStringUtils","PECurrency","React","ReactLayeredComponentMixin_DEPRECATED","XUIContextualDialog.react","XUISpinner.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("React").PropTypes,k=c("MessengerEnvironment").messengerui,l=c("P2PGKValues").P2PRequestMoneyEnabled,m=i._("Change"),n=i._("Add Debit Card"),o=100,p=c("React").createClass({displayName:"P2PSendMoneyDialog",mixins:[c("ReactLayeredComponentMixin_DEPRECATED")],propTypes:{amount:j.string.isRequired,currency:j.string.isRequired,currencySymbol:j.string.isRequired,groupThreadFBID:j.string,flyoutAlignment:j.oneOf(["left","center","right"]),openRequestTab:j.bool,memoText:j.string,onError:j.func.isRequired,onPaymentRequestError:j.func.isRequired,onPaymentRequestSuccess:j.func.isRequired,onSendSuccess:j.func.isRequired,onToggle:j.func.isRequired,platformData:j.object,receivers:j.instanceOf(c("immutable").List).isRequired,referrer:j.string,paymentRequestID:j.string,position:j.oneOf(["above","below","left","right"]),p2pEligibilities:j.object,p2pPaymentConfig:j.shape({currencyCode:j.string.isRequired,enabledActions:j.object.isRequired,enabledPaymentMethods:j.object.isRequired,maxTransferAmount:j.number.isRequired,title:j.string,use_payment_module_method_picker:j.bool,countryCode:j.string.isRequired,postalRegex:j.string.isRequired}).isRequired,useModal:j.bool},getDefaultProps:function q(){return{amount:"",openRequestTab:false,receivers:c("immutable").List(),useModal:false}},getInitialState:function q(){var r=c("P2PCreditCardStore").getAll(),s=this.props.openRequestTab||this.isGroupRequest();return{asyncRequestState:c("P2PCreditCardStore").getAsyncRequestState(),addCreditCardDialogShown:false,amount:this.props.amount,creditCardsFetchError:c("P2PCreditCardStore").failedCreditCardFetch(),creditCards:r,confirmAmountDialogShown:false,isAmountValid:!!this.props.paymentRequestID,isCreditCardsFetchComplete:c("P2PCreditCardStore").isCreditCardsFetchComplete(),isMemoPhotoUploading:false,isPaying:!s,isRequesting:s,loading:false,memoText:this.props.memoText,memoPhotoIDs:[],selectedCard:r[0],showChooseCreditCardForm:false,verifyCreditCardDialogShown:false}},creditCardStoreSub:null,_isAmountVerified:false,passwordCancelSubscribeToken:null,_isMounted:false,getDialogWidth:function q(){if(this.props.useModal)return k?380:312;return k?286:260},getEventFlow:function q(){return this.props.paymentRequestID||this.isRequesting()?c("P2PPaymentLoggerEventFlow").UI_FLOW_P2P_REQUEST:c("P2PPaymentLoggerEventFlow").UI_FLOW_P2P_SEND},getLogObjectIDs:function q(){var r=this.props.receivers;if(r.size>1)return{object_ids:r.map(function(s){return s.userID}).join(",")};var s=r.get(0)||{};return{object_id:s.userID}},log:function q(r,s){var t=this.getLogObjectIDs();c("P2PLogger").log(r,babelHelpers["extends"]({www_event_flow:this.getEventFlow(),memo_text:this.state.memoText,request_id:this.props.paymentRequestID},this.getPlatformLoggingData(),s,this.getReferrer(),t))},componentDidMount:function q(){this._isMounted=true},componentWillUnmount:function q(){this._isMounted=false;if(this.passwordCancelSubscribeToken){c("Arbiter").unsubscribe(this.passwordCancelSubscribeToken);this.passwordCancelSubscribeToken=null}if(this.creditCardStoreSub){this.creditCardStoreSub.remove();this.creditCardStoreSub=null}},componentWillMount:function q(){this.creditCardStoreSub=c("P2PCreditCardStore").addListener("change",this.onCreditCardStoreChange);this.log(c("P2PPaymentLoggerEvent").UI_ACTN_INITIATE_SEND);if(c("P2PGKValues").P2PDisabledReason)this.log(c("P2PPaymentLoggerEvent").UI_ACTN_P2P_SENDER_DISABLED_SHOWN);else if(this.isRecipientIneligible())this.log(c("P2PPaymentLoggerEvent").UI_ACTN_P2P_RECIPIENT_INELIGIBLE_SHOWN)},getPlatformLoggingData:function q(){var r=this.props.platformData&&this.props.platformData.loggingData;if(r)return{platform_logging_data:r};return null},getReferrer:function q(){var r=this.props.referrer;if(r)return{www_event_referrer:r};return null},onAmountInputChange:function q(r,s){this.setState({amount:r,isAmountValid:s})},onCreditCardStoreChange:function q(){var r=c("P2PCreditCardStore").getAll(),s=void 0;if(this.state.selectedCard)s=r.filter(function(t){return t.getCredentialId()===this.state.selectedCard.getCredentialId()}.bind(this))[0];if(!s)s=r[0];this.setState({asyncRequestState:c("P2PCreditCardStore").getAsyncRequestState(),creditCards:r,isCreditCardsFetchComplete:c("P2PCreditCardStore").isCreditCardsFetchComplete(),selectedCard:s,creditCardsFetchError:c("P2PCreditCardStore").failedCreditCardFetch()})},shouldShowConfirmAmountDialog:function q(){var r=this.state.amount,s=r?r.replace(/\,/g,""):"",t=parseFloat(s);return!this._isAmountVerified&&t>=o},shouldShowVerifyCreditCardDialog:function q(){return!this.state.selectedCard.getIsVerified()},shouldShowEditCreditCardDialog:function q(){return this.state.selectedCard.isExpired()},handleSendClick:function q(){if(this.isSendButtonDisabled())return;this.log(c("P2PPaymentLoggerEvent").UI_ACTN_SEND_CLICKED,{raw_amount:this.state.amount,currency:this.props.currency});this._isAmountVerified=false;this.initiatePayment()},handleRequestClick:function q(){if(this.isRequestButtonDisabled())return;this.log(c("P2PPaymentLoggerEvent").UI_ACTN_REQUEST_CLICKED,{raw_amount:this.state.amount,currency:this.props.currency});this.createPaymentRequest()},initiatePayment:function q(){__p&&__p();if(this.shouldShowConfirmAmountDialog()){this.hideAllDialogs();this.setState({confirmAmountDialogShown:true});this.log(c("P2PPaymentLoggerEvent").UI_ACTN_CONFIRM_AMOUNT,{raw_amount:this.state.amount,currency:this.props.currency});return}else if(this.shouldShowEditCreditCardDialog()){this.hideAllDialogs();this.setState({editCreditCardDialogShown:true});this.log(c("P2PPaymentLoggerEvent").UI_ACTN_EDIT_CARD,{raw_amount:this.state.amount,currency:this.props.currency});return}else if(this.shouldShowVerifyCreditCardDialog()){this.hideAllDialogs();this.setState({verifyCreditCardDialogShown:true});this.log(c("P2PPaymentLoggerEvent").UI_ACTN_VERIFY_CSC,{raw_amount:this.state.amount,currency:this.props.currency});return}this.createTransaction()},isGroupRequest:function q(){return this.props.receivers.size>1},isPayingForRequest:function q(){return!!this.props.paymentRequestID},isPaying:function q(){return this.state.isPaying===true},isRequesting:function q(){return this.state.isRequesting===true},shouldShowLoading:function q(){return!this.state.addCreditCardDialogShown&&!this.state.confirmAmountDialogShown&&!this.state.verifyCreditCardDialogShown&&!this.state.editCreditCardDialogShown},createTransaction:function q(){__p&&__p();var r={},s=this.props.receivers.get(0)||{};this.setState({loading:this.shouldShowLoading()});r[c("CreditCardFormParam").CREDENTIAL_ID]=this.state.selectedCard.getCredentialId();r.amount=this.state.amount;r.receiverId=s.userID;r.memoText=this.state.memoText;r.memoPhotoIDs=this.state.memoPhotoIDs;r.paymentRequestID=this.props.paymentRequestID;if(this.props.groupThreadFBID)r.group_thread_fbid=this.props.groupThreadFBID;if(this.props.platformData)r.platform_context_id=this.props.platformData.platformContextID;this.passwordCancelSubscribeToken=c("Arbiter").subscribeOnce("PasswordReauthDialogCancelClick",this.handlePasswordReauthDialogCancelClick);c("P2PAPI").createTransaction({formData:r,error:this.setCreateTransferError,success:this.setCreateTransferSuccess});this.log(c("P2PPaymentLoggerEvent").UI_ACTN_CONFIRM_SEND,{raw_amount:this.state.amount,currency:this.props.currency})},createPaymentRequest:function q(){this.setState({loading:this.shouldShowLoading()});var r=this.props.platformData||{};c("P2PAPI").createPaymentRequest({formData:{amount:this.state.amount,memoText:this.state.memoText,group_thread_fbid:this.props.groupThreadFBID,requestees:this.props.receivers,platform_context_id:r.platformContextID},error:this.setCreatePaymentRequestError,success:this.setCreatePaymentRequestSuccess});this.log(c("P2PPaymentLoggerEvent").UI_ACTN_CONFIRM_REQUEST,{raw_amount:this.state.amount,currency:this.props.currency})},hideAllDialogs:function q(){this.setState({addCreditCardDialogShown:false,confirmAmountDialogShown:false,verifyCreditCardDialogShown:false,editCreditCardDialogShown:false})},isDialogShowing:function q(){return!!(this.state.addCreditCardDialogShown||this.state.confirmAmountDialogShown||this.state.verifyCreditCardDialogShown||this.state.editCreditCardDialogShown)},setCreateTransferError:function q(r){if(this._isMounted){this.hideAllDialogs();this.setState({loading:false})}this.props.onError(r);this.log(c("P2PPaymentLoggerEvent").UI_ACTN_SEND_FAIL)},setCreateTransferSuccess:function q(r){if(this._isMounted){this.setState({loading:false});this.hideAllDialogs()}this.props.onSendSuccess(r);this.log(c("P2PPaymentLoggerEvent").UI_ACTN_SEND_SUCCESS)},setCreatePaymentRequestError:function q(r){if(this._isMounted){this.hideAllDialogs();this.setState({loading:false})}this.props.onPaymentRequestError(r.error);this.log(c("P2PPaymentLoggerEvent").UI_ACTN_REQUEST_FAIL)},setCreatePaymentRequestSuccess:function q(r){if(this._isMounted){this.setState({loading:false});this.hideAllDialogs()}this.props.onPaymentRequestSuccess();this.log(c("P2PPaymentLoggerEvent").UI_ACTN_REQUEST_SUCCESS,{request_id:r.id})},handlePasswordReauthDialogCancelClick:function q(){this.passwordCancelSubscribeToken=null;this.setState({loading:false});this.hideAllDialogs()},onAddCreditCardCancel:function q(){this.setState({addCreditCardDialogShown:false})},onAddCreditCardSuccess:function q(r){var s=c("P2PCreditCardStore").getAll(),t=s.filter(function(u){var v=u.getCredentialId();return r[c("CreditCardFormParam").CREDENTIAL_ID]===v})[0];this.setState({selectedCard:t},function(){if(this.state.isAmountValid)this.initiatePayment();else{this.setState({addCreditCardDialogShown:false});this.focusAmountInput()}}.bind(this))},onEditCreditCardSuccess:function q(){this.initiatePayment()},onEditCreditCardCancel:function q(){this.setState({editCreditCardDialogShown:false})},focusAmountInput:function q(){if(this.refs.send_money_amount_input)this.refs.send_money_amount_input.focus()},_handleToggle:function q(r){this.props.onToggle(r);if(!this.state.loading)this.log(c("P2PPaymentLoggerEvent").UI_ACTN_SEND_MONEY_CANCELLED)},_handleBlur:function q(){this._handleToggle(false)},handleAddCreditCardClick:function q(){this.setState({addCreditCardDialogShown:true,showChooseCreditCardForm:false});this.log(c("P2PPaymentLoggerEvent").UI_ACTN_CHANGE_CARD)},handleBackClick:function q(){this.setState({showChooseCreditCardForm:false},function(){this.focusAmountInput()}.bind(this))},handleChooseCardNextClick:function q(){var r=this.refs.choose_credit_card_form.getSelectedCard();this.setState({selectedCard:r,showChooseCreditCardForm:false},function(){this.focusAmountInput()}.bind(this))},handleAddCardNextClick:function q(){this.setState({addCreditCardDialogShown:true})},handleChangeSelectedCardClick:function q(){var r={};if(this.state.creditCards.length===1){r.addCreditCardDialogShown=true;this.log(c("P2PPaymentLoggerEvent").UI_ACTN_CHANGE_CARD)}else{r.showChooseCreditCardForm=true;this.log(c("P2PPaymentLoggerEvent").UI_ACTN_INITIATE_CHOOSE_CARD)}this.setState(r)},onConfirmAmountCancel:function q(){this.setState({confirmAmountDialogShown:false})},onConfirmAmountSuccess:function q(){this._isAmountVerified=true;this.initiatePayment()},onVerifyCreditCardSuccess:function q(){this.initiatePayment()},onVerifyCreditCardCancel:function q(){this.setState({verifyCreditCardDialogShown:false})},handleMemoTextChange:function q(r){this.setState({memoText:r})},handleMemoPhotoChange:function q(r){this.setState({memoPhotoIDs:r})},handleMemoPhotoUploadingChange:function q(r){this.setState({isMemoPhotoUploading:r})},isSendButtonDisabled:function q(){return!this.state.isAmountValid||!this.state.creditCards.length||this.state.loading||this.state.isMemoPhotoUploading||this.isGroupRequest()},isRequestButtonDisabled:function q(){return!this.state.isAmountValid||this.state.loading},isAddCardNextButtonDisabled:function q(){return!this.state.isAmountValid},renderAddDebitCardLink:function q(){return c("React").createElement(c("P2PText.react"),{className:"_42h3",type:"secondary",ref:"send_money_dialog_add_card_text"},c("React").createElement(c("Link.react"),{className:"_49nm",href:"#",onClick:this.handleAddCreditCardClick},n))},renderSelectedCard:function q(){var r=this.state.selectedCard;return c("React").createElement(c("P2PText.react"),{className:"_21x5",size:"small",type:"primary"},c("React").createElement("div",{className:"_49nn"},r.getName()),c("React").createElement("div",{className:"_21wx"},r.getCreditCardNumberFormatted()),c("React").createElement("div",{className:"_21ww"},"\xb7"),c("React").createElement(c("Link.react"),{className:"_21wy",onClick:this.handleChangeSelectedCardClick,href:"#"},m))},renderFormButtons:function q(){__p&&__p();var r=void 0,s=k&&this.props.useModal?c("React").createElement(c("P2PButton.react"),{label:i._("Cancel"),onClick:function(){this._handleToggle(false)}.bind(this),type:"secondary"}):null;if(this.isRequesting())r=c("React").createElement("div",null,s,this.renderRequestButton());else if(!this.state.creditCards.length)r=c("React").createElement("div",null,s,this.renderAddCardNextButton());else if(this.state.showChooseCreditCardForm)r=c("React").createElement("div",null,this.renderChooseCardBackButton(),this.renderChooseCardNextButton());else r=c("React").createElement("div",null,s,this.renderPayButton());return r},renderChooseCardBackButton:function q(){return c("React").createElement(c("P2PButton.react"),{label:i._("Back"),onClick:this.handleBackClick,ref:"back_button",size:"medium",type:"secondary",use:"default"})},renderAddCardNextButton:function q(){return c("React").createElement(c("P2PButton.react"),{disabled:this.isAddCardNextButtonDisabled(),label:i._("Next"),onClick:this.handleAddCardNextClick,ref:"add_card_next_button",size:"medium",type:"primary",use:"default"})},renderChooseCardNextButton:function q(){return c("React").createElement(c("P2PButton.react"),{label:i._("Next"),onClick:this.handleChooseCardNextClick,ref:"choose_card_next_button",size:"medium",type:"primary",use:"confirm"})},renderPayButton:function q(){return c("React").createElement(c("P2PButton.react"),{disabled:this.isSendButtonDisabled(),label:i._("Pay"),onClick:this.handleSendClick,ref:"send_button",size:"medium",type:"primary",use:"confirm"})},renderRequestButton:function q(){return c("React").createElement(c("P2PButton.react"),{disabled:this.isRequestButtonDisabled(),label:i._("Request"),onClick:this.handleRequestClick,ref:"request_button",size:"medium",type:"primary",use:"confirm"})},renderPaymentDetails:function q(){__p&&__p();var r=void 0;if(this.isRequesting())return null;if(this.state.creditCards.length)if(this.state.showChooseCreditCardForm)r=this.renderAddDebitCardLink();else r=this.renderSelectedCard();else if(this.state.creditCardsFetchError)r=c("React").createElement("div",{className:"_2abl"},c("React").createElement(c("P2PText.react"),{type:"secondary",ref:"send_money_dialog_add_card_next_text"},i._("Sorry, we couldn't fetch your details. Please check your internet connection or refresh this page and try again.")));else r=c("React").createElement("div",{className:"_2abl"},c("React").createElement(c("P2PText.react"),{type:"secondary",ref:"send_money_dialog_add_card_next_text"},i._("Sending money is free and secure")));return r},isRecipientIneligible:function q(){var r=this.props.p2pEligibilities;if(!r||this.props.receivers.size===0)return false;var s=this.props.receivers.find(function(t){return!r[t.userID]});return!!s},isDialogDisabled:function q(){return!!(c("P2PGKValues").P2PDisabledReason||this.isRecipientIneligible())},renderDisabledText:function q(){__p&&__p();if(!this.isDialogDisabled())return null;var r=c("P2PGKValues").P2PDisabledReason;if(r)return c("PaymentSettingsStringUtils").getP2PDisabledText(r);if(this.isRecipientIneligible()){var s=this.props.receivers.get(0)||{},t=s.short_name||"";return i._("{receiverName} isn't able to receive money right now. {Learn more about p2p link}",[i.param("receiverName",t),i.param("Learn more about p2p link",c("React").createElement(c("Link.react"),{href:c("P2PLinkConstants").receiverIneligibleHelpURI,target:"_blank"},i._("Learn More.")))])}return c("PaymentSettingsStringUtils").getGeneralP2PDisabledText()},renderFooter:function q(){var r=void 0;if(this.isDialogDisabled())r=c("React").createElement(c("P2PText.react"),{className:"_2pi8",type:"secondary"},this.renderDisabledText());else if(!this.state.isCreditCardsFetchComplete)r=c("React").createElement("div",{className:"_2-vg"},c("React").createElement(c("XUISpinner.react"),{className:"_2-vh"}));else r=[c("React").createElement("div",{className:"_21x4",key:"paymentDetails"},this.renderPaymentDetails()),c("React").createElement("div",{className:"_4zf-",key:"formButtons"},this.renderFormButtons())];return c("React").createElement("div",{className:"_5p-k"},r)},renderMemo:function q(){var r=this.isPayingForRequest(),s=this.props.memoText||this.state.memoText;if(r&&!s)return null;if(r&&s)return c("React").createElement("div",{className:"_5exl"},c("React").createElement(c("P2PMemoText.react"),{memoText:s}));return c("React").createElement("div",{className:"_5exl"},c("React").createElement(c("P2PMemoField.react"),{defaultValue:s,disabled:this.isDialogDisabled(),isRequesting:this.isRequesting(),onTextChange:this.handleMemoTextChange,onPhotoChange:this.handleMemoPhotoChange,onPhotoUploadingChange:this.handleMemoPhotoUploadingChange}))},renderSendMoneyForm:function q(){return c("React").createElement("div",null,this.renderTitle(),c("React").createElement("div",{className:"_2abm"},this.renderMainContainer()),this.renderMemo(),c("React").createElement("div",{className:"_21w-"+(this.isDialogDisabled()?" _3orf":"")+(k?" _4eb_":"")},this.renderFooter()))},renderMainContainer:function q(){var r=void 0,s=void 0,t=this.state.amount,u=this.isPayingForRequest(),v=this.props.p2pPaymentConfig,w=c("PECurrency").getCurrencyOffset(v.currencyCode),x=v.maxTransferAmount/w;if(this.state.showChooseCreditCardForm)r=c("React").createElement("div",{className:"_xn7"},c("React").createElement(c("P2PChooseCreditCardForm.react"),{creditCards:this.state.creditCards,selectedCard:this.state.selectedCard,ref:"choose_credit_card_form"}));else{if(!u)s=c("React").createElement(c("P2PSendMoneyAmountInput.react"),{amountOffset:w,currencySymbol:this.props.currencySymbol,disabled:this.isDialogDisabled(),allowDecimals:w===100,isRequesting:this.isRequesting(),maxAmount:x,onInputChange:this.onAmountInputChange,receiversCount:this.props.receivers.size,ref:"send_money_amount_input",value:t});else s=c("React").createElement(c("P2PBigAmount.react"),{amount:t,className:"_3oh-",currencyCode:v.currencyCode,size:"large"});r=c("React").createElement("div",{className:"_2abn"+(u?" _74p":"")},s)}return r},renderActionText:function q(){if(this.isRequesting())return i._("Send request to");return i._("Send to")},renderActionToggleHeader:function q(){__p&&__p();var r=this.isPaying(),s=this.isRequesting();if(this.isPayingForRequest()||!l)return null;return c("React").createElement("div",{className:"_4uvi"},c("React").createElement(c("P2PSendMoneyDialogActionHeader.react"),{isPayTabDisabled:this.isGroupRequest()||!this.props.p2pPaymentConfig.enabledActions.send,isRequestTabDisabled:!this.props.p2pPaymentConfig.enabledActions.request,isPaying:r,isRequesting:s,onPayClick:function(){if(this.isPaying())return;this.setState({isPaying:true,isRequesting:false},function(){this.focusAmountInput();this.log(c("P2PPaymentLoggerEvent").UI_ACTN_INITIATE_SEND)}.bind(this))}.bind(this),onRequestClick:function(){if(!this.isRequesting())this.setState({isPaying:false,isRequesting:true},function(){this.focusAmountInput();this.log(c("P2PPaymentLoggerEvent").UI_ACTN_INITIATE_REQUEST)}.bind(this))}.bind(this)}))},renderLayers:function q(){__p&&__p();var r={},s=this.props.receivers.get(0)||{},t=s.short_name,u=void 0,v=void 0,w=void 0;if(this.props.useModal)w={LayerFadeOnShow:false};if(this.state.addCreditCardDialogShown){if(this.state.isAmountValid){v=i._("Please enter a debit card to send {Amount} to {Recipient name}. Credit cards can't be used.",[i.param("Amount",this.props.currencySymbol+this.state.amount),i.param("Recipient name",t)]);u=i._("Pay")}r.addCreditCard=c("React").createElement(c("P2PAddCreditCardDialog.react"),{behaviors:w,eventFlow:this.getEventFlow(),loggingData:this.getPlatformLoggingData(),onCancel:this.onAddCreditCardCancel,onSuccess:this.onAddCreditCardSuccess,ref:"send_money_dialog_add_credit_card_form",saveButtonText:u,showCancelButton:!!k,text:v})}else if(this.state.confirmAmountDialogShown)r.confirmAmount=c("React").createElement(c("P2PConfirmAmountDialog.react"),{amount:this.state.amount,behaviors:w,currencySymbol:this.props.currencySymbol,onCancel:this.onConfirmAmountCancel,onConfirm:this.onConfirmAmountSuccess,receiverName:t});else if(this.state.verifyCreditCardDialogShown)r.verifyCreditCard=c("React").createElement(c("P2PVerifyCreditCardDialog.react"),{asyncRequestState:this.state.asyncRequestState,behaviors:w,creditCard:this.state.selectedCard,isSending:true,onCancel:this.onVerifyCreditCardCancel,onSuccess:this.onVerifyCreditCardSuccess});else if(this.state.editCreditCardDialogShown)r.confirmAmount=c("React").createElement(c("P2PEditCreditCardDialog.react"),{asyncRequestState:this.state.asyncRequestState,behaviors:w,creditCard:this.state.selectedCard,onCancel:this.onEditCreditCardCancel,onSuccess:this.onEditCreditCardSuccess});return r},renderIneligibleMask:function q(){if(!this.isDialogDisabled())return null;return c("React").createElement("div",{className:"_3org"})},renderReceiverImage:function q(r){var s=k?32:40;return c("React").createElement(c("MessengerContactImage.react"),{key:r.userID,size:s,src:r.big_image_src||r.image_src})},renderSingleRecipient:function q(){var r=k?32:40,s=this.props.receivers.get(0)||{};return c("React").createElement("div",{className:"_49no",ref:"send_money_dialog_title"},c("React").createElement(c("ImageBlock.react"),{spacing:"large"},c("React").createElement(c("Image.react"),{className:"_5p-i",height:r,src:s.big_image_src||s.image_src,width:r}),c("React").createElement("div",{className:"_3-8w"},c("React").createElement(c("P2PText.react"),{type:"secondary"},this.renderActionText()),c("React").createElement(c("P2PText.react"),{className:"_5p-j",size:"small",type:"primary",weight:"bold"},s.name))),c("React").createElement(c("Link.react"),{className:"_49np",href:c("P2PLinkConstants").helpCenterURI,target:"_blank"}))},renderTitle:function q(){if(this.props.receivers.size===1)return this.renderSingleRecipient();var r=k?32:40,s=12;return c("React").createElement("div",{className:"_49no",ref:"send_money_dialog_title"},c("React").createElement(c("MessengerHorizontalScroll.react"),{childPadding:8,childWidth:r,freeScroll:true,width:this.getDialogWidth()-s*2},this.props.receivers.map(this.renderReceiverImage)))},render:function q(){__p&&__p();var r=void 0,s=null,t={};if(this.props.useModal&&this.isDialogShowing())return null;if(this.props.useModal){r=c("P2PDialog.react");s=c("React").createElement(c("P2PDialogTitle.react"),{className:"_30wi"},i._("Confirm Payment"));t={layerHideOnBlur:false}}else{r=k?c("MessengerContextualDialog.react"):c("XUIContextualDialog.react");t={alignment:this.props.flyoutAlignment?this.props.flyoutAlignment:k?"right":"left",context:this.props.context,position:this.props.position||"above",onBlur:this._handleBlur}}return c("React").createElement(r,babelHelpers["extends"]({onToggle:this._handleToggle,shown:true,width:this.getDialogWidth()},t),c("React").createElement("div",{className:"_21x9"+(k?" _1pka":"")+(l?" _4uvl":"")+(this.props.useModal?" _35wt":"")},s,this.renderActionToggleHeader(),this.renderSendMoneyForm(),this.renderIneligibleMask(),c("React").createElement(c("P2PLoadingMask.react"),{ref:"send_money_dialog_loader",visible:this.state.loading}),c("React").createElement(c("FBPaymentsRiskThreatMetrixIframe.react"),null)))}});f.exports=p}),null);
__d("P2PEncryptedText.react",["ix","cx","fbt","xuiglyph","Image.react","P2PText.react","React"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l,m,n=c("React").PropTypes;l=babelHelpers.inherits(o,c("React").Component);m=l&&l.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=m.constructor).call.apply(p,[this].concat(s)),this.getEncryptedMessage=function(){if(this.props.showPasswordProtected)return j._("Encrypted and password protected.");return j._("Encrypted and private.")}.bind(this),q}o.prototype.render=function(){return c("React").createElement(c("P2PText.react"),{type:"secondary"},c("React").createElement("div",{className:"__8t"},c("React").createElement(c("Image.react"),{src:h("89465")})),c("React").createElement("span",{className:"_2pir"},this.getEncryptedMessage()))};o.propTypes={showPasswordProtected:n.bool};o.defaultProps={showPasswordProtected:false};f.exports=o}),null);
__d("P2PNUXNextButton.react",["fbt","P2PButton.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){return c("React").createElement(c("P2PButton.react"),{label:h._("Next"),onClick:this.props.onNextClick,use:"confirm"})};function l(){i.apply(this,arguments)}l.propTypes={onNextClick:k.func.isRequired};f.exports=l}),null);
__d("P2PNUXFooter.react",["cx","LeftRight.react","P2PEncryptedText.react","P2PNUXNextButton.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){return c("React").createElement(c("LeftRight.react"),null,c("React").createElement("div",{className:"_2pic"},c("React").createElement(c("P2PEncryptedText.react"),null)),c("React").createElement(c("P2PNUXNextButton.react"),{onNextClick:this.props.onNextClick}))};function l(){i.apply(this,arguments)}l.propTypes={onNextClick:k.func.isRequired};f.exports=l}),null);
__d("P2PSendMoneyNUXListItems.react",["fbt","ix","Image.react","P2PListRow.react","P2PText.react","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.renderRow=function(s,t){return c("React").createElement(c("P2PListRow.react"),{offset:this.props.size},c("React").createElement(c("Image.react"),s),c("React").createElement(c("P2PText.react"),{type:"primary"},t))}.bind(this),o}m.prototype.render=function(){var n=this.props.size;return c("React").createElement("div",null,this.renderRow(n==="small"?{height:18,src:i("94401"),width:18}:{height:36,src:i("94400"),width:36},h._("It's FREE to send and receive money.")),this.renderRow(n==="small"?{height:27,src:i("94405"),width:18}:{height:54,src:i("94404"),width:36},h._("Industry-leading security \u2014 password protection, anti-fraud team and more.")),this.renderRow(n==="small"?{height:13,src:i("94403"),width:18}:{height:26,src:i("94402"),width:36},h._("Send money from your debit card to theirs.")))};m.propTypes={offset:l.oneOf(["small","medium"])};m.defaultProps={size:"small"};f.exports=m}),null);
__d("P2PSendMoneyNUXTitleText.react",["fbt","React"],(function a(b,c,d,e,f,g,h){"use strict";function i(){return c("React").createElement("div",null,h._("Send Money to Anyone"))}f.exports=i}),null);
__d("P2PSendMoneyNUXTitle.react",["cx","fbt","P2PSendMoneyNUXTitleText.react","P2PText.react","React"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){return c("React").createElement("div",{className:"_4fz1"},c("React").createElement(c("P2PText.react"),{size:"medium",type:"primary"},c("React").createElement(c("P2PSendMoneyNUXTitleText.react"),null)),c("React").createElement(c("P2PText.react"),{type:"secondary"},i._("Split dinner, pay rent or anything else")))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("P2PSendMoneyNUXContextualDialog.react",["cx","MessengerEnvironment","MessengerContextualDialog.react","P2PLogger","P2PNUXFooter.react","P2PPaymentLoggerEvent","P2PPaymentLoggerEventFlow","P2PSendMoneyNUXListItems.react","P2PSendMoneyNUXTitle.react","React","XUIContextualDialog.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.log=function(r,s){c("P2PLogger").log(r,babelHelpers["extends"]({www_event_flow:c("P2PPaymentLoggerEventFlow").UI_FLOW_P2P_SEND},this.props.loggingData,s))}.bind(this),this.handleNextClick=function(){this.log(c("P2PPaymentLoggerEvent").UI_ACTN_SEND_MONEY_NUX_NEXT_CLICK);this.props.onNextClick()}.bind(this),this.$P2PSendMoneyNUXContextualDialog1=function(r){this.props.onToggle(r)}.bind(this),n}l.prototype.componentDidMount=function(){this.log(c("P2PPaymentLoggerEvent").UI_ACTN_SEND_MONEY_NUX_SHOWN)};l.prototype.render=function(){var m=c("MessengerEnvironment").messengerui?c("MessengerContextualDialog.react"):c("XUIContextualDialog.react");return c("React").createElement(m,{alignment:this.props.flyoutAlignment,context:this.props.context,contextRef:this.props.contextRef,onBlur:function(){return this.$P2PSendMoneyNUXContextualDialog1(false)}.bind(this),onToggle:this.$P2PSendMoneyNUXContextualDialog1,position:this.props.position,shown:true,width:this.props.width},c("React").createElement("div",{className:"_56i7"},c("React").createElement("div",{className:"_56jc"},c("React").createElement(c("P2PSendMoneyNUXTitle.react"),null)),c("React").createElement("div",{className:"_56jd"},c("React").createElement(c("P2PSendMoneyNUXListItems.react"),null)),c("React").createElement(c("P2PNUXFooter.react"),{onNextClick:this.handleNextClick})))};l.propTypes={loggingData:k.object,onNextClick:k.func.isRequired,onToggle:k.func.isRequired,width:k.number};l.defaultProps=function(){var m=c("MessengerEnvironment").messengerui;return{flyoutAlignment:m?"right":"left",position:"above",width:m?286:260}}();f.exports=l}),null);
__d("P2PSendMoneySuccessDialog.react",["fbt","Link.react","React","P2PLinkConstants","P2PSuccessDialog.react","P2PText.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){return c("React").createElement(c("P2PSuccessDialog.react"),{onOKClick:this.props.onClose,title:h._("Payment Sent")},c("React").createElement(c("P2PText.react"),{type:"primary"},h._("When you receive money, it will go on this card too. You can update your card in {Link with text that goes to settings page}.",[h.param("Link with text that goes to settings page",c("React").createElement(c("Link.react"),{target:"_blank",href:c("P2PLinkConstants").settingsWWWURI},h._("Payments Settings")))])))};function l(){i.apply(this,arguments)}l.propTypes={onClose:k.func.isRequired};f.exports=l}),null);
__d("P2PTransferRiskResult",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SUCCESS:"SUCCESS",UNDER_MANUAL_REVIEW:"UNDER_MANUAL_REVIEW",REQUIRE_VERIFICATION:"REQUIRE_VERIFICATION"})}),null);
__d("P2PTransferStore",["Arbiter","P2PActionConstants","ChannelConstants","CurrentUser","CreditCardFormParam","EventEmitter","ImmutableObject","P2PActions","P2PAPI","P2PChannelType","P2PCreditCard","P2PDispatcher","P2PGKValues","P2PNUXRendererUtils","P2PTransferParam","P2PTransferStatus","Set","MercuryThreadInformer"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("MercuryThreadInformer").get(),k=false,l=void 0,m=[],n=void 0,o={},p=false,q=false,r=new(c("Set"))(),s=false,t=0;function u(x,y){if(y)o[y]=new(c("ImmutableObject"))(x)}function v(x,y){if(y)o[y]={error:x}}h=babelHelpers.inherits(w,c("EventEmitter"));i=h&&h.prototype;function w(){i.constructor.call(this);c("Arbiter").subscribe(c("ChannelConstants").getArbiterType(c("P2PChannelType").TRANSFER_STATUS_CHANGED),this.handleChannelTransferStatusChanged.bind(this));j.subscribe("messages-received",this.handleMessageReceived.bind(this));c("P2PDispatcher").register(this.onEventDispatched.bind(this))}w.prototype.onEventDispatched=function(x){__p&&__p();var y=x.data,z=x.type;switch(z){case c("P2PActionConstants").TRANSFERS_UPDATED:this.handleTransfersUpdated(y);this.emit("change");break;case c("P2PActionConstants").TRANSFERS_UPDATED_ERROR:this.handleTransfersUpdatedError(y);this.emit("change");break;case c("P2PActionConstants").NUX_TRANSFERS_UPDATED:this.handleNUXTransfersUpdated(y);this.emit("change");break;case c("P2PActionConstants").TRANSFER_ADDED:this.handleTransferAdded(y);this.emit("change");break;case c("P2PActionConstants").TRANSFER_UPDATED:this.handleTransferUpdated(y);this.emit("change");break;case c("P2PActionConstants").TRANSFER_ACCEPTED:this.handleTransferAccepted();this.emit("change");break;case c("P2PActionConstants").TRANSFER_DECLINED:this.handleTransferDeclined(y);this.emit("change");break;case c("P2PActionConstants").EXTENSIVE_TRANSFER_DETAILS_UPDATED:this.handleTransferWithExtensiveDetails(y);this.emit("change");break}};w.prototype.getAsyncRequestState=function(){return o};w.prototype.handleTransfersUpdated=function(x){__p&&__p();n=null;p=true;var y=[],z=x.map(function(B){__p&&__p();var C={},D=this.getTransferByID(B[c("P2PTransferParam").TRANSFER_ID]),E={};if(B.creditCard){C[c("CreditCardFormParam").CREDENTIAL_ID]=B.creditCard[c("CreditCardFormParam").CREDENTIAL_ID];C[c("CreditCardFormParam").CARD_NUMBER]=B.creditCard[c("CreditCardFormParam").CARD_NUMBER];C[c("CreditCardFormParam").CARD_TYPE]=B.creditCard[c("CreditCardFormParam").CARD_TYPE];B.creditCard=new(c("P2PCreditCard"))(C)}if(D)for(var F in D)E[F]=B[F]!==null?B[F]:D[F];y.push(B[c("P2PTransferParam").TRANSFER_ID]);return new(c("ImmutableObject"))(B,E)}.bind(this)),A=m.filter(function(B){return y.indexOf(B[c("P2PTransferParam").TRANSFER_ID])===-1});m=z.concat(A);m=m.sort(function(B,C){return C.creationTime-B.creationTime})};w.prototype.handleTransfersUpdatedError=function(x){n=x.error;v(x.requestID,x.error)};w.prototype.handleNUXTransfersUpdated=function(x){if(!p)this.handleTransfersUpdated(x)};w.prototype.handleTransferAdded=function(x){__p&&__p();var y=null;u(x,x.requestID);if(x&&x.sender&&x.sender.id===c("CurrentUser").getID())s=true;y=m.filter(function(z){return z[c("P2PTransferParam").TRANSFER_ID]===x[c("P2PTransferParam").TRANSFER_ID]})[0];if(y)return;m.push(new(c("ImmutableObject"))(x));m=m.sort(function(z,A){return A.creationTime-z.creationTime})};w.prototype.handleTransferAddedError=function(x){v(x.requestID,x.errors)};w.prototype.handleChannelTransferStatusChanged=function(x,y){y=y.obj;c("P2PActions").transferUpdated(y)};w.prototype.handleMessageReceived=function(x,y){__p&&__p();for(var z in y)if(Object.prototype.hasOwnProperty.call(y,z)){var A=y[z];for(var B=0;B<A.length;B++)if(A[B].attachments&&A[B].attachments.length){var C=c("P2PNUXRendererUtils").getTransferFromMessage(A[B]);if(C){if(!this.hasReceived()&&C.receiver.id===c("CurrentUser").getID())c("P2PAPI").getBannerStates();c("P2PActions").transferAdded(C);return}}}};w.prototype.handleTransferUpdated=function(x){for(var y=0,z=m.length;y<z;y++)if(m[y][c("P2PTransferParam").TRANSFER_ID]===x[c("P2PTransferParam").TRANSFER_ID])m[y]=c("ImmutableObject").set(m[y],x)};w.prototype.handleTransferAccepted=function(){var x=void 0;for(var y=0,z=m.length;y<z;y++)if(m[y][c("P2PTransferParam").STATUS]===c("P2PTransferStatus").PENDING_RECIPIENT_NUX){x={};x[c("P2PTransferParam").STATUS]=c("P2PTransferStatus").COMPLETED;m[y]=c("ImmutableObject").set(m[y],x)}q=true};w.prototype.handleTransferDeclined=function(x){var y=void 0;for(var z=0,A=m.length;z<A;z++)if(m[z][c("P2PTransferParam").TRANSFER_ID]===x[c("P2PTransferParam").TRANSFER_ID]&&m[z][c("P2PTransferParam").STATUS]===c("P2PTransferStatus").PENDING_RECIPIENT_NUX){y={};y[c("P2PTransferParam").STATUS]=c("P2PTransferStatus").CANCELED_DECLINED;m[z]=c("ImmutableObject").set(m[z],y);break}};w.prototype.handleTransferUpdatedError=function(x){v(x.requestID,x.errors)};w.prototype.getTransferByID=function(x){return m.filter(function(y){return x===y[c("P2PTransferParam").TRANSFER_ID]})[0]};w.prototype.getAll=function(x){if(!k){k=true;c("P2PAPI").getTransactions(x)}return m};w.prototype.getNUXTransfer=function(){var x=m.filter(function(y){return c("P2PNUXRendererUtils").isRecipientActionableStatus(y)})[0];if(!x&&!l&&!k){l=true;c("P2PAPI").getNUXTransactions()}if(x&&!x.currency&&t++<3)c("P2PAPI").getNUXTransactions();return x};w.prototype.hasTransfers=function(){return m.length>0};w.prototype.hasAccepted=function(){return q};w.prototype.hasReceivedFromSender=function(x){for(var y=0,z=m.length;y<z;y++)if(m[y].sender.id===x)return true;return false};w.prototype.hasReceived=function(){for(var x=0,y=m.length;x<y;x++)if(m[x].receiver.id===c("CurrentUser").getID())return true;return false};w.prototype.getTransferFetchError=function(){return n};w.prototype.getTransferWithExtensiveDetailsByID=function(x){if(!r.has(x)){r.add(x);c("P2PAPI").getExtensiveTransferDetailsByID(x)}};w.prototype.handleTransferWithExtensiveDetails=function(x){if(this.getTransferByID(x.transfer_id))this.handleTransferUpdated(x);else this.handleTransferAdded(x)};w.prototype.getAllLocal=function(){return m};w.prototype.hasSentDuringSession=function(){return s};w.prototype.shouldShowSenderNUX=function(){return!c("P2PGKValues").P2PUserAddedCredentialBefore&&!this.hasSentDuringSession()};f.exports=new w()}),null);
__d("P2PUnderManualReviewDialog.react",["fbt","P2PButton.react","P2PDialog.react","P2PDialogBody.react","P2PDialogFooter.react","P2PDialogTitle.react","P2PText.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){return c("React").createElement(c("P2PDialog.react"),{layerHideOnBlur:false,shown:true,width:300},c("React").createElement(c("P2PDialogTitle.react"),{showCloseButton:false},h._("Reviewing Payment Info")),c("React").createElement(c("P2PDialogBody.react"),null,c("React").createElement(c("P2PText.react"),{type:"primary"},h._("For your security, this payment is in review for up to 24 hours. When it's confirmed, it will go through."))),c("React").createElement(c("P2PDialogFooter.react"),null,c("React").createElement(c("P2PButton.react"),{label:h._("OK"),onClick:this.props.onClose,use:"confirm"})))};function l(){i.apply(this,arguments)}l.propTypes={onClose:k.func.isRequired};f.exports=l}),null);
__d("P2PUserEligibilityContainer.react",["immutable","P2PUserEligibilityStore","React","StoreAndPropBasedStateMixin"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("React").PropTypes,i=c("React").createClass({displayName:"P2PUserEligibilityContainer",propTypes:{participants:h.instanceOf(c("immutable").List)},mixins:[c("StoreAndPropBasedStateMixin")(c("P2PUserEligibilityStore"))],statics:{calculateState:function j(k){var l=k.participants,m=void 0,n=void 0;if(l){n=l.map(function(o){return o.userID}).toArray();m=c("P2PUserEligibilityStore").getEligibilityByUserIDs(n)}return{p2pEligibilities:m}}},render:function j(){var k=c("React").Children.only(this.props.children);return c("React").cloneElement(k,{p2pEligibilities:this.state.p2pEligibilities})}});f.exports=i}),null);
__d("P2PVerificationFlowHelper",["AsyncDialog","AsyncRequest","P2PAPI","P2PTransferParam","emptyFunction"],(function a(b,c,d,e,f,g){__p&&__p();var h=null,i=null,j=null,k={startVerificationFlow:function l(m,n,o){h=m;i=n;j=o||c("emptyFunction");c("AsyncDialog").send(new(c("AsyncRequest"))("/p2p/verify/dialog/?id="+m))},setupFlowExitHandler:function l(m,n,o,p){__p&&__p();var q=function q(t){j(t);h=null;i=null;j=null;m.destroy();n.destroy()};if(o)m.subscribe("hide",function(){q(p)});else{var r=false,s=false;m.subscribe("confirm",function(){r=true});m.subscribe("hide",function(){if(r){m.destroy();n.destroy()}else if(i)n.show();else q(false)});n.subscribe("confirm",function(){s=true;var t={};t[c("P2PTransferParam").TRANSFER_ID]=h;c("P2PAPI").cancelTransaction({formData:t});q(false)});n.subscribe("hide",function(){if(!s)m.show()})}}};f.exports=k}),null);
__d("PaymentStepType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NUX_INTRO:"NUX_INTRO",IDV:"IDV",CREATE_PIN:"CREATE_PIN",ENTER_AMOUNT:"ENTER_AMOUNT",ADD_PAYMENT_METHOD:"ADD_PAYMENT_METHOD",AUTH:"AUTH",SETUP_COMPLETE:"SETUP_COMPLETE",RECEIPT:"RECEIPT",FORM:"FORM",IDV_PENDING:"IDV_PENDING"})}),null);
__d("PeerToPeerFlowOrigin",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SEND:"SEND",RECEIVE_BUBBLE:"RECEIVE_BUBBLE",RECEIVE_NOTIFICATION:"RECEIVE_NOTIFICATION"})}),null);
__d("P2PSendMoneyButton.react",["fbt","AllPaymentTypeFields","FBPaymentsVerificationFlowContainer.react","immutable","MessengerEnvironment","P2PAbstractSendMoneyButton.react","P2PActions","P2PErrorDialog.react","P2PGKValues","P2PGroupSendDialog.react","P2PGroupSendParticipantsPickerDialog.react","P2PLogger","P2PPasswordProtectionNUXDialog.react","P2PPasswordProtectionStatusTypes","P2PPaymentLoggerEvent","P2PPaymentLoggerEventFlow","P2PPaymentPhasesQueryWebGraphQLQuery","P2PPaymentSupportedCountry","P2PSendMoneyDialog.react","P2PSendMoneyNUXContextualDialog.react","P2PSendMoneySuccessDialog.react","P2PTransferParam","P2PTransferRiskResult","P2PTransferStore","P2PUnderManualReviewDialog.react","P2PUserEligibilityContainer.react","P2PVerificationFlowHelper","PaymentStepType","PECurrency","PeerToPeerFlowOrigin","React","ReactDOM","ReactLayeredComponentMixin_DEPRECATED","UserVerificationProductType","WebGraphQL","emptyFunction","idx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("React").PropTypes,j=c("React").createClass({displayName:"P2PSendMoneyButton",mixins:[c("ReactLayeredComponentMixin_DEPRECATED")],propTypes:{amount:i.string,button:i.object,groupSendRecipientUserIDs:i.arrayOf(i.string),groupThreadFBID:i.string,flyoutAlignment:i.string,openRequestTab:i.bool,isNewEmptyLocalThread:i.bool,isGroupChat:i.bool,onCompletion:i.func,onTrigger:i.func,p2pPaymentConfig:i.shape({currencyCode:i.string.isRequired,enabledActions:i.object.isRequired,enabledPaymentMethods:i.object.isRequired,maxTransferAmount:i.number.isRequired,title:i.string,use_payment_module_method_picker:i.bool,countryCode:i.string.isRequired,postalRegex:i.string.isRequired}),participants:i.instanceOf(c("immutable").List),platformData:i.object,sendMoneyDialogShown:i.bool,threadID:i.string,threadFBID:i.string},getDefaultProps:function k(){return{amount:"",groupThreadFBID:"",openRequestTab:false,onTrigger:c("emptyFunction"),sendMoneyDialogShown:false}},getInitialState:function k(){return{sendMoneyNUXDismissed:false,passedIDVerification:false}},log:function k(l,m){c("P2PLogger").log(l,babelHelpers["extends"]({www_event_flow:c("P2PPaymentLoggerEventFlow").UI_FLOW_P2P_SEND},m))},canShowSendMoneyDialog:function k(){return!!(this.props.participants&&this.props.participants.size)},originalCreateTransactionResponse:null,_onButtonClick:function k(){var l=this.getRecipients();this.log(c("P2PPaymentLoggerEvent").UI_ACTN_SEND_MONEY_BUTTON_CLICKED,this.getLogData(l));this.canShowSendMoneyDialog()&&this.showSendMoneyDialog()},showIDVerificationDialog:function k(){c("P2PActions").showDialog(c("FBPaymentsVerificationFlowContainer.react"),{onClose:c("P2PActions").hideDialog,paymentType:c("AllPaymentTypeFields").MOR_P2P_TRANSFER,verificationProductType:c("UserVerificationProductType").P2P})},hideSendMoneyDialog:function k(){c("P2PActions").chatSendViewClosed({threadID:this.props.threadID})},showSendMoneyDialog:function k(){c("P2PActions").chatSendViewOpened({referrer:this.props.referrer,threadID:this.props.threadID})},_handleDialogToggle:function k(l){if(!l)this.hideSendMoneyDialog();else this.showSendMoneyDialog()},handlePaymentRequestSuccess:function k(){this.hideSendMoneyDialog();this.props.onTrigger();this.props.onCompletion&&this.props.onCompletion()},handleOnSendSuccess:function k(l){this.hideSendMoneyDialog();var m=l[c("P2PTransferParam").RISK_RESULT];this.originalCreateTransactionResponse=l;if(m===c("P2PTransferRiskResult").REQUIRE_VERIFICATION)c("P2PVerificationFlowHelper").startVerificationFlow(l.id,true,this.handleVerificationCompleted);else if(m===c("P2PTransferRiskResult").UNDER_MANUAL_REVIEW)this.showUnderManualReviewDialog();else this.handlePostSendSteps(false)},handleVerificationCompleted:function k(l){this.handlePostSendSteps(!l)},handlePostSendSteps:function k(l){__p&&__p();var m=this.originalCreateTransactionResponse,n=m.passwordProtection===c("P2PPasswordProtectionStatusTypes").NOT_SET;if(!l&&m.isFirstSend){this._passwordNUXPending=n;this.showSendSuccessDialog()}else if(n)this.showPasswordProtectionDialog();else c("P2PActions").hideDialog();this.originalCreateTransactionResponse=null;this.props.onTrigger();this.props.onCompletion&&this.props.onCompletion()},handleConfirmationOKClick:function k(){if(this._passwordNUXPending){this._passwordNUXPending=false;this.showPasswordProtectionDialog()}else c("P2PActions").hideDialog()},handleSendError:function k(l){this.showErrorDialog(l)},handlePaymentRequestError:function k(l){this.showPaymentRequestErrorDialog(l)},getGroupSendDialog:function k(){if(c("P2PGKValues").P2PGroupRequestEnabled)return c("P2PGroupSendParticipantsPickerDialog.react");return c("P2PGroupSendDialog.react")},getLogData:function k(l){if(l.size>1)return{object_ids:l.map(function(m){return m.userID}).join(",")};var m=l.get(0);return{object_id:m&&m.userID}},getMoneyButtonNode:function k(){return c("ReactDOM").findDOMNode(this.refs.p2pSendMoneyButton)},getRecipients:function k(){if(!this.props.participants)return c("immutable").List();if(!this.props.isGroupChat)return this.props.participants.slice(0,1);var l=this.props.groupSendRecipientUserIDs||[],m=l.reduce(function(n,o){n[o]=true;return n},{});return this.props.participants.filter(function(n){return!!m[n.userID]})},setGroupSendDialog:function k(l,m){var n=this.getGroupSendDialog();l.groupSendMoneyDialog=c("React").createElement(c("P2PUserEligibilityContainer.react"),{participants:this.props.participants},c("React").createElement(n,{amount:this.props.amount,context:this.getMoneyButtonNode(),flyoutAlignment:this.props.flyoutAlignment,openRequestTab:this.props.openRequestTab,currency:m,onToggle:this._handleDialogToggle,participants:this.props.participants,referrer:this.props.referrer,threadID:this.props.threadID,threadFBID:this.props.threadFBID}))},getGroupSendRecipient:function k(){return this.props.participants&&this.props.participants.find(function(l){return l.userID===this.props.groupSendRecipientUserID}.bind(this))},showErrorDialog:function k(l){var m=h._("Problem Sending Money");c("P2PActions").showDialog(c("P2PErrorDialog.react"),{error:l,onOKClick:c("P2PActions").hideDialog,title:m})},showPaymentRequestErrorDialog:function k(l){var m=h._("Problem Requesting Money");c("P2PActions").showDialog(c("P2PErrorDialog.react"),{error:l,onOKClick:c("P2PActions").hideDialog,title:m})},showPasswordProtectionDialog:function k(){c("P2PActions").showDialog(c("P2PPasswordProtectionNUXDialog.react"),{onComplete:c("P2PActions").hideDialog})},showSendSuccessDialog:function k(){c("P2PActions").showDialog(c("P2PSendMoneySuccessDialog.react"),{onClose:this.handleConfirmationOKClick})},showUnderManualReviewDialog:function k(){c("P2PActions").showDialog(c("P2PUnderManualReviewDialog.react"),{onClose:this.handlePostSendSteps.bind(this,false)})},shouldShowNUX:function k(){return!this.props.sendMoneyNUXDismissed&&!this.state.sendMoneyNUXDismissed&&c("P2PTransferStore").shouldShowSenderNUX()},shouldShowIDVerification:function k(l){__p&&__p();var m,n=(m=l)!=null?(m=m.viewer)!=null?(m=m.peer_to_peer_payments)!=null?m.peer_to_peer_payment_phases:m:m:m;if(n){var o=n.some(function(p){var q=p.steps||[];return q.map(function(r){return r.step_type}).includes(c("PaymentStepType").IDV)});if(!o)this.setState({passedIDVerification:true});return o}return false},handleIDVerification:function k(l){__p&&__p();var m;if(this.state.passedIDVerification)l();var n=(m=this.props.p2pPaymentConfig)!=null?m.countryCode:m;if(n===c("P2PPaymentSupportedCountry").GB||n===c("P2PPaymentSupportedCountry").FR)c("WebGraphQL").exec(new(c("P2PPaymentPhasesQueryWebGraphQLQuery"))({origin:c("PeerToPeerFlowOrigin").SEND})).done(function(o){if(this.shouldShowIDVerification(o)){this.hideSendMoneyDialog();this.showIDVerificationDialog()}else l()}.bind(this));else l()},renderLayers:function k(){__p&&__p();if(!this.props.p2pPaymentConfig)return null;var l={},m=this.getRecipients();if(this.canShowSendMoneyDialog()&&this.props.sendMoneyDialogShown)if(this.shouldShowNUX())l.nux=c("React").createElement(c("P2PSendMoneyNUXContextualDialog.react"),{context:this.getMoneyButtonNode(),loggingData:this.getLogData(m),flyoutAlignment:this.props.flyoutAlignment,onNextClick:function(){return this.handleIDVerification(function(){return this.setState({sendMoneyNUXDismissed:true})}.bind(this))}.bind(this),onToggle:this._handleDialogToggle});else this.handleIDVerification(function(){return this.setSendDialog(l)}.bind(this));return l},setSendDialog:function k(l){var m=this.getRecipients(),n=this.props.p2pPaymentConfig.currencyCode;if(!m.size&&!this.props.groupSendRecipientUserID&&this.props.isGroupChat&&this.props.threadFBID)this.setGroupSendDialog(l,n);else{var o=c("PECurrency").getCurrencySymbol(n)||"$";l.sendMoneyDialog=c("React").createElement(c("P2PUserEligibilityContainer.react"),{participants:this.props.participants,ref:"send_money_dialog"},c("React").createElement(c("P2PSendMoneyDialog.react"),{amount:this.props.amount,context:this.getMoneyButtonNode(),currency:n,currencySymbol:o,groupThreadFBID:this.props.groupThreadFBID,flyoutAlignment:this.props.flyoutAlignment,openRequestTab:this.props.openRequestTab,memoText:this.props.memoText,onToggle:this._handleDialogToggle,onError:this.handleSendError,onPaymentRequestError:this.handlePaymentRequestError,onPaymentRequestSuccess:this.handlePaymentRequestSuccess,onSendSuccess:this.handleOnSendSuccess,p2pPaymentConfig:this.props.p2pPaymentConfig,platformData:this.props.platformData,receivers:m,ref:"send_money_dialog",referrer:this.props.referrer,paymentRequestID:this.props.paymentRequestID,useModal:this.props.useModal}))}},render:function k(){if(this.props.isNewEmptyLocalThread&&this.props.participants.size>1)return null;if(!this.props.p2pPaymentConfig)return null;return c("React").createElement(c("P2PAbstractSendMoneyButton.react"),{button:this.props.button,className:this.props.className,isActive:this.canShowSendMoneyDialog()&&this.props.sendMoneyDialogShown,isMessenger:!!c("MessengerEnvironment").messengerui,onClick:this._onButtonClick,ref:"p2pSendMoneyButton"})}});f.exports=j}),null);
__d("P2PSendMoneyContainer.react",["CurrentUser","immutable","ImmutableObject","MercuryIDs","MercuryParticipants","MercuryShareAttachmentRenderLocations","MercuryThreads","P2PSendMoneyButton.react","P2PSendMoneyDialogStore","React","StoreAndPropBasedStateMixin"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("React").PropTypes,i=c("React").createClass({displayName:"P2PSendMoneyContainer",propTypes:{button:h.node,className:h.string,flyoutAlignment:h.string,p2pPaymentConfig:h.object,participantIDs:h.array,onCompletion:h.func,onTrigger:h.func,threadID:h.string},getDefaultProps:function j(){return{referrer:c("MercuryShareAttachmentRenderLocations").CHAT}},mixins:[c("StoreAndPropBasedStateMixin")(c("MercuryParticipants"),c("MercuryThreads"),c("P2PSendMoneyDialogStore"))],statics:{calculateState:function j(k){__p&&__p();var l=k.threadID,m=null,n=k.participantIDs,o=null,p=null,q=void 0,r=void 0,s=k.referrer;if(!l)return{};q=c("P2PSendMoneyDialogStore").getStateByThreadID(l);r=q&&q.referrer;if(l){m=c("MercuryThreads").getForFBID(c("CurrentUser").getID()).getOrFetch(l);if(!n&&m&&m.participants)n=m.participants.filter(function(t){return c("CurrentUser").getID()!==c("MercuryIDs").getUserIDFromParticipantID(t)});if(n){o=c("immutable").List();o=o.withMutations(function(t){n&&n.forEach(function(u){var v=c("MercuryParticipants").getOrFetch(u),w=c("MercuryIDs").getUserIDFromParticipantID(u);v=v&&c("ImmutableObject").set(v,{userID:w});if(v)t.push(v)})})}}p=c("MercuryThreads").get().isNewEmptyLocalThread(l);return babelHelpers["extends"]({},q,{participants:o,isNewEmptyLocalThread:p,isGroupChat:c("MercuryIDs").isGroupChat(l)&&!p,threadID:l,threadFBID:m&&m.thread_fbid,referrer:r||s})}},render:function j(){return c("React").createElement(c("P2PSendMoneyButton.react"),babelHelpers["extends"]({},this.state,{button:this.props.button,className:this.props.className,flyoutAlignment:this.props.flyoutAlignment,onTrigger:this.props.onTrigger,p2pPaymentConfig:this.props.p2pPaymentConfig}))}});f.exports=i}),null);