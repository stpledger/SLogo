if (self.CavalryLogger) { CavalryLogger.start_js(["NStW8"]); }

__d("ChannelConnection",["Arbiter","ChannelConstants","ChannelManager","JSLogger","Run","SystemEvents","Visibility","setTimeoutAcrossTransitions"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("JSLogger").create("channel_connection"),i=null,j=null,k=null,l=null,m=0;c("ChannelManager").startChannelManager();var n=Object.assign(new(c("Arbiter"))(),{CONNECTED:"chat-connection/connected",RECONNECTING:"chat-connection/reconnecting",SHUTDOWN:"chat-connection/shutdown",MUTE_WARNING:"chat-connection/mute",UNMUTE_WARNING:"chat-connection/unmute"});c("Run").onBeforeUnload(function(){});function o(){if(j){clearTimeout(j);j=null}}function p(){o();h.log("unmute_warning");n.inform(n.UNMUTE_WARNING)}function q(v){o();j=c("setTimeoutAcrossTransitions")(p,v);h.log("mute_warning",{time:v});n.inform(n.MUTE_WARNING)}function r(){if(k){clearTimeout(k);k=null}}function s(v,w){__p&&__p();r();if(v===c("ChannelConstants").ON_ENTER_STATE&&(w.nextState||w.state)==="pull"){if(l!==n.CONNECTED){h.log("connected");var x=!l;l=n.CONNECTED;m=0;n.inform(n.CONNECTED,{init:x})}}else if(v===c("ChannelConstants").ON_ENTER_STATE&&((w.nextState||w.state)==="ping"||!w.nextState&&w.state==="idle"))k=c("setTimeoutAcrossTransitions")(function(){__p&&__p();var y=null;if(!(w.state==="idle"&&!w.nextState))y=w.delay||0;h.log("reconnecting",{delay:y});if(n.disconnected())h.log("reconnecting_ui",{delay:y});l=n.RECONNECTING;w.state==="idle"&&m++;if(m>1)n.inform(n.RECONNECTING,y);else if(!w.nextState&&w.state==="idle")s(v,w)},500);else if(v===c("ChannelConstants").ON_SHUTDOWN){h.log("shutdown",{reason:w.reason});l=n.SHUTDOWN;m=0;n.inform(n.SHUTDOWN,w.reason)}}function t(){if(c("ChannelManager").isShutdown())s(c("ChannelConstants").ON_SHUTDOWN,c("ChannelManager")._shutdownHint);else s(c("ChannelConstants").ON_ENTER_STATE,{state:c("ChannelManager").state,nextState:c("ChannelManager").nextState,delay:0});c("Visibility").addListener(c("Visibility").VISIBLE,n.reconnect)}c("Run").onAfterLoad(t);Object.assign(n,{disconnected:function v(){return l===n.SHUTDOWN||l===n.RECONNECTING&&!j&&m>1},isShutdown:function v(){return l===n.SHUTDOWN},reconnect:function v(w){__p&&__p();if(c("ChannelManager").state==="ping"||c("ChannelManager").state==="pull"||c("ChannelManager").isShutdown())return;h.log("reconnect",{now:w});n.inform(n.RECONNECTING,0);if(!!w){if(i!==null){clearTimeout(i);i=null}c("ChannelManager").enterState("ping!")}else if(!i)i=c("setTimeoutAcrossTransitions")(function(){c("ChannelManager").enterState("ping!");i=null},c("ChannelConstants").CHANNEL_MANUAL_RECONNECT_DEFER_MSEC);c("ChannelManager").resetDelay()},unmuteWarning:p});function u(){c("Arbiter").subscribe([c("ChannelConstants").ON_ENTER_STATE,c("ChannelConstants").ON_SHUTDOWN],s);c("Arbiter").subscribe(c("ChannelConstants").ATTEMPT_RECONNECT,function(){if(n.disconnected())n.reconnect()});c("SystemEvents").subscribe(c("SystemEvents").TIME_TRAVEL,function(){n.reconnect();q(c("ChannelConstants").MUTE_WARNING_TIME_MSEC)});c("Run").onBeforeUnload(r,false)}c("Run").onAfterLoad(u);n.mockAfterLoad=function(){t();u()};c("Arbiter").subscribe(c("JSLogger").DUMP_EVENT,function(v,w){w.channel_connected=!n.disconnected()});f.exports=n}),3);
__d("BanzaiLooper",["Banzai"],(function a(b,c,d,e,f,g){var h={retry:true};function i(k,l){c("Banzai").post("banzai_looper:"+k,l,h)}var j={labelBinaryClassificationExample:function k(l){i("binary_classification_example",babelHelpers["extends"]({operation:"label"},l))}};f.exports=j}),null);
__d("NotificationJewelPerformanceTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:NotificationJewelPerformanceLoggerConfig",this.$NotificationJewelPerformanceTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:NotificationJewelPerformanceLoggerConfig",this.$NotificationJewelPerformanceTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$NotificationJewelPerformanceTypedLogger1={};return this};h.prototype.getData=function(){return babelHelpers["extends"]({},this.$NotificationJewelPerformanceTypedLogger1)};h.prototype.updateData=function(j){this.$NotificationJewelPerformanceTypedLogger1=babelHelpers["extends"]({},this.$NotificationJewelPerformanceTypedLogger1,j);return this};h.prototype.setBadgeCurrentCount=function(j){this.$NotificationJewelPerformanceTypedLogger1.badge_current_count=j;return this};h.prototype.setBadgeInitialCount=function(j){this.$NotificationJewelPerformanceTypedLogger1.badge_initial_count=j;return this};h.prototype.setClientSessionID=function(j){this.$NotificationJewelPerformanceTypedLogger1.client_session_id=j;return this};h.prototype.setClientTimestamp=function(j){this.$NotificationJewelPerformanceTypedLogger1.client_timestamp=j;return this};h.prototype.setEagerLoadTriggerAndDelay=function(j){this.$NotificationJewelPerformanceTypedLogger1.eager_load_trigger_and_delay=j;return this};h.prototype.setEventName=function(j){this.$NotificationJewelPerformanceTypedLogger1.event_name=j;return this};h.prototype.setJewelName=function(j){this.$NotificationJewelPerformanceTypedLogger1.jewel_name=j;return this};h.prototype.setVC=function(j){this.$NotificationJewelPerformanceTypedLogger1.vc=j;return this};var i={badge_current_count:true,badge_initial_count:true,client_session_id:true,client_timestamp:true,eager_load_trigger_and_delay:true,event_name:true,jewel_name:true,vc:true};f.exports=h}),null);
__d("JewelLogger",["BanzaiLooper","EventProfiler","NotificationJewelPerformanceTypedLogger","NotificationListConfig"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("BanzaiLooper").labelBinaryClassificationExample,k=c("NotificationListConfig").sessionID;h=babelHelpers.inherits(l,c("NotificationJewelPerformanceTypedLogger"));i=h&&h.prototype;function l(t){i.constructor.call(this);if(!l.$JewelTypedLoggerWithSession1[t])l.$JewelTypedLoggerWithSession1[t]={};this.$JewelTypedLoggerWithSession2=t}l.prototype.setEventName=function(t){this.$JewelTypedLoggerWithSession3=t;return i.setEventName.call(this,t)};l.prototype.log=function(){if(!l.$JewelTypedLoggerWithSession1[this.$JewelTypedLoggerWithSession2][this.$JewelTypedLoggerWithSession3]){l.$JewelTypedLoggerWithSession1[this.$JewelTypedLoggerWithSession2][this.$JewelTypedLoggerWithSession3]=true;this.setClientSessionID(k);this.setJewelName(this.$JewelTypedLoggerWithSession2);i.log.call(this)}};l.$JewelTypedLoggerWithSession1={};function m(t){if(t.jewelName==="notifications"&&t.eventName==="list_populated")s("notifications",t.timestamp);new l(t.jewelName).setEventName(t.eventName).setClientTimestamp(t.timestamp).log()}function n(t){var u=t.trigger,v=t.eagerLoadDelayInMs,w=babelHelpers.objectWithoutProperties(t,["trigger","eagerLoadDelayInMs"]),x=u+":"+v;new l(t.jewelName).setEventName(w.eventName).setClientTimestamp(w.timestamp).setEagerLoadTriggerAndDelay(x).log()}var o={logDataEagerLoad:function t(u){if(u.eventName==="data_eager_load_trigger")n(u);else m(u)},logJsBootload:function t(u){if(u.eventName==="js_bootload_trigger")n(u);else m(u)},logFirstJewelClick:function t(u){r(u.jewelName,u.timestamp);new l(u.jewelName).setEventName("first_jewel_click").setClientTimestamp(u.timestamp).setBadgeInitialCount(u.badgeInitialCount).setBadgeCurrentCount(u.badgeCurrentCount).log();if(u.jewelName==="notifications")j({trace:k,loopName:"notifications_jewel_click",label:"positive"})},logJewelInitialize:function t(u){new l(u.jewelName).setEventName("jewel_initialize").setBadgeInitialCount(u.badgeInitialCount).log();if(u.jewelName==="notifications")j({trace:k,loopName:"notifications_jewel_click",label:"tentatively_negative"})},logJewelListComponentEvent:m},p={notifications:["Notifications_Jewel_Button"]},q={};function r(t,u){if(!p[t]||!window.performance||!performance.timing||!performance.timing.navigationStart)return;u+=performance.timing.navigationStart;var v=c("EventProfiler").markManualStart(p[t],"click",u);if(q[t]&&q[t].end)v.markManualEnd(q[t].end);else q[t]={instrumentation:v}}function s(t,u){if(!window.performance||!performance.timing||!performance.timing.navigationStart)return;u+=performance.timing.navigationStart;if(q[t]&&q[t].instrumentation)q[t].instrumentation.markManualEnd(u);else q[t]={end:u}}f.exports=o}),null);
__d("ChatSidebarComposeLink.react",["fbt","ChatOpenTabEventLogger","FantaTabActions","Link.react","MercuryThreads","React","TooltipData"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("MercuryThreads").get();i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(m){j.constructor.call(this,m)}l.prototype.render=function(){var m=h._("New Message");return c("React").createElement(c("Link.react"),babelHelpers["extends"]({className:this.props.className,href:"#",onClick:this.$ChatSidebarComposeLink1},c("TooltipData").propsFor(m,"below")))};l.prototype.$ChatSidebarComposeLink1=function(m){var n=k.createNewLocalThreadGenerateID();c("FantaTabActions").openTab(n,"compose_link");c("ChatOpenTabEventLogger").logClickOpen("sidebar",n);m.preventDefault()};f.exports=l}),null);
__d("performanceNowNoFallback",["performance"],(function a(b,c,d,e,f,g){f.exports=c("performance").now?function(){return c("performance").now()}:null}),null);